<mat-progress-bar
  *ngIf="'default' | swIsLoading | async"
  mode="indeterminate"
  color="warn"
  style="position: absolute; top: 0; z-index: 100"
>
</mat-progress-bar>

<router-outlet></router-outlet>

<mat-toolbar color="primary">
  <a class="title" href="/">{{ title }}</a>

  <div class="toolbar-spacer"></div>

  <button mat-button *ngIf="authenticated" (click)="editProfile()">
    Edit Profile
  </button>
  <button mat-raised-button *ngIf="!authenticated" (click)="login()">
    Login
  </button>
  <button
    mat-raised-button
    color="accent"
    *ngIf="authenticated"
    (click)="logout()"
  >
    Logout
  </button>
</mat-toolbar>
<div class="container">
  <!--This is to avoid reload during acquireTokenSilent() because of hidden iframe -->
  <router-outlet *ngIf="!isIframe"></router-outlet>
</div>

<footer *ngIf="authenticated">
  <mat-toolbar>
    <div class="footer-text">Perma Questionnaire</div>
  </mat-toolbar>
</footer>
