<mat-progress-bar
  *ngIf="isLoading | async"
  mode="indeterminate"
  color="warn"
  style="position: absolute; top: 0; z-index: 100"
>
</mat-progress-bar>
<ng-container *ngIf="this.MemberDetails$ | async as MemberDetails">
  <div @fadeInUp class="card" fxFlex="auto">
    <div class="px-6 py-4 border-b" fxLayout="row" fxLayoutAlign="start center">
      <h2 class="title m-0">
        {{ MemberDetails.memberName }} [{{ MemberDetails.memberNumber }}] -
        Member Details
      </h2>
    </div>

    <div class="px-6 py-0" fxLayout="column">
      <mat-form-field>
        <mat-label>Member</mat-label>
        <input
          matInput
          maxlength="250"
          required
          [(ngModel)]="MemberDetails.memberName"
        />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Company</mat-label>
        <input
          matInput
          required
          maxlength="200"
          [(ngModel)]="MemberDetails.companyName"
        />
      </mat-form-field>
      <mat-form-field>
        <mat-label> Member Status</mat-label>

        <mat-select [(ngModel)]="MemberDetails.memberStatus">
          <mat-option value="Active">Active</mat-option>
          <mat-option value="Inactive">Inactive</mat-option>
          <mat-option value="Prospect">Prospect</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Type of Organization</mat-label>

        <mat-select [(ngModel)]="MemberDetails.organizationType">
          <mat-option value="Public">Public</mat-option>
          <mat-option value="Private">Private</mat-option>
          <mat-option value="Not for Profit">Not for Profit</mat-option>
          <mat-option value="Governmental">Governmental</mat-option>
        </mat-select>
      </mat-form-field>
      <h3>Address Information</h3>
      <mat-form-field>
        <mat-label>Address</mat-label>
        <input
          matInput
          required
          maxlength="300"
          [(ngModel)]="MemberDetails.address1"
        />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Address 2</mat-label>
        <input
          matInput
          required
          maxlength="300"
          [(ngModel)]="MemberDetails.address2"
        />
      </mat-form-field>
      <div
        fxLayout="row"
        fxLayout.lt-sm="column"
        fxLayoutGap="16px"
        fxLayoutGap.lt-sm="0"
      >
        <mat-form-field fxFlex="auto">
          <mat-label>City</mat-label>
          <input
            matInput
            required
            maxlength="200"
            [(ngModel)]="MemberDetails.city"
          />
        </mat-form-field>
        <mat-form-field fxFlex="auto">
          <mat-label>State</mat-label>
          <mat-select [(ngModel)]="MemberDetails.state">
            <mat-option value="AL">Alabama</mat-option>
            <mat-option value="AK">Alaska</mat-option>
            <mat-option value="AZ">Arizona</mat-option>
            <mat-option value="AR">Arkansas</mat-option>
            <mat-option value="CA">California</mat-option>
            <mat-option value="CO">Colorado</mat-option>
            <mat-option value="CT">Connecticut</mat-option>
            <mat-option value="DE">Delaware</mat-option>
            <mat-option value="DC">District Of Columbia</mat-option>
            <mat-option value="FL">Florida</mat-option>
            <mat-option value="GA">Georgia</mat-option>
            <mat-option value="HI">Hawaii</mat-option>
            <mat-option value="ID">Idaho</mat-option>
            <mat-option value="IL">Illinois</mat-option>
            <mat-option value="IN">Indiana</mat-option>
            <mat-option value="IA">Iowa</mat-option>
            <mat-option value="KS">Kansas</mat-option>
            <mat-option value="KY">Kentucky</mat-option>
            <mat-option value="LA">Louisiana</mat-option>
            <mat-option value="ME">Maine</mat-option>
            <mat-option value="MD">Maryland</mat-option>
            <mat-option value="MA">Massachusetts</mat-option>
            <mat-option value="MI">Michigan</mat-option>
            <mat-option value="MN">Minnesota</mat-option>
            <mat-option value="MS">Mississippi</mat-option>
            <mat-option value="MO">Missouri</mat-option>
            <mat-option value="MT">Montana</mat-option>
            <mat-option value="NE">Nebraska</mat-option>
            <mat-option value="NV">Nevada</mat-option>
            <mat-option value="NH">New Hampshire</mat-option>
            <mat-option value="NJ">New Jersey</mat-option>
            <mat-option value="NM">New Mexico</mat-option>
            <mat-option value="NY">New York</mat-option>
            <mat-option value="NC">North Carolina</mat-option>
            <mat-option value="ND">North Dakota</mat-option>
            <mat-option value="OH">Ohio</mat-option>
            <mat-option value="OK">Oklahoma</mat-option>
            <mat-option value="OR">Oregon</mat-option>
            <mat-option value="PA">Pennsylvania</mat-option>
            <mat-option value="RI">Rhode Island</mat-option>
            <mat-option value="SC">South Carolina</mat-option>
            <mat-option value="SD">South Dakota</mat-option>
            <mat-option value="TN">Tennessee</mat-option>
            <mat-option value="TX">Texas</mat-option>
            <mat-option value="UT">Utah</mat-option>
            <mat-option value="VT">Vermont</mat-option>
            <mat-option value="VA">Virginia</mat-option>
            <mat-option value="WA">Washington</mat-option>
            <mat-option value="WV">West Virginia</mat-option>
            <mat-option value="WI">Wisconsin</mat-option>
            <mat-option value="WY">Wyoming</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field fxFlex="auto">
          <mat-label>Zip</mat-label>
          <input
            matInput
            required
            maxlength="50"
            [(ngModel)]="MemberDetails.zip"
          />
        </mat-form-field>
      </div>
    </div>

    <div class="px-6 py-0" fxLayout="column">
      <h3>Phone Details</h3>
      <mat-form-field>
        <mat-label>Phone</mat-label>
        <input
          matInput
          required
          maxlength="50"
          [(ngModel)]="MemberDetails.phone"
        />
        <mat-icon [icIcon]="icSmartphone" class="mr-2" matPrefix></mat-icon>
      </mat-form-field>
    </div>
    <div
      class="px-6 py-0"
      fxLayout="column"
      fxLayoutGap="16px"
      fxLayoutGap.lt-sm="0"
    >
      <mat-form-field>
        <mat-label>Website</mat-label>
        <input
          matInput
          required
          maxlength="250"
          [(ngModel)]="MemberDetails.website"
        />
        <mat-icon [icIcon]="icweb" class="mr-2" matPrefix></mat-icon>
      </mat-form-field>
    </div>

    <div class="px-6 py-0" fxLayout="column" fxLayoutGap.lt-sm="0">
      <h3>Member Hiearchy</h3>
      <mat-checkbox
        [checked]="noParentMember"
        (change)="updateParentMember(noParentMember, $event)"
        >No Parent Member</mat-checkbox
      >
    </div>
    <div class="px-6 py-0" fxLayout="column" fxLayoutGap.lt-sm="0">
      <mat-form-field>
        <mat-label>Parent Member</mat-label>

        <mat-select
          [(ngModel)]="MemberDetails.parentMember"
          [compareWith]="parentComparisonFunction"
          (selectionChange)="onParentMemberChange($event)"
        >
          <mat-option
            *ngFor="let member of availableMembers"
            value="{{ member.memberId }}"
          >
            {{ member.memberName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <h3>Member Registration</h3>
      <mat-form-field>
        <mat-label>Start Date</mat-label>

        <mat-form-field>
          <mat-label>Select your date</mat-label>
          <input
            (click)="formDatepickerRef.open()"
            (focus)="formDatepickerRef.open()"
            [matDatepicker]="formDatepickerRef"
            [(ngModel)]="MemberDetails.startDate"
            matInput
            readonly
          />
          <mat-datepicker-toggle
            [for]="formDatepickerRef"
            matSuffix
          ></mat-datepicker-toggle>
          <mat-hint>The start date of the member</mat-hint>
          <mat-datepicker #formDatepickerRef></mat-datepicker>
        </mat-form-field>
      </mat-form-field>

      <mat-form-field>
        <mat-label>State of Incorporation</mat-label>

        <mat-select [(ngModel)]="MemberDetails.stateofIncorporation">
          <mat-option value="AL">Alabama</mat-option>
          <mat-option value="AK">Alaska</mat-option>
          <mat-option value="AZ">Arizona</mat-option>
          <mat-option value="AR">Arkansas</mat-option>
          <mat-option value="CA">California</mat-option>
          <mat-option value="CO">Colorado</mat-option>
          <mat-option value="CT">Connecticut</mat-option>
          <mat-option value="DE">Delaware</mat-option>
          <mat-option value="DC">District Of Columbia</mat-option>
          <mat-option value="FL">Florida</mat-option>
          <mat-option value="GA">Georgia</mat-option>
          <mat-option value="HI">Hawaii</mat-option>
          <mat-option value="ID">Idaho</mat-option>
          <mat-option value="IL">Illinois</mat-option>
          <mat-option value="IN">Indiana</mat-option>
          <mat-option value="IA">Iowa</mat-option>
          <mat-option value="KS">Kansas</mat-option>
          <mat-option value="KY">Kentucky</mat-option>
          <mat-option value="LA">Louisiana</mat-option>
          <mat-option value="ME">Maine</mat-option>
          <mat-option value="MD">Maryland</mat-option>
          <mat-option value="MA">Massachusetts</mat-option>
          <mat-option value="MI">Michigan</mat-option>
          <mat-option value="MN">Minnesota</mat-option>
          <mat-option value="MS">Mississippi</mat-option>
          <mat-option value="MO">Missouri</mat-option>
          <mat-option value="MT">Montana</mat-option>
          <mat-option value="NE">Nebraska</mat-option>
          <mat-option value="NV">Nevada</mat-option>
          <mat-option value="NH">New Hampshire</mat-option>
          <mat-option value="NJ">New Jersey</mat-option>
          <mat-option value="NM">New Mexico</mat-option>
          <mat-option value="NY">New York</mat-option>
          <mat-option value="NC">North Carolina</mat-option>
          <mat-option value="ND">North Dakota</mat-option>
          <mat-option value="OH">Ohio</mat-option>
          <mat-option value="OK">Oklahoma</mat-option>
          <mat-option value="OR">Oregon</mat-option>
          <mat-option value="PA">Pennsylvania</mat-option>
          <mat-option value="RI">Rhode Island</mat-option>
          <mat-option value="SC">South Carolina</mat-option>
          <mat-option value="SD">South Dakota</mat-option>
          <mat-option value="TN">Tennessee</mat-option>
          <mat-option value="TX">Texas</mat-option>
          <mat-option value="UT">Utah</mat-option>
          <mat-option value="VT">Vermont</mat-option>
          <mat-option value="VA">Virginia</mat-option>
          <mat-option value="WA">Washington</mat-option>
          <mat-option value="WV">West Virginia</mat-option>
          <mat-option value="WI">Wisconsin</mat-option>
          <mat-option value="WY">Wyoming</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>FEIN</mat-label>
        <input
          matInput
          required
          maxlength="20"
          [(ngModel)]="MemberDetails.fein"
        />
      </mat-form-field>
    </div>

    <div class="px-6 py-4" fxLayout="column">
      <h3>Lines of Coverage</h3>
      <div fxLayout="column" fxLayoutGap="8px" *ngIf="memberLines">
        <div
          class="vas-obs vas-selected"
          *ngFor="let line of memberLines; let i = index"
        >
          <div class="vas-obs-text checkbox-container">
            <input
              type="checkbox"
              [(ngModel)]="line.isChecked"
              name="line{{ i }}"
            />
            {{ line.line }}
          </div>
        </div>
      </div>
    </div>

    <div class="px-6 py-4" fxLayout="column">
      <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="8px">
        <button mat-button type="button">CANCEL</button>
        <button
          color="primary"
          mat-raised-button
          type="button"
          (click)="saveMember()"
        >
          SAVE
        </button>
      </div>
    </div>
  </div>
</ng-container>
