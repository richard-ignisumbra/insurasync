(self.webpackChunkvex=self.webpackChunkvex||[]).push([[168],{90:(fe,k)=>{k.Z={body:'<path opacity=".3" d="M19.21 12.04l-1.53-.11l-.3-1.5A5.484 5.484 0 0 0 12 6C9.94 6 8.08 7.14 7.12 8.96l-.5.95l-1.07.11A3.99 3.99 0 0 0 2 14c0 2.21 1.79 4 4 4h13c1.65 0 3-1.35 3-3c0-1.55-1.22-2.86-2.79-2.96zM12 17l-4-4h2.55v-3h2.91v3H16l-4 4z" fill="currentColor"/><path d="M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5c0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4c0-2.05 1.53-3.76 3.56-3.97l1.07-.11l.5-.95A5.469 5.469 0 0 1 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5l1.53.11A2.98 2.98 0 0 1 22 15c0 1.65-1.35 3-3 3zm-5.55-8h-2.9v3H8l4 4l4-4h-2.55z" fill="currentColor"/>',width:24,height:24}},7945:(fe,k)=>{k.Z={body:'<path opacity=".3" d="M8 9h8v10H8z" fill="currentColor"/><path d="M15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z" fill="currentColor"/>',width:24,height:24}},8663:(fe,k)=>{k.Z={body:'<path opacity=".3" d="M5 18.08V19h.92l9.06-9.06l-.92-.92z" fill="currentColor"/><path d="M20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83l3.75 3.75l1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06l.92.92L5.92 19z" fill="currentColor"/>',width:24,height:24}},1689:(fe,k)=>{k.Z={body:'<path opacity=".3" d="M19 5H5v14h14V5zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" fill="currentColor"/><path d="M3 5v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2zm2 0h14v14H5V5zm2 5h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z" fill="currentColor"/>',width:24,height:24}},6602:(fe,k)=>{k.Z={body:'<path opacity=".3" d="M19 17.47c-.88-.07-1.75-.22-2.6-.45l-1.19 1.19c1.2.41 2.48.67 3.8.75v-1.49zM5.03 5c.09 1.32.35 2.59.75 3.8l1.2-1.2c-.23-.84-.38-1.71-.44-2.6H5.03z" fill="currentColor"/><path d="M9.07 7.57A11.36 11.36 0 0 1 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1c0 9.39 7.61 17 17 17c.55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1c-1.24 0-2.45-.2-3.57-.57a.84.84 0 0 0-.31-.05c-.26 0-.51.1-.71.29l-2.2 2.2a15.149 15.149 0 0 1-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02zm7.33 9.45c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19zM5.79 8.8c-.41-1.21-.67-2.48-.76-3.8h1.5a13 13 0 0 0 .46 2.59L5.79 8.8z" fill="currentColor"/>',width:24,height:24}},9468:(fe,k)=>{k.Z={body:'<path opacity=".3" d="M8 5h8v3H8z" fill="currentColor"/><circle cx="18" cy="11.5" r="1" fill="currentColor"/><path d="M19 8h-1V3H6v5H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zM8 5h8v3H8V5zm8 14H8v-4h8v4zm4-4h-2v-2H6v2H4v-4c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v4z" fill="currentColor"/><path opacity=".3" d="M6 13h12v2h2v-4c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4h2v-2zm12-2.5c.55 0 1 .45 1 1s-.45 1-1 1s-1-.45-1-1s.45-1 1-1z" fill="currentColor"/>',width:24,height:24}},7360:(fe,k)=>{k.Z={body:'<path opacity=".3" d="M12 15.4l-3.76 2.27l1-4.28l-3.32-2.88l4.38-.38L12 6.1l1.71 4.04l4.38.38l-3.32 2.88l1 4.28z" fill="currentColor"/><path d="M22 9.24l-7.19-.62L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21L12 17.27L18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27l1-4.28l-3.32-2.88l4.38-.38L12 6.1l1.71 4.04l4.38.38l-3.32 2.88l1 4.28L12 15.4z" fill="currentColor"/>',width:24,height:24}},3132:function(fe,k,T){var X;fe=T.nmd(fe),function(){var d,Te="Expected a function",Jn="__lodash_hash_undefined__",Bt="__lodash_placeholder__",Ce=1/0,ct=9007199254740991,oe=4294967295,Gr=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Lt="[object Arguments]",mn="[object Array]",le="[object Boolean]",Wt="[object Date]",vn="[object Error]",xn="[object Function]",Se="[object GeneratorFunction]",Ie="[object Map]",ke="[object Number]",it="[object Object]",Ii="[object Promise]",Gt="[object RegExp]",Fe="[object Set]",zt="[object String]",An="[object Symbol]",Kt="[object WeakMap]",Nt="[object ArrayBuffer]",ee="[object DataView]",Dn="[object Float32Array]",wn="[object Float64Array]",Xt="[object Int8Array]",jt="[object Int16Array]",Ot="[object Int32Array]",en="[object Uint8Array]",tn="[object Uint8ClampedArray]",Pn="[object Uint16Array]",$n="[object Uint32Array]",jr=/\b__p \+= '';/g,eo=/\b(__p \+=) '' \+/g,to=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ei=/&(?:amp|lt|gt|quot|#39);/g,Ri=/[&<>"']/g,no=RegExp(Ei.source),io=RegExp(Ri.source),ro=/<%-([\s\S]+?)%>/g,oo=/<%([\s\S]+?)%>/g,Mi=/<%=([\s\S]+?)%>/g,ao=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lo=/^\w*$/,so=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hn=/[\\^$.*+?()[\]{}|]/g,co=RegExp(Hn.source),Bn=/^\s+/,uo=/\s/,po=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fo=/\{\n\/\* \[wrapped with (.+)\] \*/,ho=/,? & /,go=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mo=/[()=,{}\[\]\/\s]/,_o=/\\(\\)?/g,vo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Li=/\w*$/,xo=/^[-+]0x[0-9a-f]+$/i,bn=/^0b[01]+$/i,Ao=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,wo=/^(?:0|[1-9]\d*)$/,bo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tn=/($^)/,To=/['\n\r\u2028\u2029\\]/g,yn="\\ud800-\\udfff",Ni="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Oi="\\u2700-\\u27bf",Ui="a-z\\xdf-\\xf6\\xf8-\\xff",Ve="A-Z\\xc0-\\xd6\\xd8-\\xde",Fi="\\ufe0e\\ufe0f",Ut="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kn="["+yn+"]",Cn="["+Ut+"]",Sn="["+Ni+"]",Ft="\\d+",vt="["+Oi+"]",xt="["+Ui+"]",Qe="[^"+yn+Ut+Ft+Oi+Ui+Ve+"]",At="\\ud83c[\\udffb-\\udfff]",wt="[^"+yn+"]",Wn="(?:\\ud83c[\\udde6-\\uddff]){2}",Gn="[\\ud800-\\udbff][\\udc00-\\udfff]",rt="["+Ve+"]",zn="(?:"+xt+"|"+Qe+")",Kn="(?:"+rt+"|"+Qe+")",Xn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qi="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Yi="(?:"+Sn+"|"+At+")?",jn="["+Fi+"]?",Ji=jn+Yi+"(?:\\u200d(?:"+[wt,Wn,Gn].join("|")+")"+jn+Yi+")*",Uo="(?:"+[vt,Wn,Gn].join("|")+")"+Ji,Fo="(?:"+[wt+Sn+"?",Sn,Wn,Gn,kn].join("|")+")",Vo=RegExp("['\u2019]","g"),Qo=RegExp(Sn,"g"),ei=RegExp(At+"(?="+At+")|"+Fo+Ji,"g"),Yo=RegExp([rt+"?"+xt+"+"+Xn+"(?="+[Cn,rt,"$"].join("|")+")",Kn+"+"+Qi+"(?="+[Cn,rt+zn,"$"].join("|")+")",rt+"?"+zn+"+"+Xn,rt+"+"+Qi,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ft,Uo].join("|"),"g"),Jo=RegExp("[\\u200d"+yn+Ni+Fi+"]"),qo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Do=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Po=-1,$={};$[Dn]=$[wn]=$[Xt]=$[jt]=$[Ot]=$[en]=$[tn]=$[Pn]=$[$n]=!0,$[Lt]=$[mn]=$[Nt]=$[le]=$[ee]=$[Wt]=$[vn]=$[xn]=$[Ie]=$[ke]=$[it]=$[Gt]=$[Fe]=$[zt]=$[Kt]=!1;var q={};q[Lt]=q[mn]=q[Nt]=q[ee]=q[le]=q[Wt]=q[Dn]=q[wn]=q[Xt]=q[jt]=q[Ot]=q[Ie]=q[ke]=q[it]=q[Gt]=q[Fe]=q[zt]=q[An]=q[en]=q[tn]=q[Pn]=q[$n]=!0,q[vn]=q[xn]=q[Kt]=!1;var qi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Di=parseFloat,Ho=parseInt,Pi="object"==typeof global&&global&&global.Object===Object&&global,Bo="object"==typeof self&&self&&self.Object===Object&&self,te=Pi||Bo||Function("return this")(),$i=k&&!k.nodeType&&k,rn=$i&&fe&&!fe.nodeType&&fe,Hi=rn&&rn.exports===$i,ni=Hi&&Pi.process,Ze=function(){try{return rn&&rn.require&&rn.require("util").types||ni&&ni.binding&&ni.binding("util")}catch(s){}}(),Bi=Ze&&Ze.isArrayBuffer,ki=Ze&&Ze.isDate,Wi=Ze&&Ze.isMap,Gi=Ze&&Ze.isRegExp,zi=Ze&&Ze.isSet,Ki=Ze&&Ze.isTypedArray;function ve(o,s,u){switch(u.length){case 0:return o.call(s);case 1:return o.call(s,u[0]);case 2:return o.call(s,u[0],u[1]);case 3:return o.call(s,u[0],u[1],u[2])}return o.apply(s,u)}function ko(o,s,u,v){for(var w=-1,C=null==o?0:o.length;++w<C;){var S=o[w];s(v,S,u(S),o)}return v}function Ee(o,s){for(var u=-1,v=null==o?0:o.length;++u<v&&!1!==s(o[u],u,o););return o}function Wo(o,s){for(var u=null==o?0:o.length;u--&&!1!==s(o[u],u,o););return o}function Xi(o,s){for(var u=-1,v=null==o?0:o.length;++u<v;)if(!s(o[u],u,o))return!1;return!0}function ut(o,s){for(var u=-1,v=null==o?0:o.length,w=0,C=[];++u<v;){var S=o[u];s(S,u,o)&&(C[w++]=S)}return C}function In(o,s){return!(null==o||!o.length)&&Vt(o,s,0)>-1}function ii(o,s,u){for(var v=-1,w=null==o?0:o.length;++v<w;)if(u(s,o[v]))return!0;return!1}function H(o,s){for(var u=-1,v=null==o?0:o.length,w=Array(v);++u<v;)w[u]=s(o[u],u,o);return w}function pt(o,s){for(var u=-1,v=s.length,w=o.length;++u<v;)o[w+u]=s[u];return o}function ri(o,s,u,v){var w=-1,C=null==o?0:o.length;for(v&&C&&(u=o[++w]);++w<C;)u=s(u,o[w],w,o);return u}function Go(o,s,u,v){var w=null==o?0:o.length;for(v&&w&&(u=o[--w]);w--;)u=s(u,o[w],w,o);return u}function Zn(o,s){for(var u=-1,v=null==o?0:o.length;++u<v;)if(s(o[u],u,o))return!0;return!1}var zo=oi("length");function ji(o,s,u){var v;return u(o,function(w,C,S){if(s(w,C,S))return v=C,!1}),v}function En(o,s,u,v){for(var w=o.length,C=u+(v?1:-1);v?C--:++C<w;)if(s(o[C],C,o))return C;return-1}function Vt(o,s,u){return s==s?function(o,s,u){for(var v=u-1,w=o.length;++v<w;)if(o[v]===s)return v;return-1}(o,s,u):En(o,er,u)}function jo(o,s,u,v){for(var w=u-1,C=o.length;++w<C;)if(v(o[w],s))return w;return-1}function er(o){return o!=o}function tr(o,s){var u=null==o?0:o.length;return u?li(o,s)/u:NaN}function oi(o){return function(s){return null==s?d:s[o]}}function ai(o){return function(s){return null==o?d:o[s]}}function nr(o,s,u,v,w){return w(o,function(C,S,R){u=v?(v=!1,C):s(u,C,S,R)}),u}function li(o,s){for(var u,v=-1,w=o.length;++v<w;){var C=s(o[v]);C!==d&&(u=u===d?C:u+C)}return u}function si(o,s){for(var u=-1,v=Array(o);++u<o;)v[u]=s(u);return v}function ir(o){return o&&o.slice(0,sr(o)+1).replace(Bn,"")}function xe(o){return function(s){return o(s)}}function ci(o,s){return H(s,function(u){return o[u]})}function on(o,s){return o.has(s)}function rr(o,s){for(var u=-1,v=o.length;++u<v&&Vt(s,o[u],0)>-1;);return u}function or(o,s){for(var u=o.length;u--&&Vt(s,o[u],0)>-1;);return u}function na(o,s){for(var u=o.length,v=0;u--;)o[u]===s&&++v;return v}var ia=ai({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),ra=ai({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function oa(o){return"\\"+qi[o]}function Qt(o){return Jo.test(o)}function ui(o){var s=-1,u=Array(o.size);return o.forEach(function(v,w){u[++s]=[w,v]}),u}function ar(o,s){return function(u){return o(s(u))}}function ft(o,s){for(var u=-1,v=o.length,w=0,C=[];++u<v;){var S=o[u];(S===s||S===Bt)&&(o[u]=Bt,C[w++]=u)}return C}function Rn(o){var s=-1,u=Array(o.size);return o.forEach(function(v){u[++s]=v}),u}function Yt(o){return Qt(o)?function(o){for(var s=ei.lastIndex=0;ei.test(o);)++s;return s}(o):zo(o)}function Ye(o){return Qt(o)?function(o){return o.match(ei)||[]}(o):function(o){return o.split("")}(o)}function sr(o){for(var s=o.length;s--&&uo.test(o.charAt(s)););return s}var pa=ai({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),r=function o(s){var e,u=(s=null==s?te:r.defaults(te.Object(),s,r.pick(te,Do))).Array,v=s.Date,w=s.Error,C=s.Function,S=s.Math,R=s.Object,We=s.RegExp,Re=s.String,K=s.TypeError,an=u.prototype,Mn=R.prototype,cr=s["__core-js_shared__"],ur=C.prototype.toString,P=Mn.hasOwnProperty,Ks=0,sl=(e=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",pr=Mn.toString,Xs=ur.call(R),js=te._,ec=We("^"+ur.call(P).replace(Hn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fr=Hi?s.Buffer:d,Jt=s.Symbol,hr=s.Uint8Array,cl=fr?fr.allocUnsafe:d,dr=ar(R.getPrototypeOf,R),ul=R.create,pl=Mn.propertyIsEnumerable,gr=an.splice,fl=Jt?Jt.isConcatSpreadable:d,pi=Jt?Jt.iterator:d,ln=Jt?Jt.toStringTag:d,mr=function(){try{var e=fn(R,"defineProperty");return e({},"",{}),e}catch(n){}}(),tc=s.clearTimeout!==te.clearTimeout&&s.clearTimeout,nc=v&&v.now!==te.Date.now&&v.now,ic=s.setTimeout!==te.setTimeout&&s.setTimeout,_r=S.ceil,vr=S.floor,ga=R.getOwnPropertySymbols,rc=fr?fr.isBuffer:d,hl=s.isFinite,oc=an.join,ac=ar(R.keys,R),ne=S.max,ue=S.min,lc=v.now,sc=s.parseInt,dl=S.random,cc=an.reverse,ma=fn(s,"DataView"),fi=fn(s,"Map"),_a=fn(s,"Promise"),Ln=fn(s,"Set"),hi=fn(s,"WeakMap"),di=fn(R,"create"),xr=hi&&new hi,Nn={},uc=hn(ma),pc=hn(fi),fc=hn(_a),hc=hn(Ln),dc=hn(hi),Ar=Jt?Jt.prototype:d,gi=Ar?Ar.valueOf:d,gl=Ar?Ar.toString:d;function p(e){if(W(e)&&!N(e)&&!(e instanceof Q)){if(e instanceof Ge)return e;if(P.call(e,"__wrapped__"))return ms(e)}return new Ge(e)}var On=function(){function e(){}return function(n){if(!B(n))return{};if(ul)return ul(n);e.prototype=n;var i=new e;return e.prototype=d,i}}();function wr(){}function Ge(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=d}function Q(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function sn(e){var n=-1,i=null==e?0:e.length;for(this.clear();++n<i;){var a=e[n];this.set(a[0],a[1])}}function bt(e){var n=-1,i=null==e?0:e.length;for(this.clear();++n<i;){var a=e[n];this.set(a[0],a[1])}}function Tt(e){var n=-1,i=null==e?0:e.length;for(this.clear();++n<i;){var a=e[n];this.set(a[0],a[1])}}function cn(e){var n=-1,i=null==e?0:e.length;for(this.__data__=new Tt;++n<i;)this.add(e[n])}function ot(e){var n=this.__data__=new bt(e);this.size=n.size}function ml(e,n){var i=N(e),a=!i&&dn(e),c=!i&&!a&&Ht(e),f=!i&&!a&&!c&&Qn(e),g=i||a||c||f,m=g?si(e.length,Re):[],_=m.length;for(var x in e)(n||P.call(e,x))&&(!g||!("length"==x||c&&("offset"==x||"parent"==x)||f&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||It(x,_)))&&m.push(x);return m}function _l(e){var n=e.length;return n?e[Za(0,n-1)]:d}function Jc(e,n){return Ur(Me(e),un(n,0,e.length))}function qc(e){return Ur(Me(e))}function va(e,n,i){(i!==d&&!at(e[n],i)||i===d&&!(n in e))&&yt(e,n,i)}function mi(e,n,i){var a=e[n];(!P.call(e,n)||!at(a,i)||i===d&&!(n in e))&&yt(e,n,i)}function br(e,n){for(var i=e.length;i--;)if(at(e[i][0],n))return i;return-1}function Dc(e,n,i,a){return qt(e,function(c,f,g){n(a,c,i(c),g)}),a}function vl(e,n){return e&&dt(n,ae(n),e)}function yt(e,n,i){"__proto__"==n&&mr?mr(e,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[n]=i}function xa(e,n){for(var i=-1,a=n.length,c=u(a),f=null==e;++i<a;)c[i]=f?d:ja(e,n[i]);return c}function un(e,n,i){return e==e&&(i!==d&&(e=e<=i?e:i),n!==d&&(e=e>=n?e:n)),e}function ze(e,n,i,a,c,f){var g,m=1&n,_=2&n,x=4&n;if(i&&(g=c?i(e,a,c,f):i(e)),g!==d)return g;if(!B(e))return e;var A=N(e);if(A){if(g=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&P.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!m)return Me(e,g)}else{var b=pe(e),y=b==xn||b==Se;if(Ht(e))return Dl(e,m);if(b==it||b==Lt||y&&!c){if(g=_||y?{}:ls(e),!m)return _?function(e,n){return dt(e,os(e),n)}(e,function(e,n){return e&&dt(n,Ne(n),e)}(g,e)):function(e,n){return dt(e,Da(e),n)}(e,vl(g,e))}else{if(!q[b])return c?e:{};g=function(e,n,i){var a=e.constructor;switch(n){case Nt:return Ua(e);case le:case Wt:return new a(+e);case ee:return function(e,n){var i=n?Ua(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case Dn:case wn:case Xt:case jt:case Ot:case en:case tn:case Pn:case $n:return Pl(e,i);case Ie:case Fe:return new a;case ke:case zt:return new a(e);case Gt:return function(e){var n=new e.constructor(e.source,Li.exec(e));return n.lastIndex=e.lastIndex,n}(e);case An:return function(e){return gi?R(gi.call(e)):{}}(e)}}(e,b,m)}}f||(f=new ot);var I=f.get(e);if(I)return I;f.set(e,g),Fs(e)?e.forEach(function(L){g.add(ze(L,n,i,L,e,f))}):Os(e)&&e.forEach(function(L,V){g.set(V,ze(L,n,i,V,e,f))});var U=A?d:(x?_?Ya:Qa:_?Ne:ae)(e);return Ee(U||e,function(L,V){U&&(L=e[V=L]),mi(g,V,ze(L,n,i,V,e,f))}),g}function xl(e,n,i){var a=i.length;if(null==e)return!a;for(e=R(e);a--;){var c=i[a],g=e[c];if(g===d&&!(c in e)||!(0,n[c])(g))return!1}return!0}function Al(e,n,i){if("function"!=typeof e)throw new K(Te);return Ti(function(){e.apply(d,i)},n)}function _i(e,n,i,a){var c=-1,f=In,g=!0,m=e.length,_=[],x=n.length;if(!m)return _;i&&(n=H(n,xe(i))),a?(f=ii,g=!1):n.length>=200&&(f=on,g=!1,n=new cn(n));e:for(;++c<m;){var A=e[c],b=null==i?A:i(A);if(A=a||0!==A?A:0,g&&b==b){for(var y=x;y--;)if(n[y]===b)continue e;_.push(A)}else f(n,b,a)||_.push(A)}return _}p.templateSettings={escape:ro,evaluate:oo,interpolate:Mi,variable:"",imports:{_:p}},(p.prototype=wr.prototype).constructor=p,(Ge.prototype=On(wr.prototype)).constructor=Ge,(Q.prototype=On(wr.prototype)).constructor=Q,sn.prototype.clear=function(){this.__data__=di?di(null):{},this.size=0},sn.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},sn.prototype.get=function(e){var n=this.__data__;if(di){var i=n[e];return i===Jn?d:i}return P.call(n,e)?n[e]:d},sn.prototype.has=function(e){var n=this.__data__;return di?n[e]!==d:P.call(n,e)},sn.prototype.set=function(e,n){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=di&&n===d?Jn:n,this},bt.prototype.clear=function(){this.__data__=[],this.size=0},bt.prototype.delete=function(e){var n=this.__data__,i=br(n,e);return!(i<0||(i==n.length-1?n.pop():gr.call(n,i,1),--this.size,0))},bt.prototype.get=function(e){var n=this.__data__,i=br(n,e);return i<0?d:n[i][1]},bt.prototype.has=function(e){return br(this.__data__,e)>-1},bt.prototype.set=function(e,n){var i=this.__data__,a=br(i,e);return a<0?(++this.size,i.push([e,n])):i[a][1]=n,this},Tt.prototype.clear=function(){this.size=0,this.__data__={hash:new sn,map:new(fi||bt),string:new sn}},Tt.prototype.delete=function(e){var n=Or(this,e).delete(e);return this.size-=n?1:0,n},Tt.prototype.get=function(e){return Or(this,e).get(e)},Tt.prototype.has=function(e){return Or(this,e).has(e)},Tt.prototype.set=function(e,n){var i=Or(this,e),a=i.size;return i.set(e,n),this.size+=i.size==a?0:1,this},cn.prototype.add=cn.prototype.push=function(e){return this.__data__.set(e,Jn),this},cn.prototype.has=function(e){return this.__data__.has(e)},ot.prototype.clear=function(){this.__data__=new bt,this.size=0},ot.prototype.delete=function(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i},ot.prototype.get=function(e){return this.__data__.get(e)},ot.prototype.has=function(e){return this.__data__.has(e)},ot.prototype.set=function(e,n){var i=this.__data__;if(i instanceof bt){var a=i.__data__;if(!fi||a.length<199)return a.push([e,n]),this.size=++i.size,this;i=this.__data__=new Tt(a)}return i.set(e,n),this.size=i.size,this};var qt=kl(ht),wl=kl(wa,!0);function Hc(e,n){var i=!0;return qt(e,function(a,c,f){return i=!!n(a,c,f)}),i}function Tr(e,n,i){for(var a=-1,c=e.length;++a<c;){var f=e[a],g=n(f);if(null!=g&&(m===d?g==g&&!qe(g):i(g,m)))var m=g,_=f}return _}function bl(e,n){var i=[];return qt(e,function(a,c,f){n(a,c,f)&&i.push(a)}),i}function se(e,n,i,a,c){var f=-1,g=e.length;for(i||(i=Ou),c||(c=[]);++f<g;){var m=e[f];n>0&&i(m)?n>1?se(m,n-1,i,a,c):pt(c,m):a||(c[c.length]=m)}return c}var Aa=Wl(),Tl=Wl(!0);function ht(e,n){return e&&Aa(e,n,ae)}function wa(e,n){return e&&Tl(e,n,ae)}function yr(e,n){return ut(n,function(i){return Zt(e[i])})}function pn(e,n){for(var i=0,a=(n=Pt(n,e)).length;null!=e&&i<a;)e=e[gt(n[i++])];return i&&i==a?e:d}function yl(e,n,i){var a=n(e);return N(e)?a:pt(a,i(e))}function Ae(e){return null==e?e===d?"[object Undefined]":"[object Null]":ln&&ln in R(e)?function(e){var n=P.call(e,ln),i=e[ln];try{e[ln]=d;var a=!0}catch(f){}var c=pr.call(e);return a&&(n?e[ln]=i:delete e[ln]),c}(e):function(e){return pr.call(e)}(e)}function ba(e,n){return e>n}function kc(e,n){return null!=e&&P.call(e,n)}function Wc(e,n){return null!=e&&n in R(e)}function Ta(e,n,i){for(var a=i?ii:In,c=e[0].length,f=e.length,g=f,m=u(f),_=1/0,x=[];g--;){var A=e[g];g&&n&&(A=H(A,xe(n))),_=ue(A.length,_),m[g]=!i&&(n||c>=120&&A.length>=120)?new cn(g&&A):d}A=e[0];var b=-1,y=m[0];e:for(;++b<c&&x.length<_;){var I=A[b],M=n?n(I):I;if(I=i||0!==I?I:0,!(y?on(y,M):a(x,M,i))){for(g=f;--g;){var U=m[g];if(!(U?on(U,M):a(e[g],M,i)))continue e}y&&y.push(M),x.push(I)}}return x}function vi(e,n,i){var a=null==(e=ps(e,n=Pt(n,e)))?e:e[gt(Xe(n))];return null==a?d:ve(a,e,i)}function Cl(e){return W(e)&&Ae(e)==Lt}function xi(e,n,i,a,c){return e===n||(null==e||null==n||!W(e)&&!W(n)?e!=e&&n!=n:function(e,n,i,a,c,f){var g=N(e),m=N(n),_=g?mn:pe(e),x=m?mn:pe(n),A=(_=_==Lt?it:_)==it,b=(x=x==Lt?it:x)==it,y=_==x;if(y&&Ht(e)){if(!Ht(n))return!1;g=!0,A=!1}if(y&&!A)return f||(f=new ot),g||Qn(e)?rs(e,n,i,a,c,f):function(e,n,i,a,c,f,g){switch(i){case ee:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Nt:return!(e.byteLength!=n.byteLength||!f(new hr(e),new hr(n)));case le:case Wt:case ke:return at(+e,+n);case vn:return e.name==n.name&&e.message==n.message;case Gt:case zt:return e==n+"";case Ie:var m=ui;case Fe:if(m||(m=Rn),e.size!=n.size&&!(1&a))return!1;var x=g.get(e);if(x)return x==n;a|=2,g.set(e,n);var A=rs(m(e),m(n),a,c,f,g);return g.delete(e),A;case An:if(gi)return gi.call(e)==gi.call(n)}return!1}(e,n,_,i,a,c,f);if(!(1&i)){var I=A&&P.call(e,"__wrapped__"),M=b&&P.call(n,"__wrapped__");if(I||M){var U=I?e.value():e,L=M?n.value():n;return f||(f=new ot),c(U,L,i,a,f)}}return!!y&&(f||(f=new ot),function(e,n,i,a,c,f){var g=1&i,m=Qa(e),_=m.length;if(_!=Qa(n).length&&!g)return!1;for(var b=_;b--;){var y=m[b];if(!(g?y in n:P.call(n,y)))return!1}var I=f.get(e),M=f.get(n);if(I&&M)return I==n&&M==e;var U=!0;f.set(e,n),f.set(n,e);for(var L=g;++b<_;){var V=e[y=m[b]],Y=n[y];if(a)var De=g?a(Y,V,y,n,e,f):a(V,Y,y,e,n,f);if(!(De===d?V===Y||c(V,Y,i,a,f):De)){U=!1;break}L||(L="constructor"==y)}if(U&&!L){var be=e.constructor,Pe=n.constructor;be!=Pe&&"constructor"in e&&"constructor"in n&&!("function"==typeof be&&be instanceof be&&"function"==typeof Pe&&Pe instanceof Pe)&&(U=!1)}return f.delete(e),f.delete(n),U}(e,n,i,a,c,f))}(e,n,i,a,xi,c))}function ya(e,n,i,a){var c=i.length,f=c,g=!a;if(null==e)return!f;for(e=R(e);c--;){var m=i[c];if(g&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++c<f;){var _=(m=i[c])[0],x=e[_],A=m[1];if(g&&m[2]){if(x===d&&!(_ in e))return!1}else{var b=new ot;if(a)var y=a(x,A,_,e,n,b);if(!(y===d?xi(A,x,3,a,b):y))return!1}}return!0}function Sl(e){return!(!B(e)||function(e){return!!sl&&sl in e}(e))&&(Zt(e)?ec:Ao).test(hn(e))}function Il(e){return"function"==typeof e?e:null==e?Oe:"object"==typeof e?N(e)?Rl(e[0],e[1]):El(e):Gs(e)}function Ca(e){if(!bi(e))return ac(e);var n=[];for(var i in R(e))P.call(e,i)&&"constructor"!=i&&n.push(i);return n}function Sa(e,n){return e<n}function Zl(e,n){var i=-1,a=Le(e)?u(e.length):[];return qt(e,function(c,f,g){a[++i]=n(c,f,g)}),a}function El(e){var n=qa(e);return 1==n.length&&n[0][2]?cs(n[0][0],n[0][1]):function(i){return i===e||ya(i,e,n)}}function Rl(e,n){return Pa(e)&&ss(n)?cs(gt(e),n):function(i){var a=ja(i,e);return a===d&&a===n?el(i,e):xi(n,a,3)}}function Cr(e,n,i,a,c){e!==n&&Aa(n,function(f,g){if(c||(c=new ot),B(f))!function(e,n,i,a,c,f,g){var m=Ha(e,i),_=Ha(n,i),x=g.get(_);if(x)va(e,i,x);else{var A=f?f(m,_,i+"",e,n,g):d,b=A===d;if(b){var y=N(_),I=!y&&Ht(_),M=!y&&!I&&Qn(_);A=_,y||I||M?N(m)?A=m:G(m)?A=Me(m):I?(b=!1,A=Dl(_,!0)):M?(b=!1,A=Pl(_,!0)):A=[]:yi(_)||dn(_)?(A=m,dn(m)?A=Ys(m):(!B(m)||Zt(m))&&(A=ls(_))):b=!1}b&&(g.set(_,A),c(A,_,a,f,g),g.delete(_)),va(e,i,A)}}(e,n,g,i,Cr,a,c);else{var m=a?a(Ha(e,g),f,g+"",e,n,c):d;m===d&&(m=f),va(e,g,m)}},Ne)}function Ml(e,n){var i=e.length;if(i)return It(n+=n<0?i:0,i)?e[n]:d}function Ll(e,n,i){n=n.length?H(n,function(f){return N(f)?function(g){return pn(g,1===f.length?f[0]:f)}:f}):[Oe];var a=-1;return n=H(n,xe(E())),function(o,s){var u=o.length;for(o.sort(function(f,g){return function(e,n,i){for(var a=-1,c=e.criteria,f=n.criteria,g=c.length,m=i.length;++a<g;){var _=$l(c[a],f[a]);if(_)return a>=m?_:_*("desc"==i[a]?-1:1)}return e.index-n.index}(f,g,i)});u--;)o[u]=o[u].value;return o}(Zl(e,function(f,g,m){return{criteria:H(n,function(x){return x(f)}),index:++a,value:f}}))}function Nl(e,n,i){for(var a=-1,c=n.length,f={};++a<c;){var g=n[a],m=pn(e,g);i(m,g)&&Ai(f,Pt(g,e),m)}return f}function Ia(e,n,i,a){var c=a?jo:Vt,f=-1,g=n.length,m=e;for(e===n&&(n=Me(n)),i&&(m=H(e,xe(i)));++f<g;)for(var _=0,x=n[f],A=i?i(x):x;(_=c(m,A,_,a))>-1;)m!==e&&gr.call(m,_,1),gr.call(e,_,1);return e}function Ol(e,n){for(var i=e?n.length:0,a=i-1;i--;){var c=n[i];if(i==a||c!==f){var f=c;It(c)?gr.call(e,c,1):Ma(e,c)}}return e}function Za(e,n){return e+vr(dl()*(n-e+1))}function Ea(e,n){var i="";if(!e||n<1||n>ct)return i;do{n%2&&(i+=e),(n=vr(n/2))&&(e+=e)}while(n);return i}function F(e,n){return Ba(us(e,n,Oe),e+"")}function cu(e){return _l(Yn(e))}function uu(e,n){var i=Yn(e);return Ur(i,un(n,0,i.length))}function Ai(e,n,i,a){if(!B(e))return e;for(var c=-1,f=(n=Pt(n,e)).length,g=f-1,m=e;null!=m&&++c<f;){var _=gt(n[c]),x=i;if("__proto__"===_||"constructor"===_||"prototype"===_)return e;if(c!=g){var A=m[_];(x=a?a(A,_,m):d)===d&&(x=B(A)?A:It(n[c+1])?[]:{})}mi(m,_,x),m=m[_]}return e}var Ul=xr?function(e,n){return xr.set(e,n),e}:Oe,pu=mr?function(e,n){return mr(e,"toString",{configurable:!0,enumerable:!1,value:nl(n),writable:!0})}:Oe;function fu(e){return Ur(Yn(e))}function Ke(e,n,i){var a=-1,c=e.length;n<0&&(n=-n>c?0:c+n),(i=i>c?c:i)<0&&(i+=c),c=n>i?0:i-n>>>0,n>>>=0;for(var f=u(c);++a<c;)f[a]=e[a+n];return f}function hu(e,n){var i;return qt(e,function(a,c,f){return!(i=n(a,c,f))}),!!i}function Sr(e,n,i){var a=0,c=null==e?a:e.length;if("number"==typeof n&&n==n&&c<=2147483647){for(;a<c;){var f=a+c>>>1,g=e[f];null!==g&&!qe(g)&&(i?g<=n:g<n)?a=f+1:c=f}return c}return Ra(e,n,Oe,i)}function Ra(e,n,i,a){var c=0,f=null==e?0:e.length;if(0===f)return 0;for(var g=(n=i(n))!=n,m=null===n,_=qe(n),x=n===d;c<f;){var A=vr((c+f)/2),b=i(e[A]),y=b!==d,I=null===b,M=b==b,U=qe(b);if(g)var L=a||M;else L=x?M&&(a||y):m?M&&y&&(a||!I):_?M&&y&&!I&&(a||!U):!I&&!U&&(a?b<=n:b<n);L?c=A+1:f=A}return ue(f,4294967294)}function Fl(e,n){for(var i=-1,a=e.length,c=0,f=[];++i<a;){var g=e[i],m=n?n(g):g;if(!i||!at(m,_)){var _=m;f[c++]=0===g?0:g}}return f}function Vl(e){return"number"==typeof e?e:qe(e)?NaN:+e}function Je(e){if("string"==typeof e)return e;if(N(e))return H(e,Je)+"";if(qe(e))return gl?gl.call(e):"";var n=e+"";return"0"==n&&1/e==-Ce?"-0":n}function Dt(e,n,i){var a=-1,c=In,f=e.length,g=!0,m=[],_=m;if(i)g=!1,c=ii;else if(f>=200){var x=n?null:yu(e);if(x)return Rn(x);g=!1,c=on,_=new cn}else _=n?[]:m;e:for(;++a<f;){var A=e[a],b=n?n(A):A;if(A=i||0!==A?A:0,g&&b==b){for(var y=_.length;y--;)if(_[y]===b)continue e;n&&_.push(b),m.push(A)}else c(_,b,i)||(_!==m&&_.push(b),m.push(A))}return m}function Ma(e,n){return null==(e=ps(e,n=Pt(n,e)))||delete e[gt(Xe(n))]}function Ql(e,n,i,a){return Ai(e,n,i(pn(e,n)),a)}function Ir(e,n,i,a){for(var c=e.length,f=a?c:-1;(a?f--:++f<c)&&n(e[f],f,e););return i?Ke(e,a?0:f,a?f+1:c):Ke(e,a?f+1:0,a?c:f)}function Yl(e,n){var i=e;return i instanceof Q&&(i=i.value()),ri(n,function(a,c){return c.func.apply(c.thisArg,pt([a],c.args))},i)}function La(e,n,i){var a=e.length;if(a<2)return a?Dt(e[0]):[];for(var c=-1,f=u(a);++c<a;)for(var g=e[c],m=-1;++m<a;)m!=c&&(f[c]=_i(f[c]||g,e[m],n,i));return Dt(se(f,1),n,i)}function Jl(e,n,i){for(var a=-1,c=e.length,f=n.length,g={};++a<c;)i(g,e[a],a<f?n[a]:d);return g}function Na(e){return G(e)?e:[]}function Oa(e){return"function"==typeof e?e:Oe}function Pt(e,n){return N(e)?e:Pa(e,n)?[e]:gs(D(e))}var du=F;function $t(e,n,i){var a=e.length;return i=i===d?a:i,!n&&i>=a?e:Ke(e,n,i)}var ql=tc||function(e){return te.clearTimeout(e)};function Dl(e,n){if(n)return e.slice();var i=e.length,a=cl?cl(i):new e.constructor(i);return e.copy(a),a}function Ua(e){var n=new e.constructor(e.byteLength);return new hr(n).set(new hr(e)),n}function Pl(e,n){var i=n?Ua(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function $l(e,n){if(e!==n){var i=e!==d,a=null===e,c=e==e,f=qe(e),g=n!==d,m=null===n,_=n==n,x=qe(n);if(!m&&!x&&!f&&e>n||f&&g&&_&&!m&&!x||a&&g&&_||!i&&_||!c)return 1;if(!a&&!f&&!x&&e<n||x&&i&&c&&!a&&!f||m&&i&&c||!g&&c||!_)return-1}return 0}function Hl(e,n,i,a){for(var c=-1,f=e.length,g=i.length,m=-1,_=n.length,x=ne(f-g,0),A=u(_+x),b=!a;++m<_;)A[m]=n[m];for(;++c<g;)(b||c<f)&&(A[i[c]]=e[c]);for(;x--;)A[m++]=e[c++];return A}function Bl(e,n,i,a){for(var c=-1,f=e.length,g=-1,m=i.length,_=-1,x=n.length,A=ne(f-m,0),b=u(A+x),y=!a;++c<A;)b[c]=e[c];for(var I=c;++_<x;)b[I+_]=n[_];for(;++g<m;)(y||c<f)&&(b[I+i[g]]=e[c++]);return b}function Me(e,n){var i=-1,a=e.length;for(n||(n=u(a));++i<a;)n[i]=e[i];return n}function dt(e,n,i,a){var c=!i;i||(i={});for(var f=-1,g=n.length;++f<g;){var m=n[f],_=a?a(i[m],e[m],m,i,e):d;_===d&&(_=e[m]),c?yt(i,m,_):mi(i,m,_)}return i}function Zr(e,n){return function(i,a){var c=N(i)?ko:Dc,f=n?n():{};return c(i,e,E(a,2),f)}}function Un(e){return F(function(n,i){var a=-1,c=i.length,f=c>1?i[c-1]:d,g=c>2?i[2]:d;for(f=e.length>3&&"function"==typeof f?(c--,f):d,g&&we(i[0],i[1],g)&&(f=c<3?d:f,c=1),n=R(n);++a<c;){var m=i[a];m&&e(n,m,a,f)}return n})}function kl(e,n){return function(i,a){if(null==i)return i;if(!Le(i))return e(i,a);for(var c=i.length,f=n?c:-1,g=R(i);(n?f--:++f<c)&&!1!==a(g[f],f,g););return i}}function Wl(e){return function(n,i,a){for(var c=-1,f=R(n),g=a(n),m=g.length;m--;){var _=g[e?m:++c];if(!1===i(f[_],_,f))break}return n}}function Gl(e){return function(n){var i=Qt(n=D(n))?Ye(n):d,a=i?i[0]:n.charAt(0),c=i?$t(i,1).join(""):n.slice(1);return a[e]()+c}}function Fn(e){return function(n){return ri(ks(Bs(n).replace(Vo,"")),e,"")}}function wi(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var i=On(e.prototype),a=e.apply(i,n);return B(a)?a:i}}function zl(e){return function(n,i,a){var c=R(n);if(!Le(n)){var f=E(i,3);n=ae(n),i=function(m){return f(c[m],m,c)}}var g=e(n,i,a);return g>-1?c[f?n[g]:g]:d}}function Kl(e){return St(function(n){var i=n.length,a=i,c=Ge.prototype.thru;for(e&&n.reverse();a--;){var f=n[a];if("function"!=typeof f)throw new K(Te);if(c&&!g&&"wrapper"==Nr(f))var g=new Ge([],!0)}for(a=g?a:i;++a<i;){var m=Nr(f=n[a]),_="wrapper"==m?Ja(f):d;g=_&&$a(_[0])&&424==_[1]&&!_[4].length&&1==_[9]?g[Nr(_[0])].apply(g,_[3]):1==f.length&&$a(f)?g[m]():g.thru(f)}return function(){var x=arguments,A=x[0];if(g&&1==x.length&&N(A))return g.plant(A).value();for(var b=0,y=i?n[b].apply(this,x):A;++b<i;)y=n[b].call(this,y);return y}})}function Er(e,n,i,a,c,f,g,m,_,x){var A=128&n,b=1&n,y=2&n,I=24&n,M=512&n,U=y?d:wi(e);return function L(){for(var V=arguments.length,Y=u(V),De=V;De--;)Y[De]=arguments[De];if(I)var be=Vn(L),Pe=na(Y,be);if(a&&(Y=Hl(Y,a,c,I)),f&&(Y=Bl(Y,f,g,I)),V-=Pe,I&&V<x){var z=ft(Y,be);return es(e,n,Er,L.placeholder,i,Y,z,m,_,x-V)}var lt=b?i:this,Rt=y?lt[e]:e;return V=Y.length,m?Y=Du(Y,m):M&&V>1&&Y.reverse(),A&&_<V&&(Y.length=_),this&&this!==te&&this instanceof L&&(Rt=U||wi(Rt)),Rt.apply(lt,Y)}}function Xl(e,n){return function(i,a){return function(e,n,i,a){return ht(e,function(c,f,g){n(a,i(c),f,g)}),a}(i,e,n(a),{})}}function Rr(e,n){return function(i,a){var c;if(i===d&&a===d)return n;if(i!==d&&(c=i),a!==d){if(c===d)return a;"string"==typeof i||"string"==typeof a?(i=Je(i),a=Je(a)):(i=Vl(i),a=Vl(a)),c=e(i,a)}return c}}function Fa(e){return St(function(n){return n=H(n,xe(E())),F(function(i){var a=this;return e(n,function(c){return ve(c,a,i)})})})}function Mr(e,n){var i=(n=n===d?" ":Je(n)).length;if(i<2)return i?Ea(n,e):n;var a=Ea(n,_r(e/Yt(n)));return Qt(n)?$t(Ye(a),0,e).join(""):a.slice(0,e)}function jl(e){return function(n,i,a){return a&&"number"!=typeof a&&we(n,i,a)&&(i=a=d),n=Et(n),i===d?(i=n,n=0):i=Et(i),function(e,n,i,a){for(var c=-1,f=ne(_r((n-e)/(i||1)),0),g=u(f);f--;)g[a?f:++c]=e,e+=i;return g}(n,i,a=a===d?n<i?1:-1:Et(a),e)}}function Lr(e){return function(n,i){return"string"==typeof n&&"string"==typeof i||(n=je(n),i=je(i)),e(n,i)}}function es(e,n,i,a,c,f,g,m,_,x){var A=8&n;n|=A?32:64,4&(n&=~(A?64:32))||(n&=-4);var U=[e,n,c,A?f:d,A?g:d,A?d:f,A?d:g,m,_,x],L=i.apply(d,U);return $a(e)&&fs(L,U),L.placeholder=a,hs(L,e,n)}function Va(e){var n=S[e];return function(i,a){if(i=je(i),(a=null==a?0:ue(O(a),292))&&hl(i)){var c=(D(i)+"e").split("e");return+((c=(D(n(c[0]+"e"+(+c[1]+a)))+"e").split("e"))[0]+"e"+(+c[1]-a))}return n(i)}}var yu=Ln&&1/Rn(new Ln([,-0]))[1]==Ce?function(e){return new Ln(e)}:ol;function ts(e){return function(n){var i=pe(n);return i==Ie?ui(n):i==Fe?function(o){var s=-1,u=Array(o.size);return o.forEach(function(v){u[++s]=[v,v]}),u}(n):function(o,s){return H(s,function(u){return[u,o[u]]})}(n,e(n))}}function Ct(e,n,i,a,c,f,g,m){var _=2&n;if(!_&&"function"!=typeof e)throw new K(Te);var x=a?a.length:0;if(x||(n&=-97,a=c=d),g=g===d?g:ne(O(g),0),m=m===d?m:O(m),x-=c?c.length:0,64&n){var A=a,b=c;a=c=d}var y=_?d:Ja(e),I=[e,n,i,a,c,A,b,f,g,m];if(y&&function(e,n){var i=e[1],a=n[1],c=i|a;if(!(c<131||(128==a&&8==i||128==a&&256==i&&e[7].length<=n[8]||384==a&&n[7].length<=n[8]&&8==i)))return e;1&a&&(e[2]=n[2],c|=1&i?0:4);var m=n[3];if(m){var _=e[3];e[3]=_?Hl(_,m,n[4]):m,e[4]=_?ft(e[3],Bt):n[4]}(m=n[5])&&(e[5]=(_=e[5])?Bl(_,m,n[6]):m,e[6]=_?ft(e[5],Bt):n[6]),(m=n[7])&&(e[7]=m),128&a&&(e[8]=null==e[8]?n[8]:ue(e[8],n[8])),null==e[9]&&(e[9]=n[9]),e[0]=n[0],e[1]=c}(I,y),e=I[0],n=I[1],i=I[2],a=I[3],c=I[4],!(m=I[9]=I[9]===d?_?0:e.length:ne(I[9]-x,0))&&24&n&&(n&=-25),n&&1!=n)M=8==n||16==n?function(e,n,i){var a=wi(e);return function c(){for(var f=arguments.length,g=u(f),m=f,_=Vn(c);m--;)g[m]=arguments[m];var x=f<3&&g[0]!==_&&g[f-1]!==_?[]:ft(g,_);return(f-=x.length)<i?es(e,n,Er,c.placeholder,d,g,x,d,d,i-f):ve(this&&this!==te&&this instanceof c?a:e,this,g)}}(e,n,m):32!=n&&33!=n||c.length?Er.apply(d,I):function(e,n,i,a){var c=1&n,f=wi(e);return function g(){for(var m=-1,_=arguments.length,x=-1,A=a.length,b=u(A+_),y=this&&this!==te&&this instanceof g?f:e;++x<A;)b[x]=a[x];for(;_--;)b[x++]=arguments[++m];return ve(y,c?i:this,b)}}(e,n,i,a);else var M=function(e,n,i){var a=1&n,c=wi(e);return function f(){return(this&&this!==te&&this instanceof f?c:e).apply(a?i:this,arguments)}}(e,n,i);return hs((y?Ul:fs)(M,I),e,n)}function ns(e,n,i,a){return e===d||at(e,Mn[i])&&!P.call(a,i)?n:e}function is(e,n,i,a,c,f){return B(e)&&B(n)&&(f.set(n,e),Cr(e,n,d,is,f),f.delete(n)),e}function Cu(e){return yi(e)?d:e}function rs(e,n,i,a,c,f){var g=1&i,m=e.length,_=n.length;if(m!=_&&!(g&&_>m))return!1;var x=f.get(e),A=f.get(n);if(x&&A)return x==n&&A==e;var b=-1,y=!0,I=2&i?new cn:d;for(f.set(e,n),f.set(n,e);++b<m;){var M=e[b],U=n[b];if(a)var L=g?a(U,M,b,n,e,f):a(M,U,b,e,n,f);if(L!==d){if(L)continue;y=!1;break}if(I){if(!Zn(n,function(V,Y){if(!on(I,Y)&&(M===V||c(M,V,i,a,f)))return I.push(Y)})){y=!1;break}}else if(M!==U&&!c(M,U,i,a,f)){y=!1;break}}return f.delete(e),f.delete(n),y}function St(e){return Ba(us(e,d,xs),e+"")}function Qa(e){return yl(e,ae,Da)}function Ya(e){return yl(e,Ne,os)}var Ja=xr?function(e){return xr.get(e)}:ol;function Nr(e){for(var n=e.name+"",i=Nn[n],a=P.call(Nn,n)?i.length:0;a--;){var c=i[a],f=c.func;if(null==f||f==e)return c.name}return n}function Vn(e){return(P.call(p,"placeholder")?p:e).placeholder}function E(){var e=p.iteratee||il;return e=e===il?Il:e,arguments.length?e(arguments[0],arguments[1]):e}function Or(e,n){var i=e.__data__;return function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?i["string"==typeof n?"string":"hash"]:i.map}function qa(e){for(var n=ae(e),i=n.length;i--;){var a=n[i],c=e[a];n[i]=[a,c,ss(c)]}return n}function fn(e,n){var i=function(o,s){return null==o?d:o[s]}(e,n);return Sl(i)?i:d}var Da=ga?function(e){return null==e?[]:(e=R(e),ut(ga(e),function(n){return pl.call(e,n)}))}:al,os=ga?function(e){for(var n=[];e;)pt(n,Da(e)),e=dr(e);return n}:al,pe=Ae;function as(e,n,i){for(var a=-1,c=(n=Pt(n,e)).length,f=!1;++a<c;){var g=gt(n[a]);if(!(f=null!=e&&i(e,g)))break;e=e[g]}return f||++a!=c?f:!!(c=null==e?0:e.length)&&qr(c)&&It(g,c)&&(N(e)||dn(e))}function ls(e){return"function"!=typeof e.constructor||bi(e)?{}:On(dr(e))}function Ou(e){return N(e)||dn(e)||!!(fl&&e&&e[fl])}function It(e,n){var i=typeof e;return!!(n=null==n?ct:n)&&("number"==i||"symbol"!=i&&wo.test(e))&&e>-1&&e%1==0&&e<n}function we(e,n,i){if(!B(i))return!1;var a=typeof n;return!!("number"==a?Le(i)&&It(n,i.length):"string"==a&&n in i)&&at(i[n],e)}function Pa(e,n){if(N(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!qe(e))||lo.test(e)||!ao.test(e)||null!=n&&e in R(n)}function $a(e){var n=Nr(e),i=p[n];if("function"!=typeof i||!(n in Q.prototype))return!1;if(e===i)return!0;var a=Ja(i);return!!a&&e===a[0]}(ma&&pe(new ma(new ArrayBuffer(1)))!=ee||fi&&pe(new fi)!=Ie||_a&&pe(_a.resolve())!=Ii||Ln&&pe(new Ln)!=Fe||hi&&pe(new hi)!=Kt)&&(pe=function(e){var n=Ae(e),i=n==it?e.constructor:d,a=i?hn(i):"";if(a)switch(a){case uc:return ee;case pc:return Ie;case fc:return Ii;case hc:return Fe;case dc:return Kt}return n});var Vu=cr?Zt:ll;function bi(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||Mn)}function ss(e){return e==e&&!B(e)}function cs(e,n){return function(i){return null!=i&&i[e]===n&&(n!==d||e in R(i))}}function us(e,n,i){return n=ne(n===d?e.length-1:n,0),function(){for(var a=arguments,c=-1,f=ne(a.length-n,0),g=u(f);++c<f;)g[c]=a[n+c];c=-1;for(var m=u(n+1);++c<n;)m[c]=a[c];return m[n]=i(g),ve(e,this,m)}}function ps(e,n){return n.length<2?e:pn(e,Ke(n,0,-1))}function Du(e,n){for(var i=e.length,a=ue(n.length,i),c=Me(e);a--;){var f=n[a];e[a]=It(f,i)?c[f]:d}return e}function Ha(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]}var fs=ds(Ul),Ti=ic||function(e,n){return te.setTimeout(e,n)},Ba=ds(pu);function hs(e,n,i){var a=n+"";return Ba(e,function(e,n){var i=n.length;if(!i)return e;var a=i-1;return n[a]=(i>1?"& ":"")+n[a],n=n.join(i>2?", ":" "),e.replace(po,"{\n/* [wrapped with "+n+"] */\n")}(a,function(e,n){return Ee(Gr,function(i){var a="_."+i[0];n&i[1]&&!In(e,a)&&e.push(a)}),e.sort()}(function(e){var n=e.match(fo);return n?n[1].split(ho):[]}(a),i)))}function ds(e){var n=0,i=0;return function(){var a=lc(),c=16-(a-i);if(i=a,c>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(d,arguments)}}function Ur(e,n){var i=-1,a=e.length,c=a-1;for(n=n===d?a:n;++i<n;){var f=Za(i,c),g=e[f];e[f]=e[i],e[i]=g}return e.length=n,e}var n,i,gs=(n=Yr(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(so,function(i,a,c,f){n.push(c?f.replace(_o,"$1"):a||i)}),n},function(a){return 500===i.size&&i.clear(),a}),i=n.cache,n);function gt(e){if("string"==typeof e||qe(e))return e;var n=e+"";return"0"==n&&1/e==-Ce?"-0":n}function hn(e){if(null!=e){try{return ur.call(e)}catch(n){}try{return e+""}catch(n){}}return""}function ms(e){if(e instanceof Q)return e.clone();var n=new Ge(e.__wrapped__,e.__chain__);return n.__actions__=Me(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}var ku=F(function(e,n){return G(e)?_i(e,se(n,1,G,!0)):[]}),Wu=F(function(e,n){var i=Xe(n);return G(i)&&(i=d),G(e)?_i(e,se(n,1,G,!0),E(i,2)):[]}),Gu=F(function(e,n){var i=Xe(n);return G(i)&&(i=d),G(e)?_i(e,se(n,1,G,!0),d,i):[]});function _s(e,n,i){var a=null==e?0:e.length;if(!a)return-1;var c=null==i?0:O(i);return c<0&&(c=ne(a+c,0)),En(e,E(n,3),c)}function vs(e,n,i){var a=null==e?0:e.length;if(!a)return-1;var c=a-1;return i!==d&&(c=O(i),c=i<0?ne(a+c,0):ue(c,a-1)),En(e,E(n,3),c,!0)}function xs(e){return null!=e&&e.length?se(e,1):[]}function As(e){return e&&e.length?e[0]:d}var ap=F(function(e){var n=H(e,Na);return n.length&&n[0]===e[0]?Ta(n):[]}),lp=F(function(e){var n=Xe(e),i=H(e,Na);return n===Xe(i)?n=d:i.pop(),i.length&&i[0]===e[0]?Ta(i,E(n,2)):[]}),sp=F(function(e){var n=Xe(e),i=H(e,Na);return(n="function"==typeof n?n:d)&&i.pop(),i.length&&i[0]===e[0]?Ta(i,d,n):[]});function Xe(e){var n=null==e?0:e.length;return n?e[n-1]:d}var fp=F(ws);function ws(e,n){return e&&e.length&&n&&n.length?Ia(e,n):e}var gp=St(function(e,n){var i=null==e?0:e.length,a=xa(e,n);return Ol(e,H(n,function(c){return It(c,i)?+c:c}).sort($l)),a});function ka(e){return null==e?e:cc.call(e)}var Mp=F(function(e){return Dt(se(e,1,G,!0))}),Lp=F(function(e){var n=Xe(e);return G(n)&&(n=d),Dt(se(e,1,G,!0),E(n,2))}),Np=F(function(e){var n=Xe(e);return n="function"==typeof n?n:d,Dt(se(e,1,G,!0),d,n)});function Wa(e){if(!e||!e.length)return[];var n=0;return e=ut(e,function(i){if(G(i))return n=ne(i.length,n),!0}),si(n,function(i){return H(e,oi(i))})}function bs(e,n){if(!e||!e.length)return[];var i=Wa(e);return null==n?i:H(i,function(a){return ve(n,d,a)})}var Vp=F(function(e,n){return G(e)?_i(e,n):[]}),Qp=F(function(e){return La(ut(e,G))}),Yp=F(function(e){var n=Xe(e);return G(n)&&(n=d),La(ut(e,G),E(n,2))}),Jp=F(function(e){var n=Xe(e);return n="function"==typeof n?n:d,La(ut(e,G),d,n)}),qp=F(Wa),$p=F(function(e){var n=e.length,i=n>1?e[n-1]:d;return i="function"==typeof i?(e.pop(),i):d,bs(e,i)});function Ts(e){var n=p(e);return n.__chain__=!0,n}function Fr(e,n){return n(e)}var Bp=St(function(e){var n=e.length,i=n?e[0]:0,a=this.__wrapped__,c=function(f){return xa(f,e)};return!(n>1||this.__actions__.length)&&a instanceof Q&&It(i)?((a=a.slice(i,+i+(n?1:0))).__actions__.push({func:Fr,args:[c],thisArg:d}),new Ge(a,this.__chain__).thru(function(f){return n&&!f.length&&f.push(d),f})):this.thru(c)}),ef=Zr(function(e,n,i){P.call(e,i)?++e[i]:yt(e,i,1)}),rf=zl(_s),of=zl(vs);function ys(e,n){return(N(e)?Ee:qt)(e,E(n,3))}function Cs(e,n){return(N(e)?Wo:wl)(e,E(n,3))}var cf=Zr(function(e,n,i){P.call(e,i)?e[i].push(n):yt(e,i,[n])}),pf=F(function(e,n,i){var a=-1,c="function"==typeof n,f=Le(e)?u(e.length):[];return qt(e,function(g){f[++a]=c?ve(n,g,i):vi(g,n,i)}),f}),ff=Zr(function(e,n,i){yt(e,i,n)});function Vr(e,n){return(N(e)?H:Zl)(e,E(n,3))}var df=Zr(function(e,n,i){e[i?0:1].push(n)},function(){return[[],[]]}),Tf=F(function(e,n){if(null==e)return[];var i=n.length;return i>1&&we(e,n[0],n[1])?n=[]:i>2&&we(n[0],n[1],n[2])&&(n=[n[0]]),Ll(e,se(n,1),[])}),Qr=nc||function(){return te.Date.now()};function Ss(e,n,i){return n=i?d:n,Ct(e,128,d,d,d,d,n=e&&null==n?e.length:n)}function Is(e,n){var i;if("function"!=typeof n)throw new K(Te);return e=O(e),function(){return--e>0&&(i=n.apply(this,arguments)),e<=1&&(n=d),i}}var Ga=F(function(e,n,i){var a=1;if(i.length){var c=ft(i,Vn(Ga));a|=32}return Ct(e,a,n,i,c)}),Zs=F(function(e,n,i){var a=3;if(i.length){var c=ft(i,Vn(Zs));a|=32}return Ct(n,a,e,i,c)});function Ms(e,n,i){var a,c,f,g,m,_,x=0,A=!1,b=!1,y=!0;if("function"!=typeof e)throw new K(Te);function I(z){var lt=a,Rt=c;return a=c=d,x=z,g=e.apply(Rt,lt)}function M(z){return x=z,m=Ti(V,n),A?I(z):g}function L(z){var lt=z-_;return _===d||lt>=n||lt<0||b&&z-x>=f}function V(){var z=Qr();if(L(z))return Y(z);m=Ti(V,function(z){var zs=n-(z-_);return b?ue(zs,f-(z-x)):zs}(z))}function Y(z){return m=d,y&&a?I(z):(a=c=d,g)}function Pe(){var z=Qr(),lt=L(z);if(a=arguments,c=this,_=z,lt){if(m===d)return M(_);if(b)return ql(m),m=Ti(V,n),I(_)}return m===d&&(m=Ti(V,n)),g}return n=je(n)||0,B(i)&&(A=!!i.leading,f=(b="maxWait"in i)?ne(je(i.maxWait)||0,n):f,y="trailing"in i?!!i.trailing:y),Pe.cancel=function(){m!==d&&ql(m),x=0,a=_=c=m=d},Pe.flush=function(){return m===d?g:Y(Qr())},Pe}var Cf=F(function(e,n){return Al(e,1,n)}),Sf=F(function(e,n,i){return Al(e,je(n)||0,i)});function Yr(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new K(Te);var i=function(){var a=arguments,c=n?n.apply(this,a):a[0],f=i.cache;if(f.has(c))return f.get(c);var g=e.apply(this,a);return i.cache=f.set(c,g)||f,g};return i.cache=new(Yr.Cache||Tt),i}function Jr(e){if("function"!=typeof e)throw new K(Te);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}Yr.Cache=Tt;var Ef=du(function(e,n){var i=(n=1==n.length&&N(n[0])?H(n[0],xe(E())):H(se(n,1),xe(E()))).length;return F(function(a){for(var c=-1,f=ue(a.length,i);++c<f;)a[c]=n[c].call(this,a[c]);return ve(e,this,a)})}),za=F(function(e,n){var i=ft(n,Vn(za));return Ct(e,32,d,n,i)}),Ls=F(function(e,n){var i=ft(n,Vn(Ls));return Ct(e,64,d,n,i)}),Rf=St(function(e,n){return Ct(e,256,d,d,d,n)});function at(e,n){return e===n||e!=e&&n!=n}var Df=Lr(ba),Pf=Lr(function(e,n){return e>=n}),dn=Cl(function(){return arguments}())?Cl:function(e){return W(e)&&P.call(e,"callee")&&!pl.call(e,"callee")},N=u.isArray,$f=Bi?xe(Bi):function(e){return W(e)&&Ae(e)==Nt};function Le(e){return null!=e&&qr(e.length)&&!Zt(e)}function G(e){return W(e)&&Le(e)}var Ht=rc||ll,Bf=ki?xe(ki):function(e){return W(e)&&Ae(e)==Wt};function Ka(e){if(!W(e))return!1;var n=Ae(e);return n==vn||"[object DOMException]"==n||"string"==typeof e.message&&"string"==typeof e.name&&!yi(e)}function Zt(e){if(!B(e))return!1;var n=Ae(e);return n==xn||n==Se||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Ns(e){return"number"==typeof e&&e==O(e)}function qr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ct}function B(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function W(e){return null!=e&&"object"==typeof e}var Os=Wi?xe(Wi):function(e){return W(e)&&pe(e)==Ie};function Us(e){return"number"==typeof e||W(e)&&Ae(e)==ke}function yi(e){if(!W(e)||Ae(e)!=it)return!1;var n=dr(e);if(null===n)return!0;var i=P.call(n,"constructor")&&n.constructor;return"function"==typeof i&&i instanceof i&&ur.call(i)==Xs}var Xa=Gi?xe(Gi):function(e){return W(e)&&Ae(e)==Gt},Fs=zi?xe(zi):function(e){return W(e)&&pe(e)==Fe};function Dr(e){return"string"==typeof e||!N(e)&&W(e)&&Ae(e)==zt}function qe(e){return"symbol"==typeof e||W(e)&&Ae(e)==An}var Qn=Ki?xe(Ki):function(e){return W(e)&&qr(e.length)&&!!$[Ae(e)]},sh=Lr(Sa),ch=Lr(function(e,n){return e<=n});function Vs(e){if(!e)return[];if(Le(e))return Dr(e)?Ye(e):Me(e);if(pi&&e[pi])return function(o){for(var s,u=[];!(s=o.next()).done;)u.push(s.value);return u}(e[pi]());var n=pe(e);return(n==Ie?ui:n==Fe?Rn:Yn)(e)}function Et(e){return e?(e=je(e))===Ce||e===-Ce?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function O(e){var n=Et(e),i=n%1;return n==n?i?n-i:n:0}function Qs(e){return e?un(O(e),0,oe):0}function je(e){if("number"==typeof e)return e;if(qe(e))return NaN;if(B(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=B(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=ir(e);var i=bn.test(e);return i||_t.test(e)?Ho(e.slice(2),i?2:8):xo.test(e)?NaN:+e}function Ys(e){return dt(e,Ne(e))}function D(e){return null==e?"":Je(e)}var ph=Un(function(e,n){if(bi(n)||Le(n))dt(n,ae(n),e);else for(var i in n)P.call(n,i)&&mi(e,i,n[i])}),Js=Un(function(e,n){dt(n,Ne(n),e)}),Pr=Un(function(e,n,i,a){dt(n,Ne(n),e,a)}),fh=Un(function(e,n,i,a){dt(n,ae(n),e,a)}),hh=St(xa),gh=F(function(e,n){e=R(e);var i=-1,a=n.length,c=a>2?n[2]:d;for(c&&we(n[0],n[1],c)&&(a=1);++i<a;)for(var f=n[i],g=Ne(f),m=-1,_=g.length;++m<_;){var x=g[m],A=e[x];(A===d||at(A,Mn[x])&&!P.call(e,x))&&(e[x]=f[x])}return e}),mh=F(function(e){return e.push(d,is),ve(qs,d,e)});function ja(e,n,i){var a=null==e?d:pn(e,n);return a===d?i:a}function el(e,n){return null!=e&&as(e,n,Wc)}var Sh=Xl(function(e,n,i){null!=n&&"function"!=typeof n.toString&&(n=pr.call(n)),e[n]=i},nl(Oe)),Ih=Xl(function(e,n,i){null!=n&&"function"!=typeof n.toString&&(n=pr.call(n)),P.call(e,n)?e[n].push(i):e[n]=[i]},E),Zh=F(vi);function ae(e){return Le(e)?ml(e):Ca(e)}function Ne(e){return Le(e)?ml(e,!0):function(e){if(!B(e))return function(e){var n=[];if(null!=e)for(var i in R(e))n.push(i);return n}(e);var n=bi(e),i=[];for(var a in e)"constructor"==a&&(n||!P.call(e,a))||i.push(a);return i}(e)}var Mh=Un(function(e,n,i){Cr(e,n,i)}),qs=Un(function(e,n,i,a){Cr(e,n,i,a)}),Lh=St(function(e,n){var i={};if(null==e)return i;var a=!1;n=H(n,function(f){return f=Pt(f,e),a||(a=f.length>1),f}),dt(e,Ya(e),i),a&&(i=ze(i,7,Cu));for(var c=n.length;c--;)Ma(i,n[c]);return i}),Oh=St(function(e,n){return null==e?{}:function(e,n){return Nl(e,n,function(i,a){return el(e,a)})}(e,n)});function Ds(e,n){if(null==e)return{};var i=H(Ya(e),function(a){return[a]});return n=E(n),Nl(e,i,function(a,c){return n(a,c[0])})}var Ps=ts(ae),$s=ts(Ne);function Yn(e){return null==e?[]:ci(e,ae(e))}var Bh=Fn(function(e,n,i){return n=n.toLowerCase(),e+(i?Hs(n):n)});function Hs(e){return tl(D(e).toLowerCase())}function Bs(e){return(e=D(e))&&e.replace(bo,ia).replace(Qo,"")}var zh=Fn(function(e,n,i){return e+(i?"-":"")+n.toLowerCase()}),Kh=Fn(function(e,n,i){return e+(i?" ":"")+n.toLowerCase()}),Xh=Gl("toLowerCase"),od=Fn(function(e,n,i){return e+(i?"_":"")+n.toLowerCase()}),ld=Fn(function(e,n,i){return e+(i?" ":"")+tl(n)}),_d=Fn(function(e,n,i){return e+(i?" ":"")+n.toUpperCase()}),tl=Gl("toUpperCase");function ks(e,n,i){return e=D(e),(n=i?d:n)===d?function(o){return qo.test(o)}(e)?function(o){return o.match(Yo)||[]}(e):function(o){return o.match(go)||[]}(e):e.match(n)||[]}var Ws=F(function(e,n){try{return ve(e,d,n)}catch(i){return Ka(i)?i:new w(i)}}),vd=St(function(e,n){return Ee(n,function(i){i=gt(i),yt(e,i,Ga(e[i],e))}),e});function nl(e){return function(){return e}}var bd=Kl(),Td=Kl(!0);function Oe(e){return e}function il(e){return Il("function"==typeof e?e:ze(e,1))}var Sd=F(function(e,n){return function(i){return vi(i,e,n)}}),Id=F(function(e,n){return function(i){return vi(e,i,n)}});function rl(e,n,i){var a=ae(n),c=yr(n,a);null==i&&(!B(n)||!c.length&&a.length)&&(i=n,n=e,e=this,c=yr(n,ae(n)));var f=!(B(i)&&"chain"in i&&!i.chain),g=Zt(e);return Ee(c,function(m){var _=n[m];e[m]=_,g&&(e.prototype[m]=function(){var x=this.__chain__;if(f||x){var A=e(this.__wrapped__),b=A.__actions__=Me(this.__actions__);return b.push({func:_,args:arguments,thisArg:e}),A.__chain__=x,A}return _.apply(e,pt([this.value()],arguments))})}),e}function ol(){}var Rd=Fa(H),Md=Fa(Xi),Ld=Fa(Zn);function Gs(e){return Pa(e)?oi(gt(e)):function(e){return function(n){return pn(n,e)}}(e)}var Od=jl(),Ud=jl(!0);function al(){return[]}function ll(){return!1}var Dd=Rr(function(e,n){return e+n},0),Pd=Va("ceil"),$d=Rr(function(e,n){return e/n},1),Hd=Va("floor"),Xd=Rr(function(e,n){return e*n},1),jd=Va("round"),eg=Rr(function(e,n){return e-n},0);return p.after=function(e,n){if("function"!=typeof n)throw new K(Te);return e=O(e),function(){if(--e<1)return n.apply(this,arguments)}},p.ary=Ss,p.assign=ph,p.assignIn=Js,p.assignInWith=Pr,p.assignWith=fh,p.at=hh,p.before=Is,p.bind=Ga,p.bindAll=vd,p.bindKey=Zs,p.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return N(e)?e:[e]},p.chain=Ts,p.chunk=function(e,n,i){n=(i?we(e,n,i):n===d)?1:ne(O(n),0);var a=null==e?0:e.length;if(!a||n<1)return[];for(var c=0,f=0,g=u(_r(a/n));c<a;)g[f++]=Ke(e,c,c+=n);return g},p.compact=function(e){for(var n=-1,i=null==e?0:e.length,a=0,c=[];++n<i;){var f=e[n];f&&(c[a++]=f)}return c},p.concat=function(){var e=arguments.length;if(!e)return[];for(var n=u(e-1),i=arguments[0],a=e;a--;)n[a-1]=arguments[a];return pt(N(i)?Me(i):[i],se(n,1))},p.cond=function(e){var n=null==e?0:e.length,i=E();return e=n?H(e,function(a){if("function"!=typeof a[1])throw new K(Te);return[i(a[0]),a[1]]}):[],F(function(a){for(var c=-1;++c<n;){var f=e[c];if(ve(f[0],this,a))return ve(f[1],this,a)}})},p.conforms=function(e){return function(e){var n=ae(e);return function(i){return xl(i,e,n)}}(ze(e,1))},p.constant=nl,p.countBy=ef,p.create=function(e,n){var i=On(e);return null==n?i:vl(i,n)},p.curry=function Es(e,n,i){var a=Ct(e,8,d,d,d,d,d,n=i?d:n);return a.placeholder=Es.placeholder,a},p.curryRight=function Rs(e,n,i){var a=Ct(e,16,d,d,d,d,d,n=i?d:n);return a.placeholder=Rs.placeholder,a},p.debounce=Ms,p.defaults=gh,p.defaultsDeep=mh,p.defer=Cf,p.delay=Sf,p.difference=ku,p.differenceBy=Wu,p.differenceWith=Gu,p.drop=function(e,n,i){var a=null==e?0:e.length;return a?Ke(e,(n=i||n===d?1:O(n))<0?0:n,a):[]},p.dropRight=function(e,n,i){var a=null==e?0:e.length;return a?Ke(e,0,(n=a-(n=i||n===d?1:O(n)))<0?0:n):[]},p.dropRightWhile=function(e,n){return e&&e.length?Ir(e,E(n,3),!0,!0):[]},p.dropWhile=function(e,n){return e&&e.length?Ir(e,E(n,3),!0):[]},p.fill=function(e,n,i,a){var c=null==e?0:e.length;return c?(i&&"number"!=typeof i&&we(e,n,i)&&(i=0,a=c),function(e,n,i,a){var c=e.length;for((i=O(i))<0&&(i=-i>c?0:c+i),(a=a===d||a>c?c:O(a))<0&&(a+=c),a=i>a?0:Qs(a);i<a;)e[i++]=n;return e}(e,n,i,a)):[]},p.filter=function(e,n){return(N(e)?ut:bl)(e,E(n,3))},p.flatMap=function(e,n){return se(Vr(e,n),1)},p.flatMapDeep=function(e,n){return se(Vr(e,n),Ce)},p.flatMapDepth=function(e,n,i){return i=i===d?1:O(i),se(Vr(e,n),i)},p.flatten=xs,p.flattenDeep=function(e){return null!=e&&e.length?se(e,Ce):[]},p.flattenDepth=function(e,n){return null!=e&&e.length?se(e,n=n===d?1:O(n)):[]},p.flip=function(e){return Ct(e,512)},p.flow=bd,p.flowRight=Td,p.fromPairs=function(e){for(var n=-1,i=null==e?0:e.length,a={};++n<i;){var c=e[n];a[c[0]]=c[1]}return a},p.functions=function(e){return null==e?[]:yr(e,ae(e))},p.functionsIn=function(e){return null==e?[]:yr(e,Ne(e))},p.groupBy=cf,p.initial=function(e){return null!=e&&e.length?Ke(e,0,-1):[]},p.intersection=ap,p.intersectionBy=lp,p.intersectionWith=sp,p.invert=Sh,p.invertBy=Ih,p.invokeMap=pf,p.iteratee=il,p.keyBy=ff,p.keys=ae,p.keysIn=Ne,p.map=Vr,p.mapKeys=function(e,n){var i={};return n=E(n,3),ht(e,function(a,c,f){yt(i,n(a,c,f),a)}),i},p.mapValues=function(e,n){var i={};return n=E(n,3),ht(e,function(a,c,f){yt(i,c,n(a,c,f))}),i},p.matches=function(e){return El(ze(e,1))},p.matchesProperty=function(e,n){return Rl(e,ze(n,1))},p.memoize=Yr,p.merge=Mh,p.mergeWith=qs,p.method=Sd,p.methodOf=Id,p.mixin=rl,p.negate=Jr,p.nthArg=function(e){return e=O(e),F(function(n){return Ml(n,e)})},p.omit=Lh,p.omitBy=function(e,n){return Ds(e,Jr(E(n)))},p.once=function(e){return Is(2,e)},p.orderBy=function(e,n,i,a){return null==e?[]:(N(n)||(n=null==n?[]:[n]),N(i=a?d:i)||(i=null==i?[]:[i]),Ll(e,n,i))},p.over=Rd,p.overArgs=Ef,p.overEvery=Md,p.overSome=Ld,p.partial=za,p.partialRight=Ls,p.partition=df,p.pick=Oh,p.pickBy=Ds,p.property=Gs,p.propertyOf=function(e){return function(n){return null==e?d:pn(e,n)}},p.pull=fp,p.pullAll=ws,p.pullAllBy=function(e,n,i){return e&&e.length&&n&&n.length?Ia(e,n,E(i,2)):e},p.pullAllWith=function(e,n,i){return e&&e.length&&n&&n.length?Ia(e,n,d,i):e},p.pullAt=gp,p.range=Od,p.rangeRight=Ud,p.rearg=Rf,p.reject=function(e,n){return(N(e)?ut:bl)(e,Jr(E(n,3)))},p.remove=function(e,n){var i=[];if(!e||!e.length)return i;var a=-1,c=[],f=e.length;for(n=E(n,3);++a<f;){var g=e[a];n(g,a,e)&&(i.push(g),c.push(a))}return Ol(e,c),i},p.rest=function(e,n){if("function"!=typeof e)throw new K(Te);return F(e,n=n===d?n:O(n))},p.reverse=ka,p.sampleSize=function(e,n,i){return n=(i?we(e,n,i):n===d)?1:O(n),(N(e)?Jc:uu)(e,n)},p.set=function(e,n,i){return null==e?e:Ai(e,n,i)},p.setWith=function(e,n,i,a){return a="function"==typeof a?a:d,null==e?e:Ai(e,n,i,a)},p.shuffle=function(e){return(N(e)?qc:fu)(e)},p.slice=function(e,n,i){var a=null==e?0:e.length;return a?(i&&"number"!=typeof i&&we(e,n,i)?(n=0,i=a):(n=null==n?0:O(n),i=i===d?a:O(i)),Ke(e,n,i)):[]},p.sortBy=Tf,p.sortedUniq=function(e){return e&&e.length?Fl(e):[]},p.sortedUniqBy=function(e,n){return e&&e.length?Fl(e,E(n,2)):[]},p.split=function(e,n,i){return i&&"number"!=typeof i&&we(e,n,i)&&(n=i=d),(i=i===d?oe:i>>>0)?(e=D(e))&&("string"==typeof n||null!=n&&!Xa(n))&&!(n=Je(n))&&Qt(e)?$t(Ye(e),0,i):e.split(n,i):[]},p.spread=function(e,n){if("function"!=typeof e)throw new K(Te);return n=null==n?0:ne(O(n),0),F(function(i){var a=i[n],c=$t(i,0,n);return a&&pt(c,a),ve(e,this,c)})},p.tail=function(e){var n=null==e?0:e.length;return n?Ke(e,1,n):[]},p.take=function(e,n,i){return e&&e.length?Ke(e,0,(n=i||n===d?1:O(n))<0?0:n):[]},p.takeRight=function(e,n,i){var a=null==e?0:e.length;return a?Ke(e,(n=a-(n=i||n===d?1:O(n)))<0?0:n,a):[]},p.takeRightWhile=function(e,n){return e&&e.length?Ir(e,E(n,3),!1,!0):[]},p.takeWhile=function(e,n){return e&&e.length?Ir(e,E(n,3)):[]},p.tap=function(e,n){return n(e),e},p.throttle=function(e,n,i){var a=!0,c=!0;if("function"!=typeof e)throw new K(Te);return B(i)&&(a="leading"in i?!!i.leading:a,c="trailing"in i?!!i.trailing:c),Ms(e,n,{leading:a,maxWait:n,trailing:c})},p.thru=Fr,p.toArray=Vs,p.toPairs=Ps,p.toPairsIn=$s,p.toPath=function(e){return N(e)?H(e,gt):qe(e)?[e]:Me(gs(D(e)))},p.toPlainObject=Ys,p.transform=function(e,n,i){var a=N(e),c=a||Ht(e)||Qn(e);if(n=E(n,4),null==i){var f=e&&e.constructor;i=c?a?new f:[]:B(e)&&Zt(f)?On(dr(e)):{}}return(c?Ee:ht)(e,function(g,m,_){return n(i,g,m,_)}),i},p.unary=function(e){return Ss(e,1)},p.union=Mp,p.unionBy=Lp,p.unionWith=Np,p.uniq=function(e){return e&&e.length?Dt(e):[]},p.uniqBy=function(e,n){return e&&e.length?Dt(e,E(n,2)):[]},p.uniqWith=function(e,n){return n="function"==typeof n?n:d,e&&e.length?Dt(e,d,n):[]},p.unset=function(e,n){return null==e||Ma(e,n)},p.unzip=Wa,p.unzipWith=bs,p.update=function(e,n,i){return null==e?e:Ql(e,n,Oa(i))},p.updateWith=function(e,n,i,a){return a="function"==typeof a?a:d,null==e?e:Ql(e,n,Oa(i),a)},p.values=Yn,p.valuesIn=function(e){return null==e?[]:ci(e,Ne(e))},p.without=Vp,p.words=ks,p.wrap=function(e,n){return za(Oa(n),e)},p.xor=Qp,p.xorBy=Yp,p.xorWith=Jp,p.zip=qp,p.zipObject=function(e,n){return Jl(e||[],n||[],mi)},p.zipObjectDeep=function(e,n){return Jl(e||[],n||[],Ai)},p.zipWith=$p,p.entries=Ps,p.entriesIn=$s,p.extend=Js,p.extendWith=Pr,rl(p,p),p.add=Dd,p.attempt=Ws,p.camelCase=Bh,p.capitalize=Hs,p.ceil=Pd,p.clamp=function(e,n,i){return i===d&&(i=n,n=d),i!==d&&(i=(i=je(i))==i?i:0),n!==d&&(n=(n=je(n))==n?n:0),un(je(e),n,i)},p.clone=function(e){return ze(e,4)},p.cloneDeep=function(e){return ze(e,5)},p.cloneDeepWith=function(e,n){return ze(e,5,n="function"==typeof n?n:d)},p.cloneWith=function(e,n){return ze(e,4,n="function"==typeof n?n:d)},p.conformsTo=function(e,n){return null==n||xl(e,n,ae(n))},p.deburr=Bs,p.defaultTo=function(e,n){return null==e||e!=e?n:e},p.divide=$d,p.endsWith=function(e,n,i){e=D(e),n=Je(n);var a=e.length,c=i=i===d?a:un(O(i),0,a);return(i-=n.length)>=0&&e.slice(i,c)==n},p.eq=at,p.escape=function(e){return(e=D(e))&&io.test(e)?e.replace(Ri,ra):e},p.escapeRegExp=function(e){return(e=D(e))&&co.test(e)?e.replace(Hn,"\\$&"):e},p.every=function(e,n,i){var a=N(e)?Xi:Hc;return i&&we(e,n,i)&&(n=d),a(e,E(n,3))},p.find=rf,p.findIndex=_s,p.findKey=function(e,n){return ji(e,E(n,3),ht)},p.findLast=of,p.findLastIndex=vs,p.findLastKey=function(e,n){return ji(e,E(n,3),wa)},p.floor=Hd,p.forEach=ys,p.forEachRight=Cs,p.forIn=function(e,n){return null==e?e:Aa(e,E(n,3),Ne)},p.forInRight=function(e,n){return null==e?e:Tl(e,E(n,3),Ne)},p.forOwn=function(e,n){return e&&ht(e,E(n,3))},p.forOwnRight=function(e,n){return e&&wa(e,E(n,3))},p.get=ja,p.gt=Df,p.gte=Pf,p.has=function(e,n){return null!=e&&as(e,n,kc)},p.hasIn=el,p.head=As,p.identity=Oe,p.includes=function(e,n,i,a){e=Le(e)?e:Yn(e),i=i&&!a?O(i):0;var c=e.length;return i<0&&(i=ne(c+i,0)),Dr(e)?i<=c&&e.indexOf(n,i)>-1:!!c&&Vt(e,n,i)>-1},p.indexOf=function(e,n,i){var a=null==e?0:e.length;if(!a)return-1;var c=null==i?0:O(i);return c<0&&(c=ne(a+c,0)),Vt(e,n,c)},p.inRange=function(e,n,i){return n=Et(n),i===d?(i=n,n=0):i=Et(i),function(e,n,i){return e>=ue(n,i)&&e<ne(n,i)}(e=je(e),n,i)},p.invoke=Zh,p.isArguments=dn,p.isArray=N,p.isArrayBuffer=$f,p.isArrayLike=Le,p.isArrayLikeObject=G,p.isBoolean=function(e){return!0===e||!1===e||W(e)&&Ae(e)==le},p.isBuffer=Ht,p.isDate=Bf,p.isElement=function(e){return W(e)&&1===e.nodeType&&!yi(e)},p.isEmpty=function(e){if(null==e)return!0;if(Le(e)&&(N(e)||"string"==typeof e||"function"==typeof e.splice||Ht(e)||Qn(e)||dn(e)))return!e.length;var n=pe(e);if(n==Ie||n==Fe)return!e.size;if(bi(e))return!Ca(e).length;for(var i in e)if(P.call(e,i))return!1;return!0},p.isEqual=function(e,n){return xi(e,n)},p.isEqualWith=function(e,n,i){var a=(i="function"==typeof i?i:d)?i(e,n):d;return a===d?xi(e,n,d,i):!!a},p.isError=Ka,p.isFinite=function(e){return"number"==typeof e&&hl(e)},p.isFunction=Zt,p.isInteger=Ns,p.isLength=qr,p.isMap=Os,p.isMatch=function(e,n){return e===n||ya(e,n,qa(n))},p.isMatchWith=function(e,n,i){return i="function"==typeof i?i:d,ya(e,n,qa(n),i)},p.isNaN=function(e){return Us(e)&&e!=+e},p.isNative=function(e){if(Vu(e))throw new w("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sl(e)},p.isNil=function(e){return null==e},p.isNull=function(e){return null===e},p.isNumber=Us,p.isObject=B,p.isObjectLike=W,p.isPlainObject=yi,p.isRegExp=Xa,p.isSafeInteger=function(e){return Ns(e)&&e>=-ct&&e<=ct},p.isSet=Fs,p.isString=Dr,p.isSymbol=qe,p.isTypedArray=Qn,p.isUndefined=function(e){return e===d},p.isWeakMap=function(e){return W(e)&&pe(e)==Kt},p.isWeakSet=function(e){return W(e)&&"[object WeakSet]"==Ae(e)},p.join=function(e,n){return null==e?"":oc.call(e,n)},p.kebabCase=zh,p.last=Xe,p.lastIndexOf=function(e,n,i){var a=null==e?0:e.length;if(!a)return-1;var c=a;return i!==d&&(c=(c=O(i))<0?ne(a+c,0):ue(c,a-1)),n==n?function(o,s,u){for(var v=u+1;v--;)if(o[v]===s)return v;return v}(e,n,c):En(e,er,c,!0)},p.lowerCase=Kh,p.lowerFirst=Xh,p.lt=sh,p.lte=ch,p.max=function(e){return e&&e.length?Tr(e,Oe,ba):d},p.maxBy=function(e,n){return e&&e.length?Tr(e,E(n,2),ba):d},p.mean=function(e){return tr(e,Oe)},p.meanBy=function(e,n){return tr(e,E(n,2))},p.min=function(e){return e&&e.length?Tr(e,Oe,Sa):d},p.minBy=function(e,n){return e&&e.length?Tr(e,E(n,2),Sa):d},p.stubArray=al,p.stubFalse=ll,p.stubObject=function(){return{}},p.stubString=function(){return""},p.stubTrue=function(){return!0},p.multiply=Xd,p.nth=function(e,n){return e&&e.length?Ml(e,O(n)):d},p.noConflict=function(){return te._===this&&(te._=js),this},p.noop=ol,p.now=Qr,p.pad=function(e,n,i){e=D(e);var a=(n=O(n))?Yt(e):0;if(!n||a>=n)return e;var c=(n-a)/2;return Mr(vr(c),i)+e+Mr(_r(c),i)},p.padEnd=function(e,n,i){e=D(e);var a=(n=O(n))?Yt(e):0;return n&&a<n?e+Mr(n-a,i):e},p.padStart=function(e,n,i){e=D(e);var a=(n=O(n))?Yt(e):0;return n&&a<n?Mr(n-a,i)+e:e},p.parseInt=function(e,n,i){return i||null==n?n=0:n&&(n=+n),sc(D(e).replace(Bn,""),n||0)},p.random=function(e,n,i){if(i&&"boolean"!=typeof i&&we(e,n,i)&&(n=i=d),i===d&&("boolean"==typeof n?(i=n,n=d):"boolean"==typeof e&&(i=e,e=d)),e===d&&n===d?(e=0,n=1):(e=Et(e),n===d?(n=e,e=0):n=Et(n)),e>n){var a=e;e=n,n=a}if(i||e%1||n%1){var c=dl();return ue(e+c*(n-e+Di("1e-"+((c+"").length-1))),n)}return Za(e,n)},p.reduce=function(e,n,i){var a=N(e)?ri:nr,c=arguments.length<3;return a(e,E(n,4),i,c,qt)},p.reduceRight=function(e,n,i){var a=N(e)?Go:nr,c=arguments.length<3;return a(e,E(n,4),i,c,wl)},p.repeat=function(e,n,i){return n=(i?we(e,n,i):n===d)?1:O(n),Ea(D(e),n)},p.replace=function(){var e=arguments,n=D(e[0]);return e.length<3?n:n.replace(e[1],e[2])},p.result=function(e,n,i){var a=-1,c=(n=Pt(n,e)).length;for(c||(c=1,e=d);++a<c;){var f=null==e?d:e[gt(n[a])];f===d&&(a=c,f=i),e=Zt(f)?f.call(e):f}return e},p.round=jd,p.runInContext=o,p.sample=function(e){return(N(e)?_l:cu)(e)},p.size=function(e){if(null==e)return 0;if(Le(e))return Dr(e)?Yt(e):e.length;var n=pe(e);return n==Ie||n==Fe?e.size:Ca(e).length},p.snakeCase=od,p.some=function(e,n,i){var a=N(e)?Zn:hu;return i&&we(e,n,i)&&(n=d),a(e,E(n,3))},p.sortedIndex=function(e,n){return Sr(e,n)},p.sortedIndexBy=function(e,n,i){return Ra(e,n,E(i,2))},p.sortedIndexOf=function(e,n){var i=null==e?0:e.length;if(i){var a=Sr(e,n);if(a<i&&at(e[a],n))return a}return-1},p.sortedLastIndex=function(e,n){return Sr(e,n,!0)},p.sortedLastIndexBy=function(e,n,i){return Ra(e,n,E(i,2),!0)},p.sortedLastIndexOf=function(e,n){if(null!=e&&e.length){var a=Sr(e,n,!0)-1;if(at(e[a],n))return a}return-1},p.startCase=ld,p.startsWith=function(e,n,i){return e=D(e),i=null==i?0:un(O(i),0,e.length),n=Je(n),e.slice(i,i+n.length)==n},p.subtract=eg,p.sum=function(e){return e&&e.length?li(e,Oe):0},p.sumBy=function(e,n){return e&&e.length?li(e,E(n,2)):0},p.template=function(e,n,i){var a=p.templateSettings;i&&we(e,n,i)&&(n=d),e=D(e),n=Pr({},n,a,ns);var m,_,c=Pr({},n.imports,a.imports,ns),f=ae(c),g=ci(c,f),x=0,A=n.interpolate||Tn,b="__p += '",y=We((n.escape||Tn).source+"|"+A.source+"|"+(A===Mi?vo:Tn).source+"|"+(n.evaluate||Tn).source+"|$","g"),I="//# sourceURL="+(P.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Po+"]")+"\n";e.replace(y,function(L,V,Y,De,be,Pe){return Y||(Y=De),b+=e.slice(x,Pe).replace(To,oa),V&&(m=!0,b+="' +\n__e("+V+") +\n'"),be&&(_=!0,b+="';\n"+be+";\n__p += '"),Y&&(b+="' +\n((__t = ("+Y+")) == null ? '' : __t) +\n'"),x=Pe+L.length,L}),b+="';\n";var M=P.call(n,"variable")&&n.variable;if(M){if(mo.test(M))throw new w("Invalid `variable` option passed into `_.template`")}else b="with (obj) {\n"+b+"\n}\n";b=(_?b.replace(jr,""):b).replace(eo,"$1").replace(to,"$1;"),b="function("+(M||"obj")+") {\n"+(M?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(m?", __e = _.escape":"")+(_?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+b+"return __p\n}";var U=Ws(function(){return C(f,I+"return "+b).apply(d,g)});if(U.source=b,Ka(U))throw U;return U},p.times=function(e,n){if((e=O(e))<1||e>ct)return[];var i=oe,a=ue(e,oe);n=E(n),e-=oe;for(var c=si(a,n);++i<e;)n(i);return c},p.toFinite=Et,p.toInteger=O,p.toLength=Qs,p.toLower=function(e){return D(e).toLowerCase()},p.toNumber=je,p.toSafeInteger=function(e){return e?un(O(e),-ct,ct):0===e?e:0},p.toString=D,p.toUpper=function(e){return D(e).toUpperCase()},p.trim=function(e,n,i){if((e=D(e))&&(i||n===d))return ir(e);if(!e||!(n=Je(n)))return e;var a=Ye(e),c=Ye(n);return $t(a,rr(a,c),or(a,c)+1).join("")},p.trimEnd=function(e,n,i){if((e=D(e))&&(i||n===d))return e.slice(0,sr(e)+1);if(!e||!(n=Je(n)))return e;var a=Ye(e);return $t(a,0,or(a,Ye(n))+1).join("")},p.trimStart=function(e,n,i){if((e=D(e))&&(i||n===d))return e.replace(Bn,"");if(!e||!(n=Je(n)))return e;var a=Ye(e);return $t(a,rr(a,Ye(n))).join("")},p.truncate=function(e,n){var i=30,a="...";if(B(n)){var c="separator"in n?n.separator:c;i="length"in n?O(n.length):i,a="omission"in n?Je(n.omission):a}var f=(e=D(e)).length;if(Qt(e)){var g=Ye(e);f=g.length}if(i>=f)return e;var m=i-Yt(a);if(m<1)return a;var _=g?$t(g,0,m).join(""):e.slice(0,m);if(c===d)return _+a;if(g&&(m+=_.length-m),Xa(c)){if(e.slice(m).search(c)){var x,A=_;for(c.global||(c=We(c.source,D(Li.exec(c))+"g")),c.lastIndex=0;x=c.exec(A);)var b=x.index;_=_.slice(0,b===d?m:b)}}else if(e.indexOf(Je(c),m)!=m){var y=_.lastIndexOf(c);y>-1&&(_=_.slice(0,y))}return _+a},p.unescape=function(e){return(e=D(e))&&no.test(e)?e.replace(Ei,pa):e},p.uniqueId=function(e){var n=++Ks;return D(e)+n},p.upperCase=_d,p.upperFirst=tl,p.each=ys,p.eachRight=Cs,p.first=As,rl(p,function(){var e={};return ht(p,function(n,i){P.call(p.prototype,i)||(e[i]=n)}),e}(),{chain:!1}),p.VERSION="4.17.21",Ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),Ee(["drop","take"],function(e,n){Q.prototype[e]=function(i){i=i===d?1:ne(O(i),0);var a=this.__filtered__&&!n?new Q(this):this.clone();return a.__filtered__?a.__takeCount__=ue(i,a.__takeCount__):a.__views__.push({size:ue(i,oe),type:e+(a.__dir__<0?"Right":"")}),a},Q.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),Ee(["filter","map","takeWhile"],function(e,n){var i=n+1,a=1==i||3==i;Q.prototype[e]=function(c){var f=this.clone();return f.__iteratees__.push({iteratee:E(c,3),type:i}),f.__filtered__=f.__filtered__||a,f}}),Ee(["head","last"],function(e,n){var i="take"+(n?"Right":"");Q.prototype[e]=function(){return this[i](1).value()[0]}}),Ee(["initial","tail"],function(e,n){var i="drop"+(n?"":"Right");Q.prototype[e]=function(){return this.__filtered__?new Q(this):this[i](1)}}),Q.prototype.compact=function(){return this.filter(Oe)},Q.prototype.find=function(e){return this.filter(e).head()},Q.prototype.findLast=function(e){return this.reverse().find(e)},Q.prototype.invokeMap=F(function(e,n){return"function"==typeof e?new Q(this):this.map(function(i){return vi(i,e,n)})}),Q.prototype.reject=function(e){return this.filter(Jr(E(e)))},Q.prototype.slice=function(e,n){e=O(e);var i=this;return i.__filtered__&&(e>0||n<0)?new Q(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),n!==d&&(i=(n=O(n))<0?i.dropRight(-n):i.take(n-e)),i)},Q.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Q.prototype.toArray=function(){return this.take(oe)},ht(Q.prototype,function(e,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),c=p[a?"take"+("last"==n?"Right":""):n],f=a||/^find/.test(n);!c||(p.prototype[n]=function(){var g=this.__wrapped__,m=a?[1]:arguments,_=g instanceof Q,x=m[0],A=_||N(g),b=function(V){var Y=c.apply(p,pt([V],m));return a&&y?Y[0]:Y};A&&i&&"function"==typeof x&&1!=x.length&&(_=A=!1);var y=this.__chain__,I=!!this.__actions__.length,M=f&&!y,U=_&&!I;if(!f&&A){g=U?g:new Q(this);var L=e.apply(g,m);return L.__actions__.push({func:Fr,args:[b],thisArg:d}),new Ge(L,y)}return M&&U?e.apply(this,m):(L=this.thru(b),M?a?L.value()[0]:L.value():L)})}),Ee(["pop","push","shift","sort","splice","unshift"],function(e){var n=an[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var c=arguments;if(a&&!this.__chain__){var f=this.value();return n.apply(N(f)?f:[],c)}return this[i](function(g){return n.apply(N(g)?g:[],c)})}}),ht(Q.prototype,function(e,n){var i=p[n];if(i){var a=i.name+"";P.call(Nn,a)||(Nn[a]=[]),Nn[a].push({name:n,func:i})}}),Nn[Er(d,2).name]=[{name:"wrapper",func:d}],Q.prototype.clone=function(){var e=new Q(this.__wrapped__);return e.__actions__=Me(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Me(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Me(this.__views__),e},Q.prototype.reverse=function(){if(this.__filtered__){var e=new Q(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Q.prototype.value=function(){var e=this.__wrapped__.value(),n=this.__dir__,i=N(e),a=n<0,c=i?e.length:0,f=function(e,n,i){for(var a=-1,c=i.length;++a<c;){var f=i[a],g=f.size;switch(f.type){case"drop":e+=g;break;case"dropRight":n-=g;break;case"take":n=ue(n,e+g);break;case"takeRight":e=ne(e,n-g)}}return{start:e,end:n}}(0,c,this.__views__),g=f.start,m=f.end,_=m-g,x=a?m:g-1,A=this.__iteratees__,b=A.length,y=0,I=ue(_,this.__takeCount__);if(!i||!a&&c==_&&I==_)return Yl(e,this.__actions__);var M=[];e:for(;_--&&y<I;){for(var U=-1,L=e[x+=n];++U<b;){var V=A[U],De=V.type,be=(0,V.iteratee)(L);if(2==De)L=be;else if(!be){if(1==De)continue e;break e}}M[y++]=L}return M},p.prototype.at=Bp,p.prototype.chain=function(){return Ts(this)},p.prototype.commit=function(){return new Ge(this.value(),this.__chain__)},p.prototype.next=function(){this.__values__===d&&(this.__values__=Vs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?d:this.__values__[this.__index__++]}},p.prototype.plant=function(e){for(var n,i=this;i instanceof wr;){var a=ms(i);a.__index__=0,a.__values__=d,n?c.__wrapped__=a:n=a;var c=a;i=i.__wrapped__}return c.__wrapped__=e,n},p.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Q){var n=e;return this.__actions__.length&&(n=new Q(this)),(n=n.reverse()).__actions__.push({func:Fr,args:[ka],thisArg:d}),new Ge(n,this.__chain__)}return this.thru(ka)},p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=function(){return Yl(this.__wrapped__,this.__actions__)},p.prototype.first=p.prototype.head,pi&&(p.prototype[pi]=function(){return this}),p}();te._=r,(X=function(){return r}.call(k,T,k,fe))!==d&&(fe.exports=X)}.call(this)},3959:(fe,k,T)=>{"use strict";T.r(k),T.d(k,{ApplicationsModule:()=>ha});var X=T(2781),d=T(6019),t=T(3668),Z=T(9133);let $r=new t.OlP("currency.mask.config");class Te{constructor(h){this.htmlInputElement=h}setCursorAt(h){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(h,h);else if(this.htmlInputElement.createTextRange){let r=this.htmlInputElement.createTextRange();r.collapse(!0),r.moveEnd("character",h),r.moveStart("character",h),r.select()}}updateValueAndCursor(h,r,o){this.rawValue=h,this.setCursorAt(o-=r-h.length)}get canInputMoreNumbers(){let h=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),r=this.inputSelection.selectionStart,o=this.inputSelection.selectionEnd,s=!(r==o||!this.htmlInputElement.value.substring(r,o).match(/\d/)),u="0"==this.htmlInputElement.value.substring(0,1);return h||s||u}get inputSelection(){let h=0,r=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)h=this.htmlInputElement.selectionStart,r=this.htmlInputElement.selectionEnd;else{let o=document.getSelection().anchorNode;if(o&&o.firstChild==this.htmlInputElement){let s=this.htmlInputElement.value.length,u=this.htmlInputElement.value.replace(/\r\n/g,"\n"),v=this.htmlInputElement.createTextRange(),w=this.htmlInputElement.createTextRange();w.collapse(!1),v.compareEndPoints("StartToEnd",w)>-1?h=r=s:(h=-v.moveStart("character",-s),h+=u.slice(0,h).split("\n").length-1,v.compareEndPoints("EndToEnd",w)>-1?r=s:(r=-v.moveEnd("character",-s),r+=u.slice(0,r).split("\n").length-1))}}return{selectionStart:h,selectionEnd:r}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(h){this._storedRawValue=h,this.htmlInputElement&&(this.htmlInputElement.value=h)}get storedRawValue(){return this._storedRawValue}}class Hr{constructor(h,r){this.htmlInputElement=h,this.options=r,this.inputManager=new Te(h)}addNumber(h){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));let r=String.fromCharCode(h),o=this.inputSelection.selectionStart,s=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,o)+r+this.rawValue.substring(s,this.rawValue.length),this.updateFieldValue(o+1)}applyMask(h,r){let{allowNegative:o,decimal:s,precision:u,prefix:v,suffix:w,thousands:C}=this.options,S=(r=h?new Number(r).toFixed(u):r).replace(/[^0-9]/g,"");if(!S)return"";let R=S.slice(0,S.length-u).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,C);""==R&&(R="0");let We=R,Re=S.slice(S.length-u);u>0&&(Re="0".repeat(u-Re.length)+Re,We+=s+Re);let K=0==parseInt(R)&&(0==parseInt(Re)||""==Re);return(r.indexOf("-")>-1&&o&&!K?"-":"")+v+We+w}clearMask(h){if(null==h||""==h)return null;let r=h.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(r=r.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(r=r.replace(this.options.decimal,".")),parseFloat(r)}changeToNegative(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){let h=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(h+1)}}changeToPositive(){let h=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(h-1)}fixCursorPosition(h){let r=this.inputSelection.selectionStart;r>this.getRawValueWithoutSuffixEndPosition()||h?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):r<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}getRawValueWithoutSuffixEndPosition(){return this.rawValue.length-this.options.suffix.length}getRawValueWithoutPrefixStartPosition(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}removeNumber(h){let{decimal:r,thousands:o}=this.options,s=this.inputSelection.selectionEnd,u=this.inputSelection.selectionStart;u>this.rawValue.length-this.options.suffix.length&&(s=this.rawValue.length-this.options.suffix.length,u=this.rawValue.length-this.options.suffix.length),s==u&&((46==h||63272==h)&&/^\d+$/.test(this.rawValue.substring(u,s+1))&&(s+=1),(46==h||63272==h)&&(this.rawValue.substring(u,s+1)==r||this.rawValue.substring(u,s+1)==o)&&(s+=2,u+=1),8==h&&/^\d+$/.test(this.rawValue.substring(u-1,s))&&(u-=1),8==h&&(this.rawValue.substring(u-1,s)==r||this.rawValue.substring(u-1,s)==o)&&(u-=2,s-=1)),this.rawValue=this.rawValue.substring(0,u)+this.rawValue.substring(s,this.rawValue.length),this.updateFieldValue(u)}updateFieldValue(h){let r=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(r,this.rawValue.length,h=null==h?this.rawValue.length:h)}updateOptions(h){let r=this.value;this.options=h,this.value=r}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(h){this.inputManager.rawValue=h}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(h){this.rawValue=this.applyMask(!0,""+h)}}class Jn{constructor(h,r){this.inputService=new Hr(h,r),this.htmlInputElement=h}handleClick(h,r){0==Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)&&!isNaN(this.inputService.value)&&this.inputService.fixCursorPosition(r)}handleCut(h){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(h){if(this.isReadOnly())return;let r=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),o=this.inputService.rawValue.length,s=this.inputService.inputSelection.selectionEnd,u=this.inputService.getRawValueWithoutSuffixEndPosition(),v=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,s==u&&1==Math.abs(o-v)||0==v){if(o<v&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),o>v)switch(r){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(r).match(/\d/))return;this.inputService.addNumber(r)}this.setCursorPosition(h),this.onModelChange(this.inputService.value)}else this.setCursorPosition(h)}handleKeydown(h){if(this.isReadOnly())return;let r=h.which||h.charCode||h.keyCode;if(8==r||46==r||63272==r){h.preventDefault();let o=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);(o==this.inputService.rawValue.length||0==this.inputService.value)&&(this.setValue(null),this.onModelChange(this.inputService.value)),0==o&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(r),this.onModelChange(this.inputService.value)),(8===r||46===r)&&0!=o&&!isNaN(this.inputService.value)&&(this.inputService.removeNumber(r),this.onModelChange(this.inputService.value))}}handleKeypress(h){if(this.isReadOnly())return;let r=h.which||h.charCode||h.keyCode;if(null!=r&&-1==[9,13].indexOf(r)&&!this.isArrowEndHomeKeyInFirefox(h)){switch(r){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(!isNaN(this.inputService.value)||null!=String.fromCharCode(r).match(/\d/))&&this.inputService.addNumber(r)}h.preventDefault(),this.onModelChange(this.inputService.value)}}handleKeyup(h){this.inputService.fixCursorPosition()}handlePaste(h){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(h){this.inputService.updateOptions(h)}getOnModelChange(){return this.onModelChange}setOnModelChange(h){this.onModelChange=h}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(h){this.onModelTouched=h}setValue(h){this.inputService.value=h}getNewKeyCode(h,r){if(h.length>r.length)return null;for(let o=0;o<r.length;o++)if(h.length==o||h[o]!=r[o])return r.charCodeAt(o);return null}isArrowEndHomeKeyInFirefox(h){return-1!=[35,36,37,38,39,40].indexOf(h.keyCode)&&(null==h.charCode||0==h.charCode)}isReadOnly(){return this.htmlInputElement&&this.htmlInputElement.readOnly}setCursorPosition(h){let r=this.inputService.getRawValueWithoutSuffixEndPosition();const o=h.target;setTimeout(function(){o.setSelectionRange(r,r)},0)}}const Br={provide:Z.JU,useExisting:(0,t.Gpc)(()=>Bt),multi:!0};let Bt=(()=>{class l{constructor(r,o,s){this.currencyMaskConfig=r,this.elementRef=o,this.keyValueDiffers=s,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},r&&(this.optionsTemplate=r),this.keyValueDiffer=s.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new Jn(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(r){this.inputHandler.getOnModelTouched().apply(r)}handleClick(r){this.inputHandler.handleClick(r,this.isChromeAndroid())}handleCut(r){this.isChromeAndroid()||this.inputHandler.handleCut(r)}handleInput(r){this.isChromeAndroid()&&this.inputHandler.handleInput(r)}handleKeydown(r){this.isChromeAndroid()||this.inputHandler.handleKeydown(r)}handleKeypress(r){this.isChromeAndroid()||this.inputHandler.handleKeypress(r)}handleKeyup(r){this.isChromeAndroid()||this.inputHandler.handleKeyup(r)}handlePaste(r){this.isChromeAndroid()||this.inputHandler.handlePaste(r)}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}registerOnChange(r){this.inputHandler.setOnModelChange(r)}registerOnTouched(r){this.inputHandler.setOnModelTouched(r)}setDisabledState(r){this.elementRef.nativeElement.disabled=r}validate(r){let o={};return r.value>this.max&&(o.max=!0),r.value<this.min&&(o.min=!0),o!={}?o:null}writeValue(r){this.inputHandler.setValue(r)}}return l.\u0275fac=function(r){return new(r||l)(t.Y36($r,8),t.Y36(t.SBq),t.Y36(t.aQg))},l.\u0275dir=t.lG2({type:l,selectors:[["","currencyMask",""]],hostBindings:function(r,o){1&r&&t.NdJ("blur",function(u){return o.handleBlur(u)})("click",function(u){return o.handleClick(u)})("cut",function(u){return o.handleCut(u)})("input",function(u){return o.handleInput(u)})("keydown",function(u){return o.handleKeydown(u)})("keypress",function(u){return o.handleKeypress(u)})("keyup",function(u){return o.handleKeyup(u)})("paste",function(u){return o.handlePaste(u)})},inputs:{max:"max",min:"min",options:"options"},features:[t._Bn([Br,{provide:Z.Cf,useExisting:l,multi:!0}])]}),l})(),st=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[d.ez,Z.u5]]}),l})();var Ci=T(545),et=T(1278),he=T(4860),Mt=T(9851),j=T(86),$e=T(8727),de=T(5304),Ue=T(5694),ie=T(8167),ye=T(138),He=T(6731),Be=T(9009),tt=T(9859),mt=T(6400),kt=T(6701),gn=T(9966),kr=T(240),qn=T(2605),J=T(3863),ge=T(4099),re=T(1408),Ce=T(3405),ct=T(2668),Si=T(1125),ce=T(8053),oe=T(5722),nt=(()=>{return(l=nt||(nt={})).None="None",l.Annual="Annual",l.Quarterly="Quarterly",l.Monthly="Monthly",nt;var l})(),Wr=T(3562),Gr=T(2445),Lt=T(7945),mn=T(90),_n=T(6917),le=T(3761),Wt=T(1188),zr=T(6602),vn=T(9468),xn=T(7360),Se=T(5137),Ie=T(1435),ke=T(4809),me=T(5243);function it(l,h){if(1&l&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&l){const r=h.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r.memberName," ")}}function Ii(l,h){1&l&&(t.TgZ(0,"mat-error"),t._uU(1," Please select a member from the list. "),t.qZA())}function Kr(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"mat-radio-button",27),t.NdJ("change",function(){return t.CHM(r),t.oxw(2).form.get("applicationTypeId").markAsTouched()}),t._uU(1),t.qZA()}if(2&l){const r=h.$implicit;t.Q6J("value",r.applicationTypeId),t.xp6(1),t.hij(" ",r.type," ")}}function Gt(l,h){if(1&l&&(t.TgZ(0,"mat-radio-group",25),t.YNc(1,Kr,2,2,"mat-radio-button",26),t.qZA()),2&l){const r=h.ngIf;t.xp6(1),t.Q6J("ngForOf",r)}}function Fe(l,h){1&l&&(t.TgZ(0,"div",28),t.TgZ(1,"small",29),t._uU(2,"Please select an application type."),t.qZA(),t.qZA())}function zt(l,h){1&l&&(t.TgZ(0,"div",28),t.TgZ(1,"small",29),t._uU(2,"Please select the period quarter."),t.qZA(),t.qZA())}function An(l,h){if(1&l&&(t.TgZ(0,"div"),t._uU(1," Reporting Quarter: "),t.TgZ(2,"mat-radio-group",30),t.TgZ(3,"mat-radio-button",31),t._uU(4," First "),t.qZA(),t.TgZ(5,"mat-radio-button",31),t._uU(6," Second "),t.qZA(),t.TgZ(7,"mat-radio-button",31),t._uU(8," Third "),t.qZA(),t.TgZ(9,"mat-radio-button",31),t._uU(10," Fourth "),t.qZA(),t.qZA(),t.YNc(11,zt,3,0,"div",16),t.qZA()),2&l){const r=t.oxw();t.xp6(3),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3),t.xp6(2),t.Q6J("value",4),t.xp6(2),t.Q6J("ngIf",r.form.get("periodQuarter").errors)}}function Xr(l,h){1&l&&(t.TgZ(0,"mat-form-field"),t.TgZ(1,"mat-label"),t._uU(2," Reporting Month"),t.qZA(),t.TgZ(3,"mat-select",32),t.TgZ(4,"mat-option",33),t._uU(5," January "),t.qZA(),t.TgZ(6,"mat-option",34),t._uU(7," February "),t.qZA(),t.TgZ(8,"mat-option",35),t._uU(9," March "),t.qZA(),t.TgZ(10,"mat-option",36),t._uU(11," April "),t.qZA(),t.TgZ(12,"mat-option",37),t._uU(13," May "),t.qZA(),t.TgZ(14,"mat-option",38),t._uU(15," June "),t.qZA(),t.TgZ(16,"mat-option",39),t._uU(17," July "),t.qZA(),t.TgZ(18,"mat-option",40),t._uU(19," August "),t.qZA(),t.TgZ(20,"mat-option",41),t._uU(21," September "),t.qZA(),t.TgZ(22,"mat-option",42),t._uU(23," October "),t.qZA(),t.TgZ(24,"mat-option",43),t._uU(25," November "),t.qZA(),t.TgZ(26,"mat-option",44),t._uU(27," December "),t.qZA(),t.qZA(),t.qZA())}let Zi=(()=>{class l{constructor(r,o,s,u,v,w,C){this.router=r,this.fb=o,this.applicationsService=s,this.applicationTypesService=u,this.memberService=v,this.snackBar=w,this.dialogRef=C,this.Applications=[],this.form=this.fb.group({applicationName:[null,[Z.kI.required]],applicationTypeId:[null,[Z.kI.required]],coverageYear:(new Date).getFullYear(),dueDate:[null,[Z.kI.required]],periodQuarter:[null],periodMonth:[null]}),this.ColumnMode=re.hq,this.icClose=Gr.Z,this.icStar=xn.Z,this.icMoreVert=le.Z,this.icPrint=vn.Z,this.icDownload=mn.Z,this.icDelete=Lt.Z,this.isSaving=!1,this.icBusiness=Wr.Z,this.icPerson=Wt.Z,this.icEmail=_n.Z,this.icPhone=zr.Z,this.members=[],this.destroy$=new Ce.xQ,this.memberInputControl=new Z.NI("",[l=>l.value&&"object"==typeof l.value&&"memberId"in l.value?null:{invalidMember:{value:l.value}}]),this.errorHandling=(S,R)=>this.form.controls[S].hasError(R)}ngOnInit(){this.applicationTypes$=this.applicationTypesService.apiApplicationTypesGet(),this.getMembers(),this.setupVisibilityControls()}getMembers(){this.memberService.apiMembersGet().subscribe(r=>{this.members=r,this.setupFilter()})}setupFilter(){this.filteredMembers$=this.memberInputControl.valueChanges.pipe((0,Si.O)(""),(0,ce.U)(r=>"string"==typeof r?r:r.memberName),(0,ce.U)(r=>r?this.filterMembers(r):this.members.slice()))}filterMembers(r){return console.log("filterMembers",r),r?this.members.filter(o=>o.memberName.toLowerCase().includes(r.toLowerCase())):this.members}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupVisibilityControls(){const r=this.form.get("applicationTypeId").valueChanges.pipe((0,Si.O)(this.form.get("applicationTypeId").value),(0,ce.U)(s=>+s),(0,oe.b)(s=>console.log("Application Type ID:",s))),o=(0,ct.aj)([this.applicationTypes$,r]).pipe((0,oe.b)(([s,u])=>console.log("Before finding the type:",s,u)),(0,ce.U)(([s,u])=>s.find(v=>v.applicationTypeId===u)),(0,oe.b)(s=>console.log("Found Application Type:",s)));this.displayQuarter$=o.pipe((0,oe.b)(s=>{(null==s?void 0:s.groupType)===nt.Quarterly?(this.form.get("periodQuarter").setValidators([Z.kI.required]),this.form.get("periodQuarter").updateValueAndValidity(),this.form.get("periodMonth").clearValidators(),this.form.get("periodMonth").updateValueAndValidity()):(null==s?void 0:s.groupType)===nt.Monthly?(this.form.get("periodMonth").setValidators([Z.kI.required]),this.form.get("periodMonth").updateValueAndValidity(),this.form.get("periodQuarter").clearValidators(),this.form.get("periodQuarter").updateValueAndValidity()):(this.form.get("periodQuarter").clearValidators(),this.form.get("periodQuarter").updateValueAndValidity(),this.form.get("periodMonth").clearValidators(),this.form.get("periodMonth").updateValueAndValidity())}),(0,ce.U)(s=>(null==s?void 0:s.groupType)===nt.Quarterly),(0,oe.b)(s=>console.log("Is Quarterly:",s))),this.displayMonth$=o.pipe((0,oe.b)(s=>{(null==s?void 0:s.groupType)===nt.Quarterly?(this.form.get("periodQuarter").setValidators([Z.kI.required]),this.form.get("periodQuarter").updateValueAndValidity(),this.form.get("periodMonth").clearValidators(),this.form.get("periodMonth").updateValueAndValidity()):(null==s?void 0:s.groupType)===nt.Monthly?(this.form.get("periodMonth").setValidators([Z.kI.required]),this.form.get("periodMonth").updateValueAndValidity(),this.form.get("periodQuarter").clearValidators(),this.form.get("periodQuarter").updateValueAndValidity()):(this.form.get("periodQuarter").clearValidators(),this.form.get("periodQuarter").updateValueAndValidity(),this.form.get("periodMonth").clearValidators(),this.form.get("periodMonth").updateValueAndValidity())}),(0,ce.U)(s=>(null==s?void 0:s.groupType)===nt.Monthly),(0,oe.b)(s=>console.log("Is Monthly:",s)))}onMemberSelected(r){this.memberInputControl.setValue(r.option.value)}getApplicationFromFrom(){let r={};return console.log("getApplicationFromForm",this.memberInputControl.value),r.applicationName=this.form.get("applicationName").value,r.memberId=this.memberInputControl.value.memberId,r.applicationTypeId=this.form.get("applicationTypeId").value,r.coverageYear=this.form.get("coverageYear").value,r.dueDate=this.form.get("dueDate").value,r.applicationStatus="New",r.periodMonth=this.form.get("periodMonth").value,r.periodQuarter=this.form.get("periodQuarter").value,r}save(){if(console.log("save"),this.form.invalid||this.memberInputControl.invalid)return this.form.markAllAsTouched(),console.log("form is invalid"),void Object.keys(this.form.controls).forEach(o=>{const s=this.form.get(o).errors;s&&Object.keys(s).forEach(u=>{console.log(`Control: ${o}, Error: ${u}, Value:`,s[u])})});const r=this.getApplicationFromFrom();this.applicationsService.apiApplicationsPut(r).subscribe({next:o=>{console.log("Application created",o),this.snackBar.open("Application Added Successfully","CLOSE",{duration:3e3}),this.closeModal()},error:o=>{console.error("Error creating application",o),this.snackBar.open("Error adding application","CLOSE",{duration:3e3})}})}checkForSelection(){this.memberInputControl.markAsTouched(),this.memberInputControl.updateValueAndValidity()}closeModal(){console.log("Close modal"),this.dialogRef.close()}displayMember(r){return r&&r.memberName?r.memberName:""}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(J.F0),t.Y36(Z.qu),t.Y36(Se.u),t.Y36(Ie.a),t.Y36(ke.Ze),t.Y36(gn.ux),t.Y36(de.so))},l.\u0275cmp=t.Xpm({type:l,selectors:[["vex-create-application"]],decls:47,vars:23,consts:[["novalidate","",3,"formGroup","ngSubmit"],["fxLayout","row","fxLayoutAlign","start center","mat-dialog-title",""],["fxFlex","auto",1,"headline","m-0"],["mat-dialog-close","","mat-icon-button","","type","button",1,"text-secondary"],[3,"icIcon"],[1,"-mx-6","text-border"],["fxLayout","column"],[1,"mt-6"],["cdkFocusInitial","","formControlName","applicationName","matInput",""],["cdkFocusInitial","","matInput","",3,"formControl","matAutocomplete","blur"],[3,"displayWith","optionSelected"],["memberAutoComplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matPrefix","",1,"ltr:mr-3","rtl:ml-3",3,"icIcon"],["aria-label","Select an option","formControlName","applicationTypeId",4,"ngIf"],["class","text-red-500",4,"ngIf"],["formControlName","dueDate","matInput","",3,"matDatepicker"],["matPrefix","",1,"block",3,"for"],["datepickerRef",""],["cdkFocusInitial","","formControlName","coverageYear","matInput",""],["align","end"],["mat-button","","mat-dialog-close","","type","button"],["color","primary","mat-button","","type","submit",3,"disabled"],[3,"value"],["aria-label","Select an option","formControlName","applicationTypeId"],["class","mr-6 mb-6",3,"value","change",4,"ngFor","ngForOf"],[1,"mr-6","mb-6",3,"value","change"],[1,"text-red-500"],[1,"text-red"],["aria-label","Select a quarter","formControlName","periodQuarter"],[1,"mr-6","mb-6",3,"value"],["aria-label","Select the reporting month","formControlName","periodMonth"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"]],template:function(r,o){if(1&r&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.save()}),t.TgZ(1,"div",1),t.TgZ(2,"h2",2),t._uU(3,"New Application"),t.qZA(),t.TgZ(4,"button",3),t._UZ(5,"mat-icon",4),t.qZA(),t.qZA(),t._UZ(6,"mat-divider",5),t.TgZ(7,"mat-dialog-content",6),t.TgZ(8,"mat-form-field",7),t.TgZ(9,"mat-label"),t._uU(10,"Application Name"),t.qZA(),t._UZ(11,"input",8),t.qZA(),t.TgZ(12,"mat-form-field"),t.TgZ(13,"mat-label"),t._uU(14,"Member"),t.qZA(),t.TgZ(15,"input",9),t.NdJ("blur",function(){return o.checkForSelection()}),t.qZA(),t.TgZ(16,"mat-autocomplete",10,11),t.NdJ("optionSelected",function(u){return o.onMemberSelected(u)}),t.YNc(18,it,2,2,"mat-option",12),t.ALo(19,"async"),t.qZA(),t.YNc(20,Ii,2,0,"mat-error",13),t._UZ(21,"mat-icon",14),t.qZA(),t.TgZ(22,"div"),t._uU(23," Application Type: "),t.YNc(24,Gt,2,1,"mat-radio-group",15),t.ALo(25,"async"),t.YNc(26,Fe,3,0,"div",16),t.qZA(),t.YNc(27,An,12,5,"div",13),t.ALo(28,"async"),t.YNc(29,Xr,28,0,"mat-form-field",13),t.ALo(30,"async"),t.TgZ(31,"mat-form-field"),t.TgZ(32,"mat-label"),t._uU(33,"Due Date"),t.qZA(),t._UZ(34,"input",17),t._UZ(35,"mat-datepicker-toggle",18),t._UZ(36,"mat-datepicker",null,19),t.qZA(),t.TgZ(38,"mat-form-field"),t.TgZ(39,"mat-label"),t._uU(40,"Policy Year"),t.qZA(),t._UZ(41,"input",20),t.qZA(),t.qZA(),t.TgZ(42,"mat-dialog-actions",21),t.TgZ(43,"button",22),t._uU(44,"CANCEL"),t.qZA(),t.TgZ(45,"button",23),t._uU(46," SAVE CHANGES "),t.qZA(),t.qZA(),t.qZA()),2&r){const s=t.MAs(17),u=t.MAs(37);t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("icIcon",o.icClose),t.xp6(10),t.Q6J("formControl",o.memberInputControl)("matAutocomplete",s),t.xp6(1),t.Q6J("displayWith",o.displayMember),t.xp6(2),t.Q6J("ngForOf",t.lcZ(19,15,o.filteredMembers$)),t.xp6(2),t.Q6J("ngIf",o.memberInputControl.hasError("invalidMember")),t.xp6(1),t.Q6J("icIcon",o.icBusiness),t.xp6(3),t.Q6J("ngIf",t.lcZ(25,17,o.applicationTypes$)),t.xp6(2),t.Q6J("ngIf",o.form.get("applicationTypeId").hasError("required")),t.xp6(1),t.Q6J("ngIf",t.lcZ(28,19,o.displayQuarter$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(30,21,o.displayMonth$)),t.xp6(5),t.Q6J("matDatepicker",u),t.xp6(1),t.Q6J("for",u),t.xp6(10),t.Q6J("disabled",o.isSaving)}},directives:[Z._Y,Z.JL,Z.sg,me.xw,me.Wh,de.uh,me.yH,j.lW,de.ZT,et.ar,Ue.d,de.xY,ie.KE,ie.hX,Z.Fj,ye.Nt,Z.JJ,Z.u,Mt.ZL,Z.oH,Mt.XC,d.sg,d.O5,ie.qo,$e.hl,$e.nW,$e.Mq,de.H8,He.ey,ie.TO,tt.VQ,tt.U0,mt.gD],pipes:[d.Ov],styles:[""]}),l})();var Nt=T(6420),ee=T(4522),Dn=T(8260);let wn=(()=>{class l{constructor(r){this.http=r}baseURL(){return Dn.N.apiEndpoint}getApplicationTypes(){const r=`${this.baseURL()}/api/ApplicationTypes`;return this.http.get(r)}getLineofCoverages(){const r=`${this.baseURL()}/api/Lines`;return this.http.get(r)}getApplicationReportTypes(){const r=`${this.baseURL()}/api/ApplicationTypes/reportTypes`;return this.http.get(r)}getFilteredApplications(r,o,s,u,v,w="all"){const C=`${this.baseURL()}/api/Applications/filtered`;let S=new ee.LE;return void 0!==r&&(S=S.append("coverageYear",r.toString())),void 0!==w&&(S=S.append("lineofCoverage",w.toString())),void 0!==o&&(S=S.append("status",o)),void 0!==s&&(S=S.append("applicationType",s.toString())),null!=u&&(S=S.append("filterQuarter",u.toString())),null!=v&&(S=S.append("filterMonth",v.toString())),this.http.get(C,{params:S})}ExportApplicationReport(r,o,s,u,v,w="all",C){const S=`${this.baseURL()}/api/Applications/${r}/export`;return this.http.post(S,{reportId:o,status:s,filterQuarter:u,filterMonth:v,lineofCoverage:w,applicationType:C},{responseType:"blob",headers:new ee.WM({Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","Content-Type":"application/json"})})}exportApplications(r,o,s="all",u,v,w="all",C){const S=`${this.baseURL()}/api/Applications/${r}/Defaultexport`;return this.http.post(S,{reportTypeId:o,status:s,filterQuarter:u,filterMonth:v,lineofCoverage:w,applicationType:C},{responseType:"blob",headers:new ee.WM({Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","Content-Type":"application/json"})})}}return l.\u0275fac=function(r){return new(r||l)(t.LFG(ee.eN))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var Xt=T(4480),jt=T(4434),Ot=T(5498),en=T(8488),tn=T(7493);function Pn(l,h){if(1&l){const r=t.EpF();t.ynx(0),t.TgZ(1,"span",7,8),t.TgZ(3,"button",9),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).showCreateApplication()}),t.TgZ(4,"span"),t._uU(5,"Create Application"),t.qZA(),t.qZA(),t.qZA(),t.BQk()}}function $n(l,h){if(1&l&&(t.ynx(0),t.YNc(1,Pn,6,0,"ng-container",6),t.BQk()),2&l){const r=h.ngIf;t.xp6(1),t.Q6J("ngIf",1==r.isAdmin)}}function jr(l,h){if(1&l&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&l){const r=h.$implicit;t.s9C("value",r),t.xp6(1),t.AsE(" ",r," - ",r+1," ")}}function eo(l,h){if(1&l&&(t.TgZ(0,"mat-radio-button",24),t._uU(1),t.qZA()),2&l){const r=h.$implicit;t.Q6J("value",r.applicationTypeId),t.xp6(1),t.hij(" ",r.type," ")}}function to(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"div",15),t.TgZ(1,"label",16),t._uU(2,"Application Type"),t.qZA(),t.TgZ(3,"mat-radio-group",17),t.NdJ("ngModelChange",function(s){return t.CHM(r),t.oxw().filterApplicationType=s})("change",function(s){return t.CHM(r),t.oxw().onFiltersChanged(s)}),t.YNc(4,eo,2,2,"mat-radio-button",23),t.qZA(),t.qZA()}if(2&l){const r=h.ngIf,o=t.oxw();t.xp6(3),t.Q6J("ngModel",o.filterApplicationType),t.xp6(1),t.Q6J("ngForOf",r)}}function Ei(l,h){if(1&l&&(t.TgZ(0,"mat-radio-button",24),t._uU(1),t.qZA()),2&l){const r=h.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r," ")}}function Ri(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"div",15),t.TgZ(1,"label",16),t._uU(2,"Coverage Line"),t.qZA(),t.TgZ(3,"mat-radio-group",17),t.NdJ("ngModelChange",function(s){return t.CHM(r),t.oxw().filterLineofCoverage=s})("change",function(s){return t.CHM(r),t.oxw().onFiltersChanged(s)}),t.TgZ(4,"mat-radio-button",18),t._uU(5,"All"),t.qZA(),t.YNc(6,Ei,2,2,"mat-radio-button",23),t.qZA(),t.qZA()}if(2&l){const r=h.ngIf,o=t.oxw();t.xp6(3),t.Q6J("ngModel",o.filterLineofCoverage),t.xp6(3),t.Q6J("ngForOf",r)}}function no(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"div",15),t.TgZ(1,"label",16),t._uU(2,"Quarter"),t.qZA(),t.TgZ(3,"mat-radio-group",17),t.NdJ("ngModelChange",function(s){return t.CHM(r),t.oxw().filterQuarter=s})("change",function(s){return t.CHM(r),t.oxw().onFiltersChanged(s)}),t.TgZ(4,"mat-radio-button",24),t._uU(5,"all"),t.qZA(),t.TgZ(6,"mat-radio-button",24),t._uU(7,"first"),t.qZA(),t.TgZ(8,"mat-radio-button",24),t._uU(9,"second"),t.qZA(),t.TgZ(10,"mat-radio-button",24),t._uU(11,"third"),t.qZA(),t.TgZ(12,"mat-radio-button",24),t._uU(13,"fourth"),t.qZA(),t.qZA(),t.qZA()}if(2&l){const r=t.oxw();t.xp6(3),t.Q6J("ngModel",r.filterQuarter),t.xp6(1),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3),t.xp6(2),t.Q6J("value",4)}}function io(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"div",15),t.TgZ(1,"label",16),t._uU(2,"Month"),t.qZA(),t.TgZ(3,"mat-radio-group",17),t.NdJ("ngModelChange",function(s){return t.CHM(r),t.oxw().filterMonth=s})("change",function(s){return t.CHM(r),t.oxw().onFiltersChanged(s)}),t.TgZ(4,"mat-radio-button",24),t._uU(5,"all"),t.qZA(),t.TgZ(6,"mat-radio-button",24),t._uU(7,"January"),t.qZA(),t.TgZ(8,"mat-radio-button",24),t._uU(9,"February"),t.qZA(),t.TgZ(10,"mat-radio-button",24),t._uU(11,"March"),t.qZA(),t.TgZ(12,"mat-radio-button",24),t._uU(13,"April"),t.qZA(),t.TgZ(14,"mat-radio-button",24),t._uU(15,"May"),t.qZA(),t.TgZ(16,"mat-radio-button",24),t._uU(17,"June"),t.qZA(),t.TgZ(18,"mat-radio-button",24),t._uU(19,"July"),t.qZA(),t.TgZ(20,"mat-radio-button",24),t._uU(21,"August"),t.qZA(),t.TgZ(22,"mat-radio-button",24),t._uU(23,"September"),t.qZA(),t.TgZ(24,"mat-radio-button",24),t._uU(25,"October"),t.qZA(),t.TgZ(26,"mat-radio-button",24),t._uU(27,"November"),t.qZA(),t.TgZ(28,"mat-radio-button",24),t._uU(29,"December"),t.qZA(),t.qZA(),t.qZA()}if(2&l){const r=t.oxw();t.xp6(3),t.Q6J("ngModel",r.filterMonth),t.xp6(1),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3),t.xp6(2),t.Q6J("value",4),t.xp6(2),t.Q6J("value",5),t.xp6(2),t.Q6J("value",6),t.xp6(2),t.Q6J("value",7),t.xp6(2),t.Q6J("value",8),t.xp6(2),t.Q6J("value",9),t.xp6(2),t.Q6J("value",10),t.xp6(2),t.Q6J("value",11),t.xp6(2),t.Q6J("value",12)}}function ro(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}function oo(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}function Mi(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}function ao(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}function lo(l,h){1&l&&(t.TgZ(0,"ngx-datatable-column",41),t.YNc(1,ao,1,1,"ng-template",31),t.qZA()),2&l&&t.Q6J("sortable",!0)}function so(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}function Hn(l,h){1&l&&(t.TgZ(0,"ngx-datatable-column",42),t.YNc(1,so,1,1,"ng-template",31),t.qZA()),2&l&&t.Q6J("sortable",!0)}function co(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}function Bn(l,h){1&l&&(t._uU(0),t.ALo(1,"date")),2&l&&t.hij(" ",t.xi3(1,1,h.value,"MM/dd/yyyy")," ")}function uo(l,h){1&l&&(t._uU(0),t.ALo(1,"date")),2&l&&t.hij(" ",t.xi3(1,1,h.value,"MM/dd/yyyy")," ")}function po(l,h){1&l&&(t._uU(0),t.ALo(1,"date")),2&l&&t.hij(" ",t.xi3(1,1,h.value,"MM/dd/yyyy")," ")}function fo(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){const u=t.CHM(r).row;return t.oxw(2).viewDetails(u)}),t._uU(1," Open Application "),t.qZA()}}const ho=function(){return{key:"appPreviews"}};function go(l,h){if(1&l){const r=t.EpF();t.ynx(0),t.TgZ(1,"div",25),t.TgZ(2,"vex-scrollbar",26,27),t.TgZ(4,"ngx-datatable",28,29),t.NdJ("page",function(){return 50})("activate",function(s){return t.CHM(r),t.oxw().onActivate(s)}),t.TgZ(6,"ngx-datatable-column",30),t.YNc(7,ro,1,1,"ng-template",31),t.qZA(),t.TgZ(8,"ngx-datatable-column",32),t.YNc(9,oo,1,1,"ng-template",31),t.qZA(),t.TgZ(10,"ngx-datatable-column",33),t.YNc(11,Mi,1,1,"ng-template",31),t.qZA(),t.YNc(12,lo,2,1,"ngx-datatable-column",34),t.YNc(13,Hn,2,1,"ngx-datatable-column",35),t.TgZ(14,"ngx-datatable-column",36),t.YNc(15,co,1,1,"ng-template",31),t.qZA(),t.TgZ(16,"ngx-datatable-column",37),t.YNc(17,Bn,2,4,"ng-template",31),t.qZA(),t.TgZ(18,"ngx-datatable-column",38),t.YNc(19,uo,2,4,"ng-template",31),t.qZA(),t.TgZ(20,"ngx-datatable-column",39),t.YNc(21,po,2,4,"ng-template",31),t.qZA(),t.TgZ(22,"ngx-datatable-column",40),t.YNc(23,fo,2,0,"ng-template",31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&l){const r=h.ngIf,o=t.oxw();t.xp6(1),t.Q6J("swIsLoading",t.DdM(16,ho)),t.xp6(3),t.Q6J("columnMode",o.ColumnMode.force)("rows",r)("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("ngClass","datatable"),t.xp6(2),t.Q6J("sortable",!0),t.xp6(2),t.Q6J("sortable",!0),t.xp6(2),t.Q6J("sortable",!0),t.xp6(2),t.Q6J("ngIf",o.showQuarterlyFilter),t.xp6(1),t.Q6J("ngIf",o.showMonthlyFilter),t.xp6(1),t.Q6J("sortable",!0),t.xp6(2),t.Q6J("sortable",!0),t.xp6(2),t.Q6J("sortable",!0),t.xp6(2),t.Q6J("sortable",!0)}}const mo=function(){return{title:"Applications",routerLink:"/applications"}},_o=function(l){return[l]},vo=function(){return["reports"]};let Li=(()=>{class l{constructor(r,o,s,u,v,w,C){this.router=r,this.dialog=o,this._loadingService=s,this.route=u,this.applicationsService=v,this.appUtilityService=w,this.ApplicationsServiceV2=C,this._applicationPreviews=new ge.X(null),this.ApplicationPreviews$=this._applicationPreviews.asObservable(),this._applicationTypes=new ge.X([]),this._lineofCoverages=new ge.X([]),this.ColumnMode=re.hq,this.icMoreVert=le.Z,this.filterApplicationType=null,this.applicationTypes$=this._applicationTypes.asObservable(),this.lineofCoverages$=this._lineofCoverages.asObservable(),this.filterStatus="all",this.filterQuarter=null,this.filterMonth=null,this.filterLineofCoverage="all",this.coverageyears=[],this.showQuarterlyFilter=!1,this.showMonthlyFilter=!1}ngOnInit(){this.buildCoverageyears(),this.selectedCoverageYear=(new Date).getFullYear().toString(),this.getApplications(),this.appUtilityService.UserProfile$.subscribe(r=>{}),this.getApplicationTypes(),this.getLineofCoverages()}getApplicationTypes(){console.log("new getApplicationTypes"),this.ApplicationsServiceV2.getApplicationTypes().subscribe(r=>{this._applicationTypes.next(r)})}getLineofCoverages(){console.log("new Line of Coverages"),this.ApplicationsServiceV2.getLineofCoverages().subscribe(r=>{this._lineofCoverages.next(r)})}buildCoverageyears(){for(let o=2021;o<=(new Date).getFullYear()+1;o++)this.coverageyears.push(o)}getApplications(){this._loadingService.add({key:"appPreviews"});let r=null;this.filterApplicationType&&(console.log("application filter type - ",this.filterApplicationType),r=this.filterApplicationType,this.applications$=this.ApplicationsServiceV2.getFilteredApplications(Number(this.selectedCoverageYear),this.filterStatus,r,this.filterQuarter,this.filterMonth,this.filterLineofCoverage),this.applications$.subscribe(o=>{this._applicationPreviews.next(o)}))}viewDetails(r){this.router.navigate(["applications/details",r.applicationId,r.currentSectionId])}onActivate(r){"click"===r.type&&r.row&&this.viewDetails(r.row)}ExportData(){let r=this._applicationTypes.value.filter(s=>s.applicationTypeId===this.filterApplicationType);if(console.log("exportData",r),r.length>0){var o=r[0];this.ApplicationsServiceV2.exportApplications(Number(this.selectedCoverageYear),o.reportType,this.filterStatus,this.filterQuarter,this.filterMonth,this.filterLineofCoverage,this.filterApplicationType).subscribe(s=>{console.log("got data!",s.size);const u=window.URL.createObjectURL(s),v=document.createElement("a");v.href=u,v.download=`applications-${Number(this.selectedCoverageYear)}.xlsx`,v.click(),console.log("anchor",v),window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(s,`applications-${Number(this.selectedCoverageYear)}.xlsx`),window.URL.revokeObjectURL(u)})}}showCreateApplication(){this.dialog.open(Zi,{data:"banana",width:"600px"}).afterClosed().subscribe(o=>{this.getApplications()})}goReports(){}onCoverageYearChanged(r){this.selectedCoverageYear=r.value,this.getApplications()}showhideQuarterlyFilter(){let r=this._applicationTypes.value.filter(o=>o.applicationTypeId===this.filterApplicationType);this.showQuarterlyFilter=1==r.length&&"Quarterly"===r[0].groupType,this.showQuarterlyFilter?this.filterQuarter||(this.filterQuarter=0):this.filterQuarter=null}showhideMonthlyFilter(){let r=this._applicationTypes.value.filter(o=>o.applicationTypeId===this.filterApplicationType);this.showMonthlyFilter=1==r.length&&"Monthly"===r[0].groupType,this.showMonthlyFilter?this.filterMonth||(this.filterMonth=0):this.filterMonth=null}onFiltersChanged(r){this.showhideQuarterlyFilter(),this.showhideMonthlyFilter(),this.getApplications()}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(J.F0),t.Y36(de.uw),t.Y36(he.RI),t.Y36(J.gz),t.Y36(Se.u),t.Y36(Nt.w),t.Y36(wn))},l.\u0275cmp=t.Xpm({type:l,selectors:[["vex-application-list"]],decls:45,vars:23,consts:[["current","Applications"],["fxFlex","auto",3,"crumbs"],[1,"flex","flex-col","items-stretch","m-5"],[1,"flex","justify-between","items-center","mb-5"],[1,"text-3xl"],[1,"flex"],[4,"ngIf"],[1,"mr-5"],["createContactOriginRef",""],["color","primary","fxHide.xs","","mat-raised-button","","type","button",3,"click"],["color","secondary","fxHide.xs","","mat-raised-button","","type","button",3,"routerLink"],[1,"flex","flex-col","space-y-4","mb-5"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","filter-group",4,"ngIf"],[1,"filter-group"],[1,"filter-label"],[1,"filter-radio-group",3,"ngModel","ngModelChange","change"],["value","all",1,"ml-4"],["value","Submitted",1,"ml-4"],["value","Open",1,"ml-4"],["value","New",1,"ml-4"],[3,"value"],["class","ml-4",3,"value",4,"ngFor","ngForOf"],[1,"ml-4",3,"value"],[3,"swIsLoading"],[1,"p-4","flex-auto"],["vexScrollbar",""],["rowHeight","auto",1,"material",3,"columnMode","rows","headerHeight","footerHeight","scrollbarH","ngClass","page","activate"],["ngxTable",""],["name","Member","prop","member",3,"sortable"],["ngx-datatable-cell-template",""],["name","Application","prop","applicationName",3,"sortable"],["name","Application","prop","applicationType",3,"sortable"],["name","Quarter","prop","periodQuarter",3,"sortable",4,"ngIf"],["name","Month","prop","periodMonth",3,"sortable",4,"ngIf"],["name","Status","prop","applicationStatus",3,"sortable"],["name","Due Date","prop","dueDate",3,"sortable"],["name","Completed Date","prop","completedDate",3,"sortable"],["name","Completed By","prop","completedBy",3,"sortable"],["name","options","prop","applicationId"],["name","Quarter","prop","periodQuarter",3,"sortable"],["name","Month","prop","periodMonth",3,"sortable"],["mat-icon-button","","matTooltip","Open Application","matRipple","","color","primary",3,"click"]],template:function(r,o){1&r&&(t.TgZ(0,"vex-secondary-toolbar",0),t._UZ(1,"vex-breadcrumbs",1),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h1",4),t._uU(5,"Applications"),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,$n,2,1,"ng-container",6),t.ALo(8,"async"),t.TgZ(9,"span",7,8),t.TgZ(11,"button",9),t.NdJ("click",function(){return o.ExportData()}),t.TgZ(12,"span"),t._uU(13,"Export Coverage Year"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"span",7,8),t.TgZ(16,"button",10),t.TgZ(17,"span"),t._uU(18,"Reports"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",11),t.TgZ(20,"mat-form-field"),t.TgZ(21,"mat-label"),t._uU(22,"Coverage Year"),t.qZA(),t.TgZ(23,"mat-select",12),t.NdJ("ngModelChange",function(u){return o.selectedCoverageYear=u})("selectionChange",function(u){return o.onCoverageYearChanged(u)}),t.YNc(24,jr,2,3,"mat-option",13),t.qZA(),t.qZA(),t.YNc(25,to,5,2,"div",14),t.ALo(26,"async"),t.YNc(27,Ri,7,2,"div",14),t.ALo(28,"async"),t.YNc(29,no,14,6,"div",14),t.YNc(30,io,30,14,"div",14),t.TgZ(31,"div",15),t.TgZ(32,"label",16),t._uU(33,"Application Status"),t.qZA(),t.TgZ(34,"mat-radio-group",17),t.NdJ("ngModelChange",function(u){return o.filterStatus=u})("change",function(u){return o.onFiltersChanged(u)}),t.TgZ(35,"mat-radio-button",18),t._uU(36,"All"),t.qZA(),t.TgZ(37,"mat-radio-button",19),t._uU(38,"Submitted"),t.qZA(),t.TgZ(39,"mat-radio-button",20),t._uU(40,"Open"),t.qZA(),t.TgZ(41,"mat-radio-button",21),t._uU(42,"New"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(43,go,24,17,"ng-container",6),t.ALo(44,"async"),t.qZA()),2&r&&(t.xp6(1),t.Q6J("crumbs",t.VKq(20,_o,t.DdM(19,mo))),t.xp6(6),t.Q6J("ngIf",t.lcZ(8,11,o.appUtilityService.UserProfile$)),t.xp6(9),t.Q6J("routerLink",t.DdM(22,vo)),t.xp6(7),t.Q6J("ngModel",o.selectedCoverageYear),t.xp6(1),t.Q6J("ngForOf",o.coverageyears),t.xp6(1),t.Q6J("ngIf",t.lcZ(26,13,o.applicationTypes$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(28,15,o.lineofCoverages$)),t.xp6(2),t.Q6J("ngIf",o.showQuarterlyFilter),t.xp6(1),t.Q6J("ngIf",o.showMonthlyFilter),t.xp6(4),t.Q6J("ngModel",o.filterStatus),t.xp6(9),t.Q6J("ngIf",t.lcZ(44,17,o.ApplicationPreviews$)))},directives:[Xt.n,jt.n,me.yH,d.O5,j.lW,Ot.b8,J.rH,en.QV,ie.KE,ie.hX,mt.gD,Z.JJ,Z.On,d.sg,tt.VQ,tt.U0,He.ey,he.h$,tn.x,re.nE,d.mk,Ot.oO,re.UC,re.vq],pipes:[d.Ov,d.uU],styles:[".datatable-body[_ngcontent-%COMP%]{cursor:pointer}.ngx-datatable.bootstrap[_ngcontent-%COMP%]:not(.cell-selection)   .datatable-body-row[_ngcontent-%COMP%]:hover, .ngx-datatable.material[_ngcontent-%COMP%]:not(.cell-selection)   .datatable-body-row[_ngcontent-%COMP%]:hover   .datatable-row-group[_ngcontent-%COMP%]{background:red;cursor:pointer}ngx-datatable[_ngcontent-%COMP%]{max-height:70vh;overflow-y:scroll}  .ngx-datatable .datatable-body{max-height:900px!important;overflow:hidden auto}label[_ngcontent-%COMP%]{font-weight:bold}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-label[_ngcontent-%COMP%]{width:150px;margin-right:1rem}.filter-radio-group[_ngcontent-%COMP%]{flex-grow:1}"]}),l})();var xo=T(2473),bn=T(4309),Ao=T(1689),_t=T(8805);function wo(l,h){if(1&l&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&l){const r=h.$implicit;t.s9C("value",r),t.xp6(1),t.AsE(" ",r,"- ",r+1," ")}}function bo(l,h){if(1&l&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&l){const r=h.$implicit;t.s9C("value",r.reportType),t.xp6(1),t.hij(" ",r.name," ")}}function Tn(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"mat-form-field"),t.TgZ(1,"mat-label"),t._uU(2,"Report Type"),t.qZA(),t.TgZ(3,"mat-select",6),t.NdJ("ngModelChange",function(s){return t.CHM(r),t.oxw().filterReportType=s})("selectionChange",function(s){return t.CHM(r),t.oxw().onFiltersChanged(s)}),t.YNc(4,bo,2,2,"mat-option",7),t.qZA(),t.qZA()}if(2&l){const r=h.ngIf,o=t.oxw();t.xp6(3),t.Q6J("ngModel",o.filterReportType),t.xp6(1),t.Q6J("ngForOf",r)}}function To(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"div",22),t.TgZ(2,"div",23),t.TgZ(3,"div",24),t.TgZ(4,"p",25),t._uU(5),t.qZA(),t.TgZ(6,"p",26),t._uU(7,"Full Export"),t.qZA(),t.qZA(),t.qZA(),t._uU(8),t.TgZ(9,"div",27),t.TgZ(10,"div",28),t._UZ(11,"ic-icon",29),t.TgZ(12,"p",30),t.NdJ("click",function(){const u=t.CHM(r).$implicit;return t.oxw(2).runReport(u.reportId)}),t._uU(13," Export Report "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&l){const r=h.$implicit,o=t.oxw(2);t.Q6J("@fadeInUp",void 0),t.xp6(5),t.Oqu(r.reportName),t.xp6(3),t.hij(" ",r.reportDescription," "),t.xp6(3),t.Q6J("icon",o.icinsert_chart)("inline",!0)}}function yn(l,h){if(1&l&&(t.ynx(0),t.TgZ(1,"div",19),t.YNc(2,To,14,5,"div",20),t.qZA(),t.BQk()),2&l){const r=h.ngIf;t.xp6(2),t.Q6J("ngForOf",r)}}function yo(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}function Co(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}function So(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}function Ni(l,h){1&l&&t._uU(0),2&l&&t.hij(" ",h.value," ")}const Oi=function(){return{key:"appPreviews"}};function Ui(l,h){if(1&l&&(t.ynx(0),t.TgZ(1,"div",31),t.TgZ(2,"vex-scrollbar",32,33),t.TgZ(4,"ngx-datatable",34,35),t.NdJ("page",function(){return 50}),t.TgZ(6,"ngx-datatable-column",36),t.YNc(7,yo,1,1,"ng-template",37),t.qZA(),t.TgZ(8,"ngx-datatable-column",38),t.YNc(9,Co,1,1,"ng-template",37),t.qZA(),t.TgZ(10,"ngx-datatable-column",39),t.YNc(11,So,1,1,"ng-template",37),t.qZA(),t.TgZ(12,"ngx-datatable-column",40),t.YNc(13,Ni,1,1,"ng-template",37),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&l){const r=h.ngIf,o=t.oxw();t.xp6(1),t.Q6J("swIsLoading",t.DdM(11,Oi)),t.xp6(3),t.Q6J("columnMode",o.ColumnMode.force)("rows",r)("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("ngClass","datatable"),t.xp6(2),t.Q6J("sortable",!1),t.xp6(2),t.Q6J("sortable",!1),t.xp6(2),t.Q6J("sortable",!1),t.xp6(2),t.Q6J("sortable",!1)}}const Io=function(){return{title:"Application List",routerLink:"/applications"}},Zo=function(){return{title:"Application Reports",routerLink:"reports"}},Eo=function(l,h){return[l,h]};let Ro=(()=>{class l{constructor(r,o,s,u,v,w,C,S){this.router=r,this.dialog=o,this._loadingService=s,this.route=u,this.applicationsService=v,this.appUtilityService=w,this.applicationTypesService=C,this.applicationsServiceV2=S,this.unsubscribe$=new Ce.xQ,this._applicationPreviews=new ge.X([]),this.ApplicationPreviews$=this._applicationPreviews.asObservable(),this._applicationReports=new ge.X([]),this._reportTypes=new ge.X([]),this.ApplicationReports$=this._applicationReports.asObservable(),this.ColumnMode=re.hq,this.icMoreVert=le.Z,this.icinsert_chart=Ao.Z,this.filterStatus="all",this.filterReportType="1",this.coverageyears=[],this.reportTypes$=this._reportTypes.asObservable()}ngOnInit(){this.initializeData()}initializeData(){this.buildCoverageyears(),this.selectedCoverageYear=(new Date).getFullYear().toString(),this.loadData()}loadData(){this.appUtilityService.UserProfile$.pipe((0,_t.R)(this.unsubscribe$)).subscribe(()=>{}),this.applicationsServiceV2.getApplicationReportTypes().pipe((0,_t.R)(this.unsubscribe$)).subscribe(r=>{console.log("applicationReportTypes",r),this._reportTypes.next(r)}),this.getApplications()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}buildCoverageyears(){for(let o=2021;o<=(new Date).getFullYear()+1;o++)this.coverageyears.push(o)}getApplications(){this._loadingService.add({key:"appPreviews"});let r=Number(this.filterReportType);this.applications$=this.applicationsService.apiApplicationsGet(Number(this.selectedCoverageYear),this.filterStatus,r).pipe((0,_t.R)(this.unsubscribe$)),this.applications$.pipe((0,_t.R)(this.unsubscribe$)).subscribe(o=>{this._applicationPreviews.next(o)}),this.applicationTypesService.apiApplicationTypesReportsGet(r).pipe((0,_t.R)(this.unsubscribe$)).subscribe(o=>{this._applicationReports.next(o)})}viewDetails(r){this.router.navigate(["applications/details",r.applicationId,r.currentSectionId])}onActivate(r){"click"===r.type&&r.row&&this.viewDetails(r.row)}runReport(r){this.ExportData(r)}ExportData(r){this.applicationsServiceV2.ExportApplicationReport(Number(this.selectedCoverageYear),r,this.filterStatus,null,null).pipe((0,_t.R)(this.unsubscribe$)).subscribe(o=>{console.log(o);const s=new Blob([o],{type:"application/vnd.ms-excel"});xo.saveAs(s,`applicationExport-${this.selectedCoverageYear}.xlsx`)})}onTabChange(r){this.getApplications()}showCreateApplication(){this.dialog.open(Zi,{data:"banana",width:"600px"}).afterClosed().pipe((0,_t.R)(this.unsubscribe$)).subscribe(o=>{this.getApplications()})}onCoverageYearChanged(r){this.selectedCoverageYear=r.value,this.getApplications()}onFiltersChanged(r){this.getApplications()}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(J.F0),t.Y36(de.uw),t.Y36(he.RI),t.Y36(J.gz),t.Y36(Se.u),t.Y36(Nt.w),t.Y36(Ie.a),t.Y36(wn))},l.\u0275cmp=t.Xpm({type:l,selectors:[["vex-application-reports"]],decls:39,vars:18,consts:[["current","Application Reports"],["fxFlex","auto",3,"crumbs"],[1,"pr-5","pt-2"],[1,"float-right"],[1,"grid","grid-flow-row","auto-rows-max"],["fxLayout","column",1,"px-6","py-0"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["value","all"],["value","Submitted"],["value","Open"],["value","New"],[3,"selectedTabChange"],["t",""],["label","Reports"],[1,"p-0"],["label","Matching Members"],[3,"value"],[1,"flex","flex-col","sm:flex-row"],["class","card mt-6 ml-4 mr-4",4,"ngFor","ngForOf"],[1,"card","mt-6","ml-4","mr-4"],[1,"flex-1","sm:ltr:ml-4","sm:rtl:mr-4","pr-4"],[1,"px-gutter","py-4","flex","items-center"],[1,"flex-auto"],[1,"font-medium"],[1,"text-secondary","font-medium","text-xs"],[1,"flex","justify-between"],["matRipple","",1,"px-gutter","py-2","flex","flex-row","cursor-pointer","select-none","items-center","text-primary","ltr:rounded-bl","rtl:rounded-br","relative","hover:bg-primary-light","trans-ease-out",2,"margin-left","auto"],["size","20px",3,"icon","inline"],[1,"font-medium","ltr:ml-2","rtl:mr-2",3,"click"],[3,"swIsLoading"],[1,"p-4","flex-auto"],["vexScrollbar",""],["rowHeight","auto",1,"material",3,"columnMode","rows","headerHeight","footerHeight","scrollbarH","ngClass","page"],["ngxTable",""],["name","Member","prop","member",3,"sortable"],["ngx-datatable-cell-template",""],["name","Application","prop","applicationName",3,"sortable"],["name","Application","prop","applicationType",3,"sortable"],["name","Status","prop","applicationStatus",3,"sortable"]],template:function(r,o){1&r&&(t.TgZ(0,"vex-secondary-toolbar",0),t._UZ(1,"vex-breadcrumbs",1),t.qZA(),t.TgZ(2,"h1"),t._uU(3,"Application Reports"),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"div",3),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"mat-form-field"),t.TgZ(9,"mat-label"),t._uU(10,"Coverage Year"),t.qZA(),t.TgZ(11,"mat-select",6),t.NdJ("ngModelChange",function(u){return o.selectedCoverageYear=u})("selectionChange",function(u){return o.onCoverageYearChanged(u)}),t.YNc(12,wo,2,3,"mat-option",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",5),t.YNc(14,Tn,5,2,"mat-form-field",8),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"div",5),t.TgZ(17,"mat-form-field"),t.TgZ(18,"mat-label"),t._uU(19,"Application Status"),t.qZA(),t.TgZ(20,"mat-select",6),t.NdJ("ngModelChange",function(u){return o.filterStatus=u})("selectionChange",function(u){return o.onFiltersChanged(u)}),t.TgZ(21,"mat-option",9),t._uU(22," All "),t.qZA(),t.TgZ(23,"mat-option",10),t._uU(24," Submitted "),t.qZA(),t.TgZ(25,"mat-option",11),t._uU(26," Open "),t.qZA(),t.TgZ(27,"mat-option",12),t._uU(28," New "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"mat-tab-group",13,14),t.NdJ("selectedTabChange",function(u){return o.onTabChange(u)}),t.TgZ(31,"mat-tab",15),t.TgZ(32,"div",16),t.YNc(33,yn,3,1,"ng-container",8),t.ALo(34,"async"),t.qZA(),t.qZA(),t.TgZ(35,"mat-tab",17),t.TgZ(36,"div"),t.YNc(37,Ui,14,12,"ng-container",8),t.ALo(38,"async"),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(1),t.Q6J("crumbs",t.WLB(15,Eo,t.DdM(13,Io),t.DdM(14,Zo))),t.xp6(10),t.Q6J("ngModel",o.selectedCoverageYear),t.xp6(1),t.Q6J("ngForOf",o.coverageyears),t.xp6(2),t.Q6J("ngIf",t.lcZ(15,7,o.reportTypes$)),t.xp6(6),t.Q6J("ngModel",o.filterStatus),t.xp6(13),t.Q6J("ngIf",t.lcZ(34,9,o.ApplicationReports$)),t.xp6(4),t.Q6J("ngIf",t.lcZ(38,11,o.ApplicationPreviews$)))},directives:[Xt.n,jt.n,me.yH,me.xw,ie.KE,ie.hX,mt.gD,Z.JJ,Z.On,d.sg,d.O5,He.ey,qn.SP,qn.uX,et.ar,he.h$,tn.x,re.nE,d.mk,Ot.oO,re.UC,re.vq],pipes:[d.Ov],styles:[".datatable-body[_ngcontent-%COMP%]{cursor:pointer}.ngx-datatable.bootstrap[_ngcontent-%COMP%]:not(.cell-selection)   .datatable-body-row[_ngcontent-%COMP%]:hover, .ngx-datatable.material[_ngcontent-%COMP%]:not(.cell-selection)   .datatable-body-row[_ngcontent-%COMP%]:hover   .datatable-row-group[_ngcontent-%COMP%]{background:red;cursor:pointer}ngx-datatable[_ngcontent-%COMP%]{max-height:70vh;overflow-y:scroll}  .ngx-datatable .datatable-body{max-height:900px!important;overflow:hidden auto}"],data:{animation:[bn.$]}}),l})();var Ve=T(9814);const Ut=(400,(0,Ve.X$)("fadeInRight",[(0,Ve.eR)(":enter",[(0,Ve.oB)({transform:"translateX(-20px)",opacity:0}),(0,Ve.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,Ve.oB)({transform:"translateX(0)",opacity:1}))])]));var nn=T(8663),kn=T(5068),Cn=T(7383);const Ft=(0,Ve.X$)("scaleIn",[(0,Ve.eR)(":enter",[(0,Ve.oB)({transform:"scale(0)"}),(0,Ve.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,Ve.oB)({transform:"scale(1)"}))])]);var vt=T(9011),xt=T(1600),Qe=(()=>(function(l){l.apollo="vex-layout-apollo",l.zeus="vex-layout-zeus",l.hermes="vex-layout-hermes",l.poseidon="vex-layout-poseidon",l.ares="vex-layout-ares",l.ikaros="vex-layout-ikaros"}(Qe||(Qe={})),Qe))(),At=(()=>(function(l){l.light="vex-style-light",l.default="vex-style-default",l.dark="vex-style-dark"}(At||(At={})),At))(),Mo=T(3467);const wt={id:Qe.apollo,name:"Apollo",style:{colorScheme:At.default,colors:{primary:Mo.V.blue},borderRadius:{value:.25,unit:"rem"},button:{borderRadius:void 0}},direction:"ltr",imgSrc:"//vex-landing.visurel.com/assets/img/layouts/apollo.png",layout:"horizontal",boxed:!1,sidenav:{title:"VEX",imageUrl:"assets/img/demo/logo.svg",showCollapsePin:!0,user:{visible:!0},search:{visible:!0},state:"expanded"},toolbar:{fixed:!0,user:{visible:!0}},navbar:{position:"below-toolbar"},footer:{visible:!0,fixed:!0}},Wn=[wt,(0,xt.E)(Object.assign({},wt),{id:Qe.poseidon,name:"Poseidon",imgSrc:"//vex-landing.visurel.com/assets/img/layouts/poseidon.png",style:{borderRadius:{value:.5,unit:"rem"},button:{borderRadius:{value:9999,unit:"px"}}},sidenav:{user:{visible:!0},search:{visible:!0}},toolbar:{user:{visible:!1}},footer:{fixed:!1}}),(0,xt.E)(Object.assign({},wt),{id:Qe.hermes,name:"Hermes",imgSrc:"//vex-landing.visurel.com/assets/img/layouts/hermes.png",layout:"vertical",boxed:!0,sidenav:{user:{visible:!1},search:{visible:!1}},toolbar:{fixed:!1},footer:{fixed:!1}}),(0,xt.E)(Object.assign({},wt),{id:Qe.ares,name:"Ares",imgSrc:"//vex-landing.visurel.com/assets/img/layouts/ares.png",sidenav:{user:{visible:!1},search:{visible:!1}},toolbar:{fixed:!1},navbar:{position:"in-toolbar"},footer:{fixed:!1}}),(0,xt.E)(Object.assign({},wt),{id:Qe.zeus,name:"Zeus",imgSrc:"//vex-landing.visurel.com/assets/img/layouts/zeus.png",sidenav:{state:"collapsed"}}),(0,xt.E)(Object.assign({},wt),{id:Qe.ikaros,name:"Ikaros",imgSrc:"//vex-landing.visurel.com/assets/img/layouts/ikaros.png",layout:"vertical",boxed:!0,sidenav:{user:{visible:!1},search:{visible:!1}},toolbar:{fixed:!1},navbar:{position:"in-toolbar"},footer:{fixed:!1}})];let Gn=(()=>{class l{constructor(r,o){this.document=r,this.layoutService=o,this.defaultConfig=Qe.poseidon,this.configs=Wn,this._configSubject=new ge.X(this.configs.find(s=>s.id===this.defaultConfig)),this.config$=this._configSubject.asObservable(),this.config$.subscribe(s=>this._updateConfig(s))}select(r){return this.config$.pipe((0,ce.U)(r))}setConfig(r){const o=this.configs.find(s=>s.id===r);this._configSubject.next(o)}updateConfig(r){this._configSubject.next((0,xt.E)(Object.assign({},this._configSubject.getValue()),r))}_updateConfig(r){this._setLayoutClass(r.id),this._setStyle(r.style),this._setDirection(r.direction),this._setSidenavState(r.sidenav.state),this._emitResize()}_setStyle(r){var o;Object.values(At).filter(u=>u!==r.colorScheme).forEach(u=>{this.document.body.classList.contains(u)&&this.document.body.classList.remove(u)}),this.document.body.classList.add(r.colorScheme),this.document.body.style.setProperty("--border-radius",`${r.borderRadius.value}${r.borderRadius.unit}`);const s=null!==(o=r.button.borderRadius)&&void 0!==o?o:r.borderRadius;this.document.body.style.setProperty("--button-border-radius",`${s.value}${s.unit}`),this.document.body.style.setProperty("--color-primary",r.colors.primary.default.replace("rgb(","").replace(")","")),this.document.body.style.setProperty("--color-primary-contrast",r.colors.primary.contrast.replace("rgb(","").replace(")",""))}_emitResize(){window&&(window.dispatchEvent(new Event("resize")),setTimeout(()=>window.dispatchEvent(new Event("resize")),200))}_setDirection(r){this.document.body.dir=r}_setSidenavState(r){"expanded"===r?this.layoutService.expandSidenav():this.layoutService.collapseSidenav()}_setLayoutClass(r){this.configs.forEach(o=>{this.document.body.classList.contains(o.id)&&this.document.body.classList.remove(o.id)}),this.document.body.classList.add(r)}}return l.\u0275fac=function(r){return new(r||l)(t.LFG(d.K0),t.LFG(vt.P))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var rt=T(9891),Vi=T(7582);let zn=(()=>{class l{constructor(r){this.applicationSectionService=r,this.Sections=new ge.X(null),this.Sections$=this.Sections.asObservable()}setSections(r){if(this.activeSectionId){const o=r.find(s=>s.applicationSectionId===this.activeSectionId);o&&(o.isActive=!0)}this.Sections.next(r),console.log("setting sections",r,this.activeSectionId)}setActiveSection(r){const o=this.Sections.getValue();if(this.activeSectionId=r,console.log("setActiveSection",r,o),o){const s=o.find(v=>v.applicationSectionId===r),u=o.filter(v=>v.applicationSectionId!==r);for(const v of u)v.isActive=!1;s&&(s.isActive=!0),this.setSections(o)}}allSectionsCompleted(){const r=this.Sections.getValue();let o=!0;for(const s of r)!1===s.isCompleted&&!0===o&&(o=!1);return o}CompleteSection(r,o,s){return(0,Vi.mG)(this,void 0,void 0,function*(){const u=this.Sections.getValue();if(console.log("trying to complete",u),this.applicationSectionService.apiApplicationSectionsApplicationIdSectionIdCompletePost(o,r,s).subscribe(v=>{}),u){const v=u.find(w=>w.applicationSectionId===r);v?(v.isCompleted=s,console.log("set completed",v)):console.log("section not found",r),this.setSections(u)}else console.error("sections not found")})}}return l.\u0275fac=function(r){return new(r||l)(t.LFG(rt.s))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var Kn=T(3519),Xn=T(1238),Qi=T(134);function Yi(l,h){if(1&l&&t._UZ(0,"mat-icon",5),2&l){const r=t.oxw();t.Q6J("icIcon",r.icFactCheck)}}const jn=function(l){return[l]};function Lo(l,h){if(1&l&&(t.TgZ(0,"div",6),t._uU(1),t.qZA()),2&l){const r=t.oxw();t.Q6J("routerLink",t.VKq(2,jn,null==r.appSection?null:r.appSection.applicationSectionId)),t.xp6(1),t.hij(" ",null==r.appSection?null:r.appSection.subTitle,"\n")}}let No=(()=>{class l{constructor(r,o,s,u){this.http=r,this.router=o,this.route=s,this.applicationsService=u,this.applicationsEndpoint=Kn.pU.applicationsApi.endpoint,this.ColumnMode=re.hq,this.icMoreVert=le.Z,this.icFactCheck=Qi.Z}ngOnInit(){}getApplicationDetails(r){}linkRoute(){let r="";return r=`/applications/details/${this.appSection.applicationSectionId}`,console.log("prop - linkRoute"),console.log(r),r}isActive(){return!0}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(ee.eN),t.Y36(J.F0),t.Y36(J.gz),t.Y36(Se.u))},l.\u0275cmp=t.Xpm({type:l,selectors:[["application-sidenav-link"]],inputs:{appSection:"appSection"},decls:6,vars:7,consts:[["matRipple","","routerLinkActive","active",1,"text-base","flex","items-center","px-gutter","ltr:rounded-r-full","rtl:rounded-l-full","ltr:mr-gutter","rtl:ml-gutter","relative","mb-2","transition","ease-in-out","duration-200","select-none",3,"routerLinkActiveOptions","routerLink"],[1,"block","w-4",2,"color","green"],[3,"icIcon",4,"ngIf"],[1,"block","header"],["class","sub-heading pl-12 pb-4 pr-2",3,"routerLink",4,"ngIf"],[3,"icIcon"],[1,"sub-heading","pl-12","pb-4","pr-2",3,"routerLink"]],template:function(r,o){1&r&&(t.TgZ(0,"a",0),t.TgZ(1,"span",1),t.YNc(2,Yi,1,1,"mat-icon",2),t.qZA(),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.qZA(),t.YNc(5,Lo,2,4,"div",4)),2&r&&(t.Q6J("routerLinkActiveOptions",o.isActive)("routerLink",t.VKq(5,jn,null==o.appSection?null:o.appSection.applicationSectionId)),t.xp6(2),t.Q6J("ngIf",null==o.appSection?null:o.appSection.isCompleted),t.xp6(2),t.Oqu(null==o.appSection?null:o.appSection.sectionTitle),t.xp6(1),t.Q6J("ngIf",""!==(null==o.appSection?null:o.appSection.subTitle)))},directives:[J.yS,J.Od,en.QV,d.O5,et.ar,J.rH],styles:[".active[_ngcontent-%COMP%]{background-color:#add8e6}.header[_ngcontent-%COMP%]{font-weight:bold;padding-bottom:0}.sub-heading[_ngcontent-%COMP%]{font-size:x-small;text-wrap:normal;cursor:pointer}"]}),l})();function Oo(l,h){if(1&l&&t._UZ(0,"application-sidenav-link",3),2&l){const r=h.$implicit;t.Q6J("@fadeInUp",void 0)("appSection",r)}}let Ji=(()=>{class l{constructor(r,o,s,u,v){this.http=r,this.router=o,this.route=s,this.applicationsService=u,this.layoutService=v,this.applicationsEndpoint=Kn.pU.applicationsApi.endpoint,this.ColumnMode=re.hq,this.isDesktop$=this.layoutService.isDesktop$,this.drawerMode$=this.isDesktop$.pipe((0,ce.U)(w=>w?"side":"over")),this.icMoreVert=le.Z}ngOnInit(){}closeDrawer(){var r;this.layoutService.isLtLg()&&(null===(r=this.drawer)||void 0===r||r.close())}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(ee.eN),t.Y36(J.F0),t.Y36(J.gz),t.Y36(Se.u),t.Y36(vt.P))},l.\u0275cmp=t.Xpm({type:l,selectors:[["application-side-menu"]],inputs:{drawer:"drawer",applicationSections:"applicationSections"},decls:4,vars:3,consts:[[1,"py-4"],[1,"text-secondary","text-lg","font-bold","px-gutter","mb-2"],[3,"appSection",4,"ngFor","ngForOf"],[3,"appSection"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"p",1),t._uU(2," Sections "),t.qZA(),t.YNc(3,Oo,1,2,"application-sidenav-link",2),t.qZA()),2&r&&(t.Q6J("@stagger",void 0),t.xp6(1),t.Q6J("@fadeInUp",void 0),t.xp6(2),t.Q6J("ngForOf",o.applicationSections))},directives:[d.sg,No],styles:[""],data:{animation:[Xn.KF,bn.$]}}),l})();function Uo(l,h){1&l&&t._UZ(0,"mat-progress-bar",9)}const Fo=function(){return{key:"memberDetais"}};function Vo(l,h){if(1&l&&(t.TgZ(0,"h2",10),t._uU(1),t.qZA()),2&l){const r=h.ngIf;t.Q6J("swIsLoading",t.DdM(5,Fo)),t.xp6(1),t.HOy(" ",r.memberName," - ",r.coverageYear," - ",r.applicationName," - ",r.applicationType," ")}}const Qo=function(){return{key:"appSections"}};function ei(l,h){if(1&l&&(t.ynx(0),t._UZ(1,"application-side-menu",11),t.BQk()),2&l){const r=h.ngIf;t.oxw();const o=t.MAs(9);t.xp6(1),t.Q6J("drawer",o)("applicationSections",r)("swIsLoading",t.DdM(3,Qo))}}const Yo=function(){return{title:"Application List",routerLink:"/applications"}},Jo=function(l){return[l]};let qo=(()=>{class l{constructor(r,o,s,u,v,w,C,S,R,We,Re){this.http=r,this.router=o,this.route=s,this.applicationsService=u,this.layoutService=v,this.dialog=w,this.configService=C,this.applicationSectionService=S,this.applicationService=R,this.changeDetectorRef=We,this.isLoadingService=Re,this._applicationDetails=new ge.X(null),this.ApplicationDetails$=this._applicationDetails.asObservable(),this.ColumnMode=re.hq,this._applicationSections=new ge.X(null),this.panelMode="over",this.ApplicationSections$=this._applicationSections.asObservable(),this.isDesktop$=this.layoutService.isDesktop$,this.isVerticalLayout$=this.configService.select(K=>"vertical"===K.layout),this.ltLg$=this.layoutService.ltLg$,this.gtSm$=this.layoutService.gtSm$,this.isOpen=!1,this.drawerMode$=this.isDesktop$.pipe((0,ce.U)(K=>K?"side":"over")),this.searchCtrl=new Z.NI,this.icMail=_n.Z,this.icSearch=Cn.Z,this.icEdit=nn.Z,this.icMenu=kn.Z,this.icMoreVert=le.Z}ngOnInit(){this.isLoading=this.isLoadingService.isLoading$({key:["appSections","memberDetails","getApplicationSections"]}),this.parametersSubscription=this.route.paramMap.subscribe(r=>{let o=r.get("id");if(o){let s=Number(o);this.getApplicationDetails(s),this.getApplicationSections(s)}}),setTimeout(()=>{console.log("hiding"),this.panelMode="side",this.isOpen=!0,this.changeDetectorRef.detectChanges()},500)}getApplicationDetails(r){console.log(r),this.isLoadingService.add({key:"memberDetails"}),this.applicationsService.apiApplicationsIdGet(r).subscribe(o=>{this._applicationDetails.next(o),console.log("successfully retrieved application details;"),this.isLoadingService.remove({key:"memberDetails"})})}getApplicationSections(r){console.log("getApplicationSections"),this.isLoadingService.add({key:"appSections"}),this.applicationSectionService.apiApplicationSectionsApplicationIdGet(r).subscribe(o=>{console.log(o),this.applicationService.setSections(o),this.isLoadingService.remove({key:"appSections"})})}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(ee.eN),t.Y36(J.F0),t.Y36(J.gz),t.Y36(Se.u),t.Y36(vt.P),t.Y36(de.uw),t.Y36(Gn),t.Y36(rt.s),t.Y36(zn),t.Y36(t.sBO),t.Y36(he.RI))},l.\u0275cmp=t.Xpm({type:l,selectors:[["vex-view-application"]],viewQuery:function(r,o){if(1&r&&t.Gf(kt.jA,7),2&r){let s;t.iGM(s=t.CRH())&&(o.drawer=s.first)}},decls:14,vars:15,consts:[[1,"w-full","h-full"],["current","Application List"],["fxFlex","auto",3,"crumbs"],["mode","indeterminate","color","warn","style","position: absolute; top: 0; z-index: 100",4,"ngIf"],["class","pl-4",3,"swIsLoading",4,"ngIf"],[1,"card","overflow-hidden"],[3,"mode","opened"],["drawer",""],[4,"ngIf"],["mode","indeterminate","color","warn",2,"position","absolute","top","0","z-index","100"],[1,"pl-4",3,"swIsLoading"],[3,"drawer","applicationSections","swIsLoading"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"vex-secondary-toolbar",1),t._UZ(2,"vex-breadcrumbs",2),t.qZA(),t.YNc(3,Uo,1,0,"mat-progress-bar",3),t.ALo(4,"async"),t.YNc(5,Vo,2,6,"h2",4),t.ALo(6,"async"),t.TgZ(7,"mat-drawer-container",5),t.TgZ(8,"mat-drawer",6,7),t.YNc(10,ei,2,4,"ng-container",8),t.ALo(11,"async"),t.qZA(),t.TgZ(12,"mat-drawer-content"),t._UZ(13,"router-outlet"),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(2),t.Q6J("crumbs",t.VKq(13,Jo,t.DdM(12,Yo))),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,6,o.isLoading)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,o.ApplicationDetails$)),t.xp6(3),t.Q6J("mode",o.panelMode)("opened",o.isOpen),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,10,o.applicationService.Sections$)))},directives:[Xt.n,jt.n,me.yH,d.O5,kt.kh,kt.jA,kt.LW,J.lC,Be.pW,he.h$,Ji],pipes:[d.Ov],styles:[".vex-mail-header{height:56px}@media (min-width: 1280px){.vex-mail-header{height:200px}.vex-mail-header-overflow{height:64px}.vex-mail-content-overflow{margin-top:-64px}}.vex-mail-drawer{border:0!important}\n"],encapsulation:2,data:{animation:[Ft,Ut]}}),l})();var Do=T(3690),Po=T(3510);let $=(()=>{class l{constructor(r,o,s,u,v,w,C){this.http=r,this.router=o,this.route=s,this.snackBar=u,this.dialogRef=v,this.applicationId=w,this.applicationService=C,this.contactsEndpoint=Kn.pU.contactsApi.endpoint,this.ColumnMode=re.hq,this.isSaving=!1,this.icMoreVert=le.Z,this.icSmartphone=Do.Z,this.icweb=Po.Z,this.ContactDetails={},this.createContactForm=new Z.cw({name:new Z.NI(""),email:new Z.NI(""),password:new Z.NI(""),confirmPassword:new Z.NI("")})}ngOnInit(){}hasProperty(r,o){let s=null==r?void 0:r.find(u=>u===o);return console.log("hasProperty",s),!!s}submitApplication(){this.applicationService.apiApplicationsApplicationIdSubmitPost(this.applicationId).subscribe(r=>{this.snackBar.open("Application submitted successfully","Close",{duration:2e3}),this.closeModal()})}closeModal(){console.log("Close modal"),this.dialogRef.close()}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(ee.eN),t.Y36(J.F0),t.Y36(J.gz),t.Y36(gn.ux),t.Y36(de.so),t.Y36(de.WI),t.Y36(Se.u))},l.\u0275cmp=t.Xpm({type:l,selectors:[["vex-submit-application"]],decls:11,vars:1,consts:[["fxLayout","row","fxLayoutAlign","start center",1,"px-6","py-4","border-b"],[1,"title","m-0"],["fxLayout","column",1,"px-6","py-0"],["fxLayout","column",1,"px-6","py-4"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px"],["mat-button","","type","button",3,"click"],["color","primary","mat-raised-button","","type","button",3,"disabled","click"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2,"Submit Application"),t.qZA(),t.qZA(),t.TgZ(3,"div",2),t._uU(4," Are you sure you want to submit the application? Once submitted, you won't be able to make any more changes\n"),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return o.closeModal()}),t._uU(8,"CANCEL"),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.submitApplication()}),t._uU(10," Submit "),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(9),t.Q6J("disabled",o.isSaving))},directives:[me.xw,me.Wh,me.SQ,j.lW],styles:[""],data:{animation:[Xn.Nu,bn.$]}}),l})();var q=T(9171),ti=T(3132),$o=T.n(ti),_e=T(431),qi=T(5686),Di=T(5389);const Ho=["formGroup",""];function Pi(l,h){if(1&l&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.hij(" ",r.ApplicationElement.label," ")}}const Bo=function(l){return{precision:l}};function te(l,h){if(1&l&&(t.ynx(0),t.YNc(1,Pi,2,1,"div",4),t.TgZ(2,"mat-form-field",5),t._UZ(3,"input",6,7),t.qZA(),t.BQk()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showLabel),t.xp6(2),t.Q6J("formControlName",r.formControlName())("errorStateMatcher",r.matcher)("width",r.GetElementWidth())("options",t.VKq(5,Bo,r.ApplicationElement.decimalPrecision))}}function $i(l,h){if(1&l&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.hij(" ",r.ApplicationElement.label," ")}}function rn(l,h){if(1&l&&(t.TgZ(0,"mat-form-field",5),t._UZ(1,"textarea",10,7),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.Q6J("formControlName",r.formControlName())("errorStateMatcher",r.matcher)}}function Hi(l,h){if(1&l&&(t.ynx(0),t.YNc(1,$i,2,1,"div",4),t.YNc(2,rn,3,2,"mat-form-field",9),t.BQk()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showLabel),t.xp6(1),t.Q6J("ngSwitchCase",r.elementType.LargeText)}}function ni(l,h){if(1&l&&(t.TgZ(0,"div"),t._UZ(1,"input",11),t.TgZ(2,"mat-label",12),t._uU(3),t.qZA(),t.qZA()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("formControlName",r.formControlName()),t.xp6(2),t.Oqu(r.ApplicationElement.label)}}function Ze(l,h){if(1&l&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.hij(" ",r.ApplicationElement.label," ")}}function Bi(l,h){if(1&l&&(t.ynx(0),t.YNc(1,Ze,2,1,"div",4),t.TgZ(2,"mat-form-field",5),t._UZ(3,"input",10,7),t.qZA(),t.BQk()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showLabel),t.xp6(2),t.Q6J("formControlName",r.formControlName())("errorStateMatcher",r.matcher)}}function ki(l,h){if(1&l&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.hij(" ",r.ApplicationElement.label," ")}}function Wi(l,h){if(1&l&&(t.ynx(0),t.YNc(1,ki,2,1,"div",4),t.TgZ(2,"mat-form-field",5),t._UZ(3,"input",13,7),t.qZA(),t.BQk()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showLabel),t.xp6(2),t.Q6J("formControlName",r.formControlName())("width",r.GetElementWidth())("errorStateMatcher",r.matcher)}}function Gi(l,h){if(1&l&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.hij(" ",r.ApplicationElement.label," ")}}function zi(l,h){if(1&l&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&l){const r=h.$implicit;t.Q6J("value",r.value),t.xp6(1),t.hij(" ",r.label," ")}}function Ki(l,h){if(1&l&&(t.ynx(0),t.YNc(1,Gi,2,1,"div",4),t.TgZ(2,"mat-form-field",5),t.TgZ(3,"mat-select",14),t.YNc(4,zi,2,2,"mat-option",15),t.qZA(),t.qZA(),t.BQk()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showLabel),t.xp6(2),t.Q6J("formControlName",r.formControlName())("errorStateMatcher",r.matcher),t.xp6(1),t.Q6J("ngForOf",r.ApplicationElement.selectOptions)}}function ve(l,h){if(1&l&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.hij(" ",r.ApplicationElement.label," ")}}function ko(l,h){if(1&l&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&l){const r=h.$implicit;t.Q6J("value",r.value),t.xp6(1),t.hij(" ",r.label," ")}}function Ee(l,h){if(1&l&&(t.TgZ(0,"mat-form-field",5),t.TgZ(1,"mat-select",17),t.YNc(2,ko,2,2,"mat-option",15),t.qZA(),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.Q6J("formControlName",r.formControlName())("errorStateMatcher",r.matcher),t.xp6(1),t.Q6J("ngForOf",r.ApplicationElement.selectOptions)}}function Wo(l,h){if(1&l&&(t.ynx(0),t.YNc(1,ve,2,1,"div",4),t.YNc(2,Ee,3,3,"mat-form-field",9),t.BQk()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showLabel),t.xp6(1),t.Q6J("ngSwitchCase",r.elementType.MultiSelect)}}function Xi(l,h){if(1&l&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&l){const r=t.oxw();t.Tol(r.GetHTMLClasses()),t.xp6(1),t.hij(" ",null==r.ApplicationElement?null:r.ApplicationElement.longText," ")}}function ut(l,h){if(1&l&&(t.TgZ(0,"div"),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t._uU(3," File Upload Control "),t.qZA()),2&l){const r=t.oxw();t.xp6(2),t.Oqu(r.ApplicationElement.label)}}function In(l,h){if(1&l&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.hij(" ",r.ApplicationElement.label," ")}}function ii(l,h){if(1&l&&(t.ynx(0),t.YNc(1,In,2,1,"div",4),t.TgZ(2,"mat-form-field",5),t._UZ(3,"input",18),t.qZA(),t.BQk()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showLabel),t.xp6(2),t.Q6J("formControlName",r.formControlName())("errorStateMatcher",r.matcher)("width",r.GetElementWidth())}}function H(l,h){if(1&l&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&l){const r=t.oxw(2);t.xp6(1),t.hij(" ",r.ApplicationElement.label," ")}}function pt(l,h){if(1&l&&(t.ynx(0),t.YNc(1,H,2,1,"div",4),t.TgZ(2,"mat-form-field",5),t._UZ(3,"input",19),t.qZA(),t.BQk()),2&l){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showLabel),t.xp6(2),t.Q6J("formControlName",r.formControlName())("errorStateMatcher",r.matcher)("width",r.GetElementWidth())}}function ri(l,h){if(1&l&&(t.ynx(0),t.TgZ(1,"div",20),t._uU(2),t.qZA(),t.BQk()),2&l){const r=t.oxw();t.xp6(2),t.hij("Previous: ",r.PreviousResponse(),"")}}class Go{isErrorState(h,r){return!!(h&&h.invalid&&(h.dirty||h.touched||r&&r.submitted))}}let Zn=(()=>{class l{constructor(r,o,s,u,v,w,C,S){this.http=r,this.router=o,this.route=s,this.applicationsService=u,this.layoutService=v,this.controlContainer=w,this.changeDetectorRef=C,this.applicationSectionElementsService=S,this._rowId=-1,this.term$=new Ce.xQ,this.showLabel=!0,this.ElementTypeEnum=_e.H,this.isDesktop$=this.layoutService.isDesktop$,this.ltLg$=this.layoutService.ltLg$,this.runonce=!1,this.elementType=_e.H,this.matcher=new Go,this.icMoreVert=le.Z,this.Changed=new t.vpe}get RowId(){return this._rowId}set RowId(r){this._rowId=r}get SectionId(){return this._sectionId}set SectionId(r){this._sectionId=r}set ApplicationElement(r){this._applicationElement=r}get ApplicationElement(){return this._applicationElement}set ApplicationId(r){this._applicationId=r}get ApplicationId(){return this._applicationId}ngOnInit(){this.form=this.controlContainer.control,this.ApplicationElement&&!1===this.runonce&&(this.InitElement(),this.runonce=!0)}ngAfterViewInit(){}ngAfterViewChecked(){}InitElement(){let r=[];this.ApplicationElement.isRequired&&r.push(Z.kI.required);let s,o=this.ApplicationElement.responses.find(v=>v.rowId===this.RowId);s=null!=o?this.GetElementResponseValue(o):"",this.savedResponseValue=s;let u=new Z.NI(s);switch(this.ApplicationElement.elementType){case _e.H.Email:case _e.H.Currency:case _e.H.Date:case _e.H.Integer:case _e.H.LargeText:case _e.H.Text:r.push(Z.kI.maxLength(this.ApplicationElement.maxLength?this.ApplicationElement.maxLength:50))}this.ApplicationElement.elementType===_e.H.Email&&r.push(Z.kI.email),this.ApplicationElement.elementType!==_e.H.Html&&(this.form.addControl(this.formControlName(),u),Promise.resolve().then(()=>{u.clearValidators(),u.setValidators(r),u.updateValueAndValidity(),this.ApplicationElement.readonly?u.disable():u.enable()}),this.ApplicationElement.elementType===_e.H.Date?u.valueChanges.pipe((0,qi.b)(1e3),(0,Di.x)()).subscribe(v=>{console.log("this is the date object after a change"),this.SaveElement(v)}):u.valueChanges.pipe((0,qi.b)(1e3),(0,Di.x)()).subscribe(v=>{console.log("an object saving that is not a date"),this.SaveElement(v)}))}ngOnDestroy(){this.textboxChange&&(this.textboxChange.unsubscribe(),this.textboxChange=null)}SaveElement(r){if(console.log("element - "+this.RowId),this.ApplicationElement.elementType===this.elementType.Html)return!1;const o=this.GetElementResponse(this.ApplicationElement);console.log("the response from a change",o,this.savedResponseValue,this.GetElementResponseValue(o)),!1===$o().isEqual(this.GetElementResponseValue(o),this.savedResponseValue)&&(console.log("trying to save",this.GetElementResponseValue(o),this.savedResponseValue),this.applicationSectionElementsService.apiApplicationSectionElementsApplicationIdSectionSectionIdElementIdPost(this.ApplicationId,this.SectionId,this.ApplicationElement.elementId,o).subscribe(s=>{console.log("raising event",o),this.Changed.emit(o)}))}GetElementResponseValue(r){if(!r)return null;switch(this.ApplicationElement.elementType){case this.elementType.Attachment:case this.elementType.Html:case this.elementType.Table:break;case this.elementType.Checkbox:if(r.longTextResponse&&""!==r.longTextResponse){let s;if(null!==r.longTextResponse){r.longTextResponse.startsWith("[")||(r.longTextResponse=`[${r.longTextResponse}]`);try{s=JSON.parse(r.longTextResponse)}catch(u){console.error("Failed to parse longTextResponse:",u)}}return s}return!1;case this.elementType.Currency:return r.currencyResponse;case this.elementType.Date:if(null!=r.dateResponse&&""!=r.dateResponse){console.log("this is not a date",r);const s=new Date(r.dateResponse),u=s.getFullYear();let v=s.getMonth()+1,w=s.getDate(),C=w.toString(),S=v.toString();w<10&&(C="0"+w),v<10&&(S="0"+v);const R=`${u}-${S}-${C}`;if(console.log("this is the date - "+R),"1969-12-31"!=R)return R}break;case this.elementType.Email:case this.elementType.Text:return r.textResponse;case this.elementType.Integer:return r.intResponse;case this.elementType.LargeText:return r.longTextResponse;case this.elementType.MultiSelect:let o;if(null!==r.longTextResponse){r.longTextResponse.startsWith("[")||(r.longTextResponse=`[${r.longTextResponse}]`);try{o=JSON.parse(r.longTextResponse)}catch(s){console.error("Failed to parse longTextResponse:",s)}}return o;case this.elementType.SingleSelect:if(r.longTextResponse)return r.longTextResponse}}HasPreviousResponse(){if(null==this.ApplicationElement.previousResponses)return!1;var r=this.ApplicationElement.previousResponses.find(s=>s.rowId===this.RowId);if(!r)return!1;var o=this.GetElementResponseValue(r);return null!=o&&""!=o||void 0}PreviousResponse(){var r=this.ApplicationElement.previousResponses.find(o=>o.rowId===this.RowId);return this.GetElementResponseValue(r)}GetElementResponse(r){let s,o={applicationId:this.ApplicationId,elementId:r.elementId,rowId:this.RowId},u=this.formControlName();switch(console.log("getting element response",u),s=this.form.get(u)?this.form.get(u).value:"",r.elementType){case this.elementType.Attachment:case this.elementType.Table:break;case this.elementType.Checkbox:case this.elementType.MultiSelect:o.longTextResponse=JSON.stringify(s);break;case this.elementType.Currency:o.currencyResponse=s;break;case this.elementType.Date:o.dateResponse=s;break;case this.elementType.Email:case this.elementType.Html:case this.elementType.Text:o.textResponse=s;break;case this.elementType.Integer:o.intResponse=s;break;case this.elementType.LargeText:case this.elementType.SingleSelect:o.longTextResponse=s}return console.log("built - ",o),o}formControlName(){return`${this.ApplicationElement.elementId}-${this.ApplicationElement.shortName.replace(/[^a-zA-Z0-9]/g,"_")}-${this.RowId}`}GetElementWidth(){return this.ApplicationElement.width?this.ApplicationElement.width:null}GetHTMLClasses(){let r="mt-0 mb-4 text-secondary";return this.GetElementWidth()&&(r+=" w-"+this.GetElementWidth()+" "),r}GetIndentSpaces(){if(this.ApplicationElement.indentSpaces)return`padding-left: ${this.ApplicationElement.indentSpaces}em;`}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(ee.eN),t.Y36(J.F0),t.Y36(J.gz),t.Y36(Se.u),t.Y36(vt.P),t.Y36(Z.gN),t.Y36(t.sBO),t.Y36(q.c))},l.\u0275cmp=t.Xpm({type:l,selectors:[["view-element","formGroup",""],["view-element","formGroupName",""]],inputs:{RowId:"RowId",SectionId:"SectionId",ApplicationElement:"ApplicationElement",showLabel:"showLabel",ApplicationId:"ApplicationId"},outputs:{Changed:"Changed"},attrs:Ho,decls:14,vars:16,consts:[[3,"ngSwitch","formGroup"],[4,"ngSwitchCase"],[3,"class",4,"ngSwitchCase"],[4,"ngIf"],["class","outside-form-label",4,"ngIf"],["floatLabel","never"],["matInput","","currencyMask","",3,"formControlName","errorStateMatcher","width","options"],["lengthHint",""],[1,"outside-form-label"],["floatLabel","never",4,"ngSwitchCase"],["matInput","",3,"formControlName","errorStateMatcher"],["type","checkbox",3,"formControlName"],[1,"ml-2"],["type","number","matInput","",3,"formControlName","width","errorStateMatcher"],[3,"formControlName","errorStateMatcher"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["multiple","true","fxFlex","none",3,"formControlName","errorStateMatcher"],["matInput","","type","email",3,"formControlName","errorStateMatcher","width"],["matInput","","type","date",3,"formControlName","errorStateMatcher","width"],[1,"previousResponse"]],template:function(r,o){1&r&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t.YNc(2,te,5,7,"ng-container",1),t.YNc(3,Hi,3,2,"ng-container",1),t.YNc(4,ni,4,2,"div",1),t.YNc(5,Bi,5,3,"ng-container",1),t.YNc(6,Wi,5,4,"ng-container",1),t.YNc(7,Ki,5,4,"ng-container",1),t.YNc(8,Wo,3,2,"ng-container",1),t.YNc(9,Xi,2,3,"p",2),t.YNc(10,ut,4,1,"div",1),t.YNc(11,ii,4,4,"ng-container",1),t.YNc(12,pt,4,4,"ng-container",1),t.YNc(13,ri,3,1,"ng-container",3),t.qZA(),t.qZA()),2&r&&(t.Akn(o.GetIndentSpaces()),t.xp6(1),t.Q6J("ngSwitch",o.ApplicationElement.elementType)("formGroup",o.form),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Currency),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.LargeText),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Checkbox),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Text),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Integer),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.SingleSelect),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.MultiSelect),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Html),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Attachment),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Email),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Date),t.xp6(1),t.Q6J("ngIf",o.HasPreviousResponse()))},directives:[d.RF,Z.JL,Z.sg,d.n9,d.O5,ie.KE,ye.Nt,Z.Fj,Bt,Z.JJ,Z.u,Z.Wl,ie.hX,Z.wV,mt.gD,d.sg,He.ey,me.yH],styles:[".vex-mail-header{height:56px}@media (min-width: 1280px){.vex-mail-header{height:200px}.vex-mail-header-overflow{height:64px}.vex-mail-content-overflow{margin-top:-64px}}.vex-mail-drawer{border:0!important}.mat-form-field-appearance-fill .mat-form-field-flex{padding:0 .2em,0 .2em}.mat-form-field:not(.mat-form-field-has-label) .mat-form-field-infix{border-top-width:0}.mat-form-field{margin-bottom:0}.mat-form-field-wrapper{padding-bottom:1em}.previousResponse{padding-bottom:1em;font-size:8pt;color:gray;padding-left:1em}\n"],encapsulation:2,data:{animation:[Ft,Ut]}}),l})();function zo(l,h){if(1&l&&(t.TgZ(0,"th",6),t._uU(1),t.qZA()),2&l){const r=h.$implicit;t.xp6(1),t.hij(" ",r.label," ")}}function Ko(l,h){1&l&&t.GkF(0)}function Xo(l,h){if(1&l&&(t.TgZ(0,"th",10),t._uU(1),t.qZA()),2&l){const r=t.oxw().$implicit,o=t.oxw().$implicit,s=t.oxw(2);let u;t.xp6(1),t.hij(" ",null==(u=s.getElement(o.elements,r.elementId))?null:u.longText," ")}}function ji(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"view-element",13),t.NdJ("Changed",function(s){return t.CHM(r),t.oxw(5).handleRowChange(s)}),t.qZA()}if(2&l){const r=t.oxw(2).$implicit,o=t.oxw().$implicit,s=t.oxw(2);t.Q6J("ApplicationElement",s.getElement(o.elements,r.elementId))("ApplicationId",s.ApplicationId)("SectionId",s.ApplicationElement.tableSectionId)("formGroup",s.form)("RowId",o.rowId)("showLabel",!1)}}function En(l,h){if(1&l&&(t.TgZ(0,"td",11),t.YNc(1,ji,1,6,"view-element",12),t.qZA()),2&l){const r=t.oxw().$implicit,o=t.oxw().$implicit,s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s.getElement(o.elements,r.elementId))}}function Vt(l,h){if(1&l&&(t.ynx(0),t.YNc(1,Ko,1,0,"ng-container",7),t.YNc(2,Xo,2,1,"ng-template",null,8,t.W1O),t.YNc(4,En,2,1,"ng-template",null,9,t.W1O),t.BQk()),2&l){const r=h.$implicit,o=t.MAs(3),s=t.MAs(5);t.xp6(1),t.Q6J("ngIf",0==r.elementId)("ngIfThen",o)("ngIfElse",s)}}function jo(l,h){if(1&l&&(t.TgZ(0,"tr"),t.YNc(1,Vt,6,3,"ng-container",5),t.qZA()),2&l){const r=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",r.columns)}}function er(l,h){1&l&&t.GkF(0)}function tr(l,h){1&l&&(t.TgZ(0,"th",10),t._uU(1," \xa0 "),t.qZA())}const oi=function(l){return{isCurrencyFooter:l}};function ai(l,h){if(1&l&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&l){const r=t.oxw().$implicit,o=t.oxw(2);t.Q6J("ngClass",t.VKq(2,oi,o.isCurrency(r.elementType))),t.xp6(1),t.hij(" ",r.footerValue," ")}}function nr(l,h){if(1&l&&(t.ynx(0),t.YNc(1,er,1,0,"ng-container",7),t.YNc(2,tr,2,0,"ng-template",null,14,t.W1O),t.YNc(4,ai,2,4,"ng-template",null,15,t.W1O),t.BQk()),2&l){const r=h.$implicit,o=t.MAs(3),s=t.MAs(5);t.xp6(1),t.Q6J("ngIf",0==r.elementId||0==r.showFooter)("ngIfThen",o)("ngIfElse",s)}}function ea(l,h){if(1&l&&(t.TgZ(0,"div"),t.TgZ(1,"table",2),t.TgZ(2,"thead",3),t.TgZ(3,"tr"),t.YNc(4,zo,2,1,"th",4),t.qZA(),t.qZA(),t.TgZ(5,"tbody"),t.YNc(6,jo,2,1,"tr",5),t.qZA(),t.TgZ(7,"tfoot"),t.YNc(8,nr,6,3,"ng-container",5),t.qZA(),t.qZA(),t.qZA()),2&l){const r=h.ngIf,o=t.oxw();t.xp6(4),t.Q6J("ngForOf",r.columns),t.xp6(2),t.Q6J("ngForOf",o.data),t.xp6(2),t.Q6J("ngForOf",r.columns)}}function li(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"button",18),t.NdJ("click",function(){return t.CHM(r),t.oxw().AddRow()}),t._uU(2," Add Row "),t.qZA(),t.qZA()}}let si=(()=>{class l{constructor(r,o,s,u,v,w,C,S,R,We){this.http=r,this.router=o,this.route=s,this.applicationsService=u,this.layoutService=v,this.changeDetectorRef=w,this.applicationSectionService=C,this.applicationSectionElementsService=S,this.fb=R,this.currencyPipe=We,this.ColumnMode=re.hq,this.data=[],this.columns=[],this.initialRows=[],this._tableData=new ge.X(null),this.TableData$=this._tableData.asObservable(),this.elementType=ke.Hd,this.form=this.fb.group({}),this.isDesktop$=this.layoutService.isDesktop$,this.ltLg$=this.layoutService.ltLg$,this.drawerMode$=this.isDesktop$.pipe((0,ce.U)(Re=>Re?"side":"over")),this.drawerOpen=!0,this.searchCtrl=new Z.NI,this.icMail=_n.Z,this.icSearch=Cn.Z,this.icEdit=nn.Z,this.icMenu=kn.Z,this.unsubscribe=new Ce.xQ,this.icMoreVert=le.Z}set ApplicationId(r){console.log("set table applicationid",r),this._applicationId=r,this.InitTable()}createInitialRows(){this.initialRows=this.ApplicationElement.selectOptions.map(r=>({elementType:ke.Hd.Html,longText:r.label,responses:[],elementId:0,width:52})),this.initialRows.length>0&&this.ApplicationElement.selectOptions.filter(o=>""!==o.label).length>0&&this.columns.push({elementId:0,label:"",showFooter:!1,footerValue:"0",elementType:ke.Hd.Html})}set ApplicationElement(r){this._applicationElement=r,console.log("set table applicationelement",r),this.InitTable()}get ApplicationElement(){return this._applicationElement}get ApplicationId(){return this._applicationId}ngOnInit(){}InitTable(){if(console.log("initTable",this.ApplicationId,this.ApplicationElement),void 0===this.ApplicationId||void 0===this.ApplicationElement)return console.log("not ready yet"),!1;this.createInitialRows(),console.log("Initializing table control - ",this.ApplicationElement.tableSectionId,this.ApplicationId),this.getApplicationSectionElements(this.ApplicationId,this.ApplicationElement.tableSectionId)}getRowCount(){const r=1===this._applicationElement.responses.length&&this._applicationElement.responses[0].intResponse?this._applicationElement.responses[0].intResponse:this.initialRows.length;return console.log("rowcount",r),r}extractRows(){let r=[],o=this.getRowCount();for(let s=0;s<o;s++){let u=[],v=this.initialRows[s];console.log("creating table stuff",v,this.initialRows),v&&u.push(v),u=u.concat((0,ti.cloneDeep)(this.applicationElements)),r.push({rowId:s,elements:u})}this.data=r}getElement(r,o){return r.find(s=>s.elementId===o)}getFooterCellContents(r){console.log("footer cell contents");const o=this.applicationElements.find(s=>s.elementId===r.elementId);if(console.log("footer find result"),console.log("footer element",o),console.log(this.data),o&&o.sumValues){let s=0,u=this.data[0];return u&&u.elements.forEach(v=>{v.elementId===o.elementId&&v.responses.forEach(w=>{w.intResponse&&(s+=w.intResponse),w.currencyResponse&&(s+=w.currencyResponse)})}),console.log("results of sum"),console.log(s),s}}AddRow(){let r=[],o=Math.max(...this.data.map(v=>v.rowId))+1,s=this.initialRows[o];console.log("creating table stuff",s,this.initialRows),s&&r.push(s),r=r.concat((0,ti.cloneDeep)(this.applicationElements)),this.data.push({rowId:o,elements:r}),this.SaveElement(),this.updateTable()}SaveElement(){console.log("Saving Table Element ");let r=1===this.ApplicationElement.responses.length?this.ApplicationElement.responses[0]:{applicationId:this.ApplicationId,elementId:this.ApplicationElement.elementId,rowId:0};r.intResponse=this.data.length,this.ApplicationElement.responses=[r],this.applicationSectionElementsService.apiApplicationSectionElementsApplicationIdSectionSectionIdElementIdPost(this.ApplicationId,this.ApplicationElement.tableSectionId,this.ApplicationElement.elementId,r).subscribe(o=>{console.log(o)})}getApplicationSectionElements(r,o){console.log("getApplicationSections"),this.applicationSectionElementsService.apiApplicationSectionElementsApplicationIdSectionSectionIdGet(r,o).subscribe(s=>{console.log(s),this.applicationElements=s,this.columns=this.columns.concat(this.applicationElements.map(u=>{let v="0";return"Currency"===u.elementType&&(v=this.formatMoney(u.responses.reduce((w,C)=>w+C.currencyResponse,0))),"Integer"===u.elementType&&(v=u.responses.reduce((w,C)=>w+C.intResponse,0).toString()),console.log("this is an output from the subscribe",v),{label:u.label,elementId:u.elementId,showFooter:u.sumValues,footerValue:v,elementType:u.elementType}})),this.extractRows(),console.log("table stuff",this.columns,this.data),this.updateTable()})}updateTable(){console.log("updating table"),this._tableData.next({initialRows:this.initialRows,columns:this.columns})}formatMoney(r){const o=`${r}`.replace(/\,/g,"");return this.currencyPipe.transform(o)}isCurrency(r){return"Currency"===r}handleRowChange(r){console.log("cell change",r),this.applicationElements.forEach(o=>{if(o.elementId===r.elementId){let s=o.responses.find(u=>u.rowId===r.rowId);null==s&&(s={applicationId:this.ApplicationId,elementId:o.elementId,rowId:r.rowId},o.responses.push(s)),s.intResponse=r.intResponse?r.intResponse:0,s.currencyResponse=r.currencyResponse?r.currencyResponse:0,console.log("calculating footer",o.elementId),this.columns.forEach(u=>{"Currency"==o.elementType&&u.elementId==o.elementId&&(console.log("column caculation",u.elementId,o.elementId,o.responses),u.footerValue=this.formatMoney(o.responses.reduce((v,w)=>v+w.currencyResponse,0))),"Integer"==o.elementType&&u.elementId==o.elementId&&(u.footerValue=o.responses.reduce((v,w)=>v+w.intResponse,0).toString())})}}),console.log(this.applicationElements),console.log(this.columns),this.changeDetectorRef.markForCheck()}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(ee.eN),t.Y36(J.F0),t.Y36(J.gz),t.Y36(Se.u),t.Y36(vt.P),t.Y36(t.sBO),t.Y36(rt.s),t.Y36(q.c),t.Y36(Z.qu),t.Y36(d.H9))},l.\u0275cmp=t.Xpm({type:l,selectors:[["vex-view-element-table"]],inputs:{ApplicationId:"ApplicationId",ApplicationElement:"ApplicationElement"},decls:3,vars:4,consts:[[4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"table-fixed","text-sm","text-left","text-gray-500","dark:text-gray-400","striped","w-full"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col","class","py-4 px-6 font-extrabold",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col",1,"py-4","px-6","font-extrabold"],[4,"ngIf","ngIfThen","ngIfElse"],["labelColumn",""],["elseBlock",""],["scope","row",1,"pl-2","font-medium","dark:text-white",2,"min-width","200px","vertical-align","top"],[1,"pl-3",2,"min-width","200px","vertical-align","top"],[3,"ApplicationElement","ApplicationId","SectionId","formGroup","RowId","showLabel","Changed",4,"ngIf"],[3,"ApplicationElement","ApplicationId","SectionId","formGroup","RowId","showLabel","Changed"],["emptyColumn",""],["columnFooter",""],[1,"pl-3",2,"min-width","200px","vertical-align","top",3,"ngClass"],[1,"mb-4"],["mat-raised-button","","type","button",1,"bg-contrast-white","text-contrast-black",3,"click"]],template:function(r,o){1&r&&(t.YNc(0,ea,9,3,"div",0),t.ALo(1,"async"),t.YNc(2,li,3,0,"div",1)),2&r&&(t.Q6J("ngIf",t.lcZ(1,2,o.TableData$)),t.xp6(2),t.Q6J("ngIf",o.ApplicationElement.allowNewRows))},directives:[d.O5,d.sg,Zn,Z.JL,Z.sg,d.mk,Ot.oO,j.lW],pipes:[d.Ov],styles:[".vex-mail-header{height:56px}@media (min-width: 1280px){.vex-mail-header{height:200px}.vex-mail-header-overflow{height:64px}.vex-mail-content-overflow{margin-top:-64px}}.vex-mail-drawer{border:0!important}mat-form-field{width:100%}.isCurrencyFooter{text-align:right}\n"],encapsulation:2,data:{animation:[Ft,Ut]}}),l})();var ta=T(3199),ir=T(1748);const xe=["formGroup",""];function ci(l,h){if(1&l&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&l){const r=t.oxw();t.xp6(1),t.hij(" ",r.ApplicationElement.label,"\n")}}function on(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"a",5),t.NdJ("click",function(){const u=t.CHM(r).$implicit;return t.oxw().DownloadFile(u.FileId)}),t._uU(2),t.qZA(),t.qZA()}if(2&l){const r=h.$implicit;t.xp6(2),t.hij(" ",r.FileName,"")}}function rr(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"app-mathis-file-uploader",6),t.NdJ("UploadSuccess",function(s){return t.CHM(r),t.oxw().UploadSuccess(s)}),t.qZA(),t.qZA()}if(2&l){const r=t.oxw();t.xp6(1),t.Q6J("config",r.file_upload_config)}}let or=(()=>{class l{constructor(r,o,s,u,v,w,C,S,R){this.http=r,this.router=o,this.route=s,this.applicationsService=u,this.layoutService=v,this.controlContainer=w,this.changeDetectorRef=C,this.applicationSectionElementsService=S,this.applicationFileUploadService=R,this._rowId=-1,this.term$=new Ce.xQ,this.file_upload_config={API:"api/ApplicationFileUpload",is_multiple_selection_allowed:!0,data:null,elementId:0,rowId:0,applicationId:0},this.showLabel=!0,this.ElementTypeEnum=_e.H,this.isDesktop$=this.layoutService.isDesktop$,this.ltLg$=this.layoutService.ltLg$,this.runonce=!1,this.elementType=_e.H,this.fileName="",this.icMoreVert=le.Z,this.Changed=new t.vpe}get RowId(){return this._rowId}set RowId(r){this._rowId=r,this.file_upload_config.rowId=r}get SectionId(){return this._sectionId}set SectionId(r){this._sectionId=r}set ApplicationElement(r){this._applicationElement=r,this.file_upload_config.elementId=r.elementId}get ApplicationElement(){return this._applicationElement}set ApplicationId(r){this._applicationId=r,this.file_upload_config.applicationId=r}get ApplicationId(){return this._applicationId}ngOnInit(){this.form=this.controlContainer.control,this.ApplicationElement&&!1===this.runonce&&(this.InitElement(),this.runonce=!0)}ngAfterViewInit(){}ngAfterViewChecked(){}InitElement(){console.log("initElement",this.ApplicationElement),this.ApplicationElement.isRequired&&[].push(Z.kI.required),this.ApplicationElement.responses.find(s=>s.rowId===this.RowId)}ngOnDestroy(){this.textboxChange&&(this.textboxChange.unsubscribe(),this.textboxChange=null)}UploadSuccess(r){console.log("UploadSuccess",r),(this.ApplicationElement.responses&&1===this.ApplicationElement.responses.length?this.ApplicationElement.responses[0]:null).longTextResponse=r,this.changeDetectorRef.detectChanges()}GetElementResponseValue(){const r=this.ApplicationElement.responses&&1===this.ApplicationElement.responses.length?this.ApplicationElement.responses[0]:null;return r?""!==r.longTextResponse?JSON.parse(r.longTextResponse):[]:null}DownloadFile(r){console.log(`downloading ${r}`),this.applicationFileUploadService.apiApplicationFileUploadApplicationIdElementIdRowIdDownloadGet(this.ApplicationId,this.ApplicationElement.elementId,this.RowId,r).subscribe(o=>{console.log("sas URL",o),window.saveAs(o,r)})}formControlName(){return`${this.ApplicationElement.elementId}-${this.ApplicationElement.shortName}-${this.RowId}`}GetElementWidth(){return this.ApplicationElement.width?this.ApplicationElement.width:null}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(ee.eN),t.Y36(J.F0),t.Y36(J.gz),t.Y36(Se.u),t.Y36(vt.P),t.Y36(Z.gN),t.Y36(t.sBO),t.Y36(q.c),t.Y36(ta.m))},l.\u0275cmp=t.Xpm({type:l,selectors:[["view-element-fileattachment","formGroup",""],["view-element-fileattachment","formGroupName",""]],inputs:{RowId:"RowId",SectionId:"SectionId",ApplicationElement:"ApplicationElement",showLabel:"showLabel",ApplicationId:"ApplicationId",requiredFileType:"requiredFileType"},outputs:{Changed:"Changed"},attrs:xe,decls:6,vars:3,consts:[["class","outside-form-label",4,"ngIf"],[1,"pl-4"],[4,"ngFor","ngForOf"],["class","pl-4",4,"ngIf"],[1,"outside-form-label"],[1,"downloadFileLink",3,"click"],[3,"config","UploadSuccess"]],template:function(r,o){1&r&&(t.YNc(0,ci,2,1,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"b"),t._uU(3,"Files"),t.qZA(),t.YNc(4,on,3,1,"div",2),t.qZA(),t.YNc(5,rr,2,1,"div",3)),2&r&&(t.Q6J("ngIf",o.showLabel),t.xp6(4),t.Q6J("ngForOf",o.GetElementResponseValue()),t.xp6(1),t.Q6J("ngIf",0==o.ApplicationElement.readonly))},directives:[d.O5,d.sg,ir.J],styles:[".vex-mail-header{height:56px}@media (min-width: 1280px){.vex-mail-header{height:200px}.vex-mail-header-overflow{height:64px}.vex-mail-content-overflow{margin-top:-64px}}.vex-mail-drawer{border:0!important}.mat-form-field-appearance-fill .mat-form-field-flex{padding:0 .2em,0 .2em}.mat-form-field:not(.mat-form-field-has-label) .mat-form-field-infix{border-top-width:0}.downloadFileLink{cursor:pointer;color:purple;text-decoration:underline}\n"],encapsulation:2,data:{animation:[Ft,Ut]}}),l})();const na=["vexScrollbar"];function ia(l,h){if(1&l&&(t.ynx(0),t._UZ(1,"vex-view-element-table",14),t.BQk()),2&l){const r=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ApplicationId",o.applicationId)("formGroup",o.form)("ApplicationElement",r)}}function ra(l,h){if(1&l&&t._UZ(0,"view-element-fileattachment",15),2&l){const r=t.oxw().$implicit,o=t.oxw(2);t.Q6J("ApplicationElement",r)("ApplicationId",o.applicationId)("SectionId",o.sectionId)("formGroup",o.form)("RowId",0)}}function oa(l,h){if(1&l&&t._UZ(0,"view-element",15),2&l){const r=t.oxw().$implicit,o=t.oxw(2);t.Q6J("ApplicationElement",r)("ApplicationId",o.applicationId)("SectionId",o.sectionId)("formGroup",o.form)("RowId",0)}}function aa(l,h){if(1&l&&(t.TgZ(0,"div",9),t.TgZ(1,"div",10),t.YNc(2,ia,2,3,"ng-container",11),t.YNc(3,ra,1,5,"view-element-fileattachment",12),t.YNc(4,oa,1,5,"view-element",13),t.qZA(),t.qZA()),2&l){const r=h.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",r.elementType),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Table),t.xp6(1),t.Q6J("ngSwitchCase",o.elementType.Attachment)}}function Qt(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){return t.CHM(r),t.oxw(3).goPrevious()}),t._uU(1," Previous "),t.qZA()}}function la(l,h){1&l&&t.GkF(0)}function sa(l,h){1&l&&t._uU(0,"Complete Section")}function ui(l,h){1&l&&t._uU(0,"Next")}function ar(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(r);const s=t.oxw().ngIf;return t.oxw(2).goNext(s.value)}),t.YNc(1,la,1,0,"ng-container",22),t.YNc(2,sa,1,0,"ng-template",null,23,t.W1O),t.YNc(4,ui,1,0,"ng-template",null,24,t.W1O),t.qZA()}if(2&l){const r=t.MAs(3),o=t.MAs(5),s=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",s.value)("ngIfThen",o)("ngIfElse",r)}}function ft(l,h){if(1&l){const r=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){return t.CHM(r),t.oxw(3).showSubmitApplication()}),t._uU(1," Submit Application "),t.qZA()}}function Rn(l,h){if(1&l&&(t.TgZ(0,"div",16),t.YNc(1,Qt,2,0,"button",17),t.YNc(2,ar,6,3,"button",18),t.YNc(3,ft,2,0,"button",19),t.qZA()),2&l){const r=h.ngIf,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!1===o.isFirst),t.xp6(1),t.Q6J("ngIf",!1===o.isLast),t.xp6(1),t.Q6J("ngIf",!0===o.isLast&&!1===r.value)}}const ca=function(l){return{value:l}};function ua(l,h){if(1&l&&(t.TgZ(0,"div",1),t.TgZ(1,"vex-scrollbar",2,3),t.TgZ(3,"div",4),t.TgZ(4,"form",5),t.TgZ(5,"div",6),t.YNc(6,aa,5,3,"div",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(7,Rn,4,3,"div",8),t.ALo(8,"async"),t.qZA()),2&l){const r=h.ngIf,o=t.oxw();t.xp6(1),t.Akn("height: "+o.availableHeight+"px"),t.xp6(3),t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("@fadeInUp",void 0),t.xp6(1),t.Q6J("ngForOf",r),t.xp6(1),t.Q6J("ngIf",t.VKq(8,ca,t.lcZ(8,6,o.isReadonly$)))}}let lr=(()=>{class l{constructor(r,o,s,u,v,w,C,S,R,We,Re,K,an){this.http=r,this.router=o,this.route=s,this.applicationsService=u,this.layoutService=v,this.dialog=w,this.applicationSectionService=C,this.applicationSectionElementsService=S,this.fb=R,this.applicationService=We,this._snackBar=Re,this.scroll=K,this.isLoadingService=an,this.ColumnMode=re.hq,this.isFirst=!1,this.isLast=!1,this.elementType=ke.Hd,this.form=this.fb.group({}),this.availableHeight=0,this.offsetHeight=250,this._applicationElements=new ge.X(null),this.applicationElements$=this._applicationElements.asObservable(),this._isReadonly=new ge.X(!1),this.isReadonly$=this._isReadonly.asObservable(),this.isDesktop$=this.layoutService.isDesktop$,this.ltLg$=this.layoutService.ltLg$,this.drawerMode$=this.isDesktop$.pipe((0,ce.U)(da=>da?"side":"over")),this.drawerOpen=!0,this.searchCtrl=new Z.NI,this.icMail=_n.Z,this.icSearch=Cn.Z,this.icEdit=nn.Z,this.icMenu=kn.Z,this.unsubscribe=new Ce.xQ,this.icMoreVert=le.Z}onScroll(r){this.pageYoffset=window.pageYOffset}ngOnInit(){this.calculateSize(),this.parametersSubscription=this.route.paramMap.subscribe(r=>{let o=r.get("id");o&&(this.applicationId=Number(o),console.log(`application Id - ${this.applicationId}`));let s=r.get("sectionId");s&&(this.sectionId=Number(s),console.log(`section Id - ${this.sectionId}`)),this.applicationId&&this.sectionId&&(this.applicationService.Sections$.subscribe(u=>{if(this.applicationSections=u,u&&u.length>0){const v=u[0],w=u[u.length-1],C=this.applicationSections.findIndex(S=>S.applicationSectionId===this.sectionId);this.isFirst=v.applicationSectionId===this.sectionId,v.applicationSectionId!==this.sectionId&&(this.PreviousSectionId=this.applicationSections[C-1].applicationSectionId),this.isLast=w.applicationSectionId===this.sectionId,w.applicationSectionId!==this.sectionId&&(this.NextSectionId=this.applicationSections[C+1].applicationSectionId)}}),this.scrollToTop(),this.applicationService.setActiveSection(this.sectionId),this.resetForm(),this.getApplicationSectionElements(this.applicationId,this.sectionId))})}scrollToTop(){this.scroll.scrollToPosition([0,0]),this.vexScrollbar&&this.vexScrollbar.scrollbarRef&&(this.vexScrollbar.scrollbarRef.getScrollElement().scrollTop=0)}calculateSize(){this.availableHeight=window.innerHeight-this.offsetHeight}onResize(r){this.calculateSize()}resetForm(){Object.keys(this.form.controls).forEach(r=>{this.form.removeControl(r)})}goNext(r){0==r?this.isSectionValid()&&(console.log("go next ",this.NextSectionId),this.applicationService.CompleteSection(this.sectionId,this.applicationId,!0),this.router.navigateByUrl(`/applications/details/${this.applicationId}/${this.NextSectionId}`)):this.router.navigateByUrl(`/applications/details/${this.applicationId}/${this.NextSectionId}`)}goPrevious(){console.log("go previous ",this.PreviousSectionId),this.router.navigateByUrl(`/applications/details/${this.applicationId}/${this.PreviousSectionId}`)}showSubmitApplication(){this.isSectionValid()&&this.isApplicationValid()&&this.dialog.open($,{data:this.applicationId,width:"600px"})}isApplicationValid(){let r=this.applicationService.allSectionsCompleted();return!1===r&&this.openSnackBar("Please complete all sections","Close",15e3),r}isSectionValid(){let r=!1;var o=this._applicationElements.getValue(),s=!0;if(this.form.valid){if(o.forEach(u=>{u.elementType===ke.Hd.Attachment&&u.isRequired&&0===u.responses.length&&(s=!1)}),this.form.valid&&s)r=!0,this.applicationService.CompleteSection(this.sectionId,this.applicationId,!0);else{let u="Please complete all required fields";s||(u+=" and upload all required attachments"),this.openSnackBar(u,"Close",15e3),console.log("%c ==>> Validation Errors: ","color: red; font-weight: bold; font-size:25px;");let v=0;Object.keys(this.form.controls).forEach(w=>{const C=this.form.get(w).errors;null!=C&&(this.form.controls[w].markAsTouched(),v++,Object.keys(C).forEach(S=>{console.log("Key control: "+w+", keyError: "+S+", err value: ",C[S])}))}),this.applicationService.CompleteSection(this.sectionId,this.applicationId,!1),console.log("Number of errors: ",v)}return r}}openSnackBar(r,o,s=3e3){this._snackBar.open(r,o,{duration:s})}getApplicationSectionElements(r,o){console.log("getApplicationSections"),this.isLoadingService.add({key:"appElements"}),this.applicationSectionElementsService.apiApplicationSectionElementsApplicationIdSectionSectionIdGet(r,o).subscribe(s=>{console.log(s),this._applicationElements.next(s),s.length>0&&this._isReadonly.next(s[0].readonly),this.isLoadingService.remove({key:"appElements"})})}}return l.\u0275fac=function(r){return new(r||l)(t.Y36(ee.eN),t.Y36(J.F0),t.Y36(J.gz),t.Y36(Se.u),t.Y36(vt.P),t.Y36(de.uw),t.Y36(rt.s),t.Y36(q.c),t.Y36(Z.qu),t.Y36(zn),t.Y36(gn.ux),t.Y36(d.EM),t.Y36(he.RI))},l.\u0275cmp=t.Xpm({type:l,selectors:[["vex-view-application-section"]],viewQuery:function(r,o){if(1&r&&t.Gf(na,5),2&r){let s;t.iGM(s=t.CRH())&&(o.vexScrollbar=s.first)}},hostBindings:function(r,o){1&r&&t.NdJ("scroll",function(u){return o.onScroll(u)},!1,t.Jf7)("resize",function(u){return o.onResize(u)},!1,t.Jf7)},decls:2,vars:3,consts:[["class","w-full h-full flex flex-col","vexContainer","",4,"ngIf"],["vexContainer","",1,"w-full","h-full","flex","flex-col"],[1,"p-4","flex-auto"],["vexScrollbar",""],["fxLayout","row","fxLayout.lt-md","column","fxLayoutGap","20px"],["novalidate","",2,"min-height","500px",3,"formGroup"],[1,"p-4"],["fxLayout","column",4,"ngFor","ngForOf"],["class","pr-4 pb-4 bg-app-bar border-t text-right pt-2",4,"ngIf"],["fxLayout","column"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ApplicationElement","ApplicationId","SectionId","formGroup","RowId",4,"ngSwitchCase"],[3,"ApplicationElement","ApplicationId","SectionId","formGroup","RowId",4,"ngSwitchDefault"],[3,"ApplicationId","formGroup","ApplicationElement"],[3,"ApplicationElement","ApplicationId","SectionId","formGroup","RowId"],[1,"pr-4","pb-4","bg-app-bar","border-t","text-right","pt-2"],["color","primary","mat-button","","type","button",3,"click",4,"ngIf"],["color","primary","mat-button","","type","submit",3,"click",4,"ngIf"],["color","primary","mat-raised-button","","type","submit",3,"click",4,"ngIf"],["color","primary","mat-button","","type","button",3,"click"],["color","primary","mat-button","","type","submit",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["completeSection",""],["nextSection",""],["color","primary","mat-raised-button","","type","submit",3,"click"]],template:function(r,o){1&r&&(t.YNc(0,ua,9,10,"div",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,o.applicationElements$))},directives:[d.O5,tn.x,me.xw,me.SQ,Z._Y,Z.JL,Z.sg,d.sg,d.RF,d.n9,d.ED,si,or,Zn,j.lW],pipes:[d.Ov],styles:[".vex-mail-header{height:56px}@media (min-width: 1280px){.vex-mail-header{height:200px}.vex-mail-header-overflow{height:64px}.vex-mail-content-overflow{margin-top:-64px}}.vex-mail-drawer{border:0!important}mat-form-field{width:100%}\n"],encapsulation:2,data:{animation:[Ft,Ut,bn.$]}}),l})();const Yt=[{path:"",component:Li,data:{toolbarShadowEnabled:!0,scrollDisabled:!0}},{path:"reports",component:Ro,data:{toolbarShadowEnabled:!0,scrollDisabled:!0}},{path:"details/:id",component:qo,children:[{path:"",component:lr},{path:":sectionId",component:lr}]}];let Ye=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[J.Bz.forChild(Yt)],J.Bz,en.d8]}),l})();var sr=T(4842),pa=T(1465),fa=T(7884);let ha=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({providers:[d.H9],imports:[[d.ez,Ye,et.QX,he.gP,Ci.o9,j.ot,Ue.t,pa.K,ie.lN,X.J,sr.Y,st,Be.Cv,kt.SJ,ye.c,tt.Fk,qn.Nh,fa.H,mt.LD,Z.u5,gn.ZX,He.XK,Z.UX,re.xD,de.Is,$e.FA,Mt.Bb,kr.p0]]}),l})()}}]);